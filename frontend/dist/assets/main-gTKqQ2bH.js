var e,t,n=Object.defineProperty,r=(e,t,r)=>((e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var s,a,o={exports:{}},l={};var c,u,d=(a||(a=1,o.exports=function(){if(s)return l;s=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var s in r={},n)"key"!==s&&(r[s]=n[s]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return l.Fragment=t,l.jsx=n,l.jsxs=n,l}()),o.exports),h={exports:{}},f={};function p(){if(c)return f;c=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,m(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function S(t,n,r,i,s,a){return r=a.ref,{$$typeof:e,type:t,key:n,ref:void 0!==r?r:null,props:a}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var E=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function N(){}function I(n,r,i,s,a){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l,c,u=!1;if(null===n)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case e:case t:u=!0;break;case d:return I((u=n._init)(n._payload),r,i,s,a)}}if(u)return a=a(n),u=""===s?"."+T(n,0):s,w(a)?(i="",null!=u&&(i=u.replace(E,"$&/")+"/"),I(a,r,i,"",function(e){return e})):null!=a&&(C(a)&&(l=a,c=i+(null==a.key||n&&n.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+u,a=S(l.type,c,void 0,0,0,l.props)),r.push(a)),1;u=0;var f,p=""===s?".":s+":";if(w(n))for(var m=0;m<n.length;m++)u+=I(s=n[m],r,i,o=p+T(s,m),a);else if("function"==typeof(m=null===(f=n)||"object"!=typeof f?null:"function"==typeof(f=h&&f[h]||f["@@iterator"])?f:null))for(n=m.call(n),m=0;!(s=n.next()).done;)u+=I(s=s.value,r,i,o=p+T(s,m++),a);else if("object"===o){if("function"==typeof n.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,s,a);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return u}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}return f.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},f.Component=y,f.Fragment=n,f.Profiler=i,f.PureComponent=b,f.StrictMode=r,f.Suspense=l,f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,f.act=function(){throw Error("act(...) is not supported in production builds of React.")},f.cache=function(e){return function(){return e.apply(null,arguments)}},f.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return S(e.type,i,void 0,0,0,r)},f.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},f.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return S(e,s,void 0,0,0,i)},f.createRef=function(){return{current:null}},f.forwardRef=function(e){return{$$typeof:o,render:e}},f.isValidElement=C,f.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},f.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},f.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(O,P)}catch(s){P(s)}finally{x.T=t}},f.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},f.use=function(e){return x.H.use(e)},f.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},f.useCallback=function(e,t){return x.H.useCallback(e,t)},f.useContext=function(e){return x.H.useContext(e)},f.useDebugValue=function(){},f.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},f.useEffect=function(e,t){return x.H.useEffect(e,t)},f.useId=function(){return x.H.useId()},f.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},f.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},f.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},f.useMemo=function(e,t){return x.H.useMemo(e,t)},f.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},f.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},f.useRef=function(e){return x.H.useRef(e)},f.useState=function(e){return x.H.useState(e)},f.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},f.useTransition=function(){return x.H.useTransition()},f.version="19.0.0",f}function m(){return u||(u=1,h.exports=p()),h.exports}var g=m();const y=i(g);var v,b,_={exports:{}},w={},x={exports:{}},k={};function S(){return b||(b=1,x.exports=(v||(v=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function _(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,j();else{var t=n(c);null!==t&&A(_,t.startTime-e)}}var w,x=!1,k=-1,S=5,C=-1;function E(){return!(e.unstable_now()-C<S)}function T(){if(x){var t=e.unstable_now();C=t;var i=!0;try{e:{p=!1,m&&(m=!1,y(k),k=-1),f=!0;var s=h;try{t:{for(b(t),d=n(l);null!==d&&!(d.expirationTime>t&&E());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var o=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,b(t),i=!0;break t}d===n(l)&&r(l),b(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var u=n(c);null!==u&&A(_,u.startTime-t),i=!1}}break e}finally{d=null,h=s,f=!1}i=void 0}}finally{i?w():x=!1}}}if("function"==typeof v)w=function(){v(T)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,I=N.port2;N.port1.onmessage=T,w=function(){I.postMessage(null)}}else w=function(){g(T,0)};function j(){x||(x=!0,w())}function A(t,n){k=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,j())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,s){var a=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(r.sortIndex=s,t(c,r),null===n(l)&&r===n(c)&&(m?(y(k),k=-1):m=!0,A(_,s-a))):(r.sortIndex=o,t(l,r),p||f||(p=!0,j())),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(k)),k)),x.exports}var C,E,T,N,I={exports:{}},j={};function A(){if(C)return j;C=1;var e=m();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return j.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,j.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},j.flushSync=function(e){var t=s.T,n=r.p;try{if(s.T=null,r.p=2,e)return e()}finally{s.T=t,r.p=n,r.d.f()}},j.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},j.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},j.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin),s="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:o}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},j.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=a(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},j.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},j.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=a(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},j.requestFormReset=function(e){r.d.r(e)},j.unstable_batchedUpdates=function(e,t){return e(t)},j.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},j.useFormStatus=function(){return s.H.useHostTransitionStatus()},j.version="19.0.0",j}function P(){if(E)return I.exports;return E=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),I.exports=A(),I.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function O(){if(T)return w;T=1;var e=S(),t=m(),n=P();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var s=Symbol.for("react.element"),a=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),x=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=k&&e[k]||e["@@iterator"])?e:null}var E=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===E?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case o:return"Portal";case u:return"Profiler";case c:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Provider";case h:return(e._context.displayName||"Context")+".Consumer";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var I,j,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign;function D(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||"",j=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+I+e+j}var L=!1;function R(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{L=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?D(n):""}function M(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function z(e){try{var t="";do{t+=M(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function U(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function B(e){if(F(e)!==e)throw Error(r(188))}function $(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=$(e)))return t;e=e.sibling}return null}var q=Array.isArray,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},W=[],G=-1;function K(e){return{current:e}}function Q(e){0>G||(e.current=W[G],W[G]=null,G--)}function Y(e,t){G++,W[G]=e.current,e.current=t}var X=K(null),J=K(null),Z=K(null),ee=K(null);function te(e,t){switch(Y(Z,t),Y(J,e),Y(X,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Ju(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Zu(e=Ju(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(X),Y(X,t)}function ne(){Q(X),Q(J),Q(Z)}function re(e){null!==e.memoizedState&&Y(ee,e);var t=X.current,n=Zu(t,e.type);t!==n&&(Y(J,e),Y(X,n))}function ie(e){J.current===e&&(Q(X),Q(J)),ee.current===e&&(Q(ee),zd._currentValue=H)}var se=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,oe=e.unstable_cancelCallback,le=e.unstable_shouldYield,ce=e.unstable_requestPaint,ue=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,he=e.unstable_ImmediatePriority,fe=e.unstable_UserBlockingPriority,pe=e.unstable_NormalPriority,me=e.unstable_LowPriority,ge=e.unstable_IdlePriority,ye=e.log,ve=e.unstable_setDisableYieldValue,be=null,_e=null;function we(e){if("function"==typeof ye&&ve(e),_e&&"function"==typeof _e.setStrictMode)try{_e.setStrictMode(be,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ke(e)/Se|0)|0},ke=Math.log,Se=Math.LN2;var Ce=128,Ee=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=Te(n):0!==(s&=o)?r=Te(s):e||0!==(a=o&~a)&&(r=Te(a)):0!==(o=n&~i)?r=Te(o):0!==s?r=Te(s):e||0!==(a=n&~a)&&(r=Te(a)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||32===i&&4194176&a)?t:r}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Ce;return!(4194176&(Ce<<=1))&&(Ce=128),e}function Pe(){var e=Ee;return!(62914560&(Ee<<=1))&&(Ee=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Me(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function ze(){var e=V.p;return 0!==e?e:void 0===(e=window.event)?32:Zd(e.type)}var Fe=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Fe,Be="__reactProps$"+Fe,$e="__reactContainer$"+Fe,qe="__reactEvents$"+Fe,Ve="__reactListeners$"+Fe,He="__reactHandles$"+Fe,We="__reactResources$"+Fe,Ge="__reactMarker$"+Fe;function Ke(e){delete e[Ue],delete e[Be],delete e[qe],delete e[Ve],delete e[He]}function Qe(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$e]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ud(e);null!==e;){if(n=e[Ue])return n;e=ud(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[Ue]||e[$e]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Je(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Ge]=!0}var et=new Set,tt={};function nt(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(tt[e]=t,e=0;e<t.length;e++)et.add(t[e])}var it=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(i=t,se.call(ot,i)||!se.call(at,i)&&(st.test(i)?ot[i]=!0:(at[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?_t(e,a,dt(t)):null!=n?_t(e,a,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function _t(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(q(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Et(e,s,i)}else for(var a in t)t.hasOwnProperty(a)&&Et(e,a,t[a])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Lt=null;function Rt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Be]||null;if(!s)throw Error(r(90));vt(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&pt(i)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Mt=!1;function zt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Dt||null!==Lt)&&(Uc(),Dt&&(t=Dt,e=Lt,Lt=Dt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Be]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ut=!1;if(it)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(kh){Ut=!1}var $t=null,qt=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=qt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Vt=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function Qt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Xt,Jt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},en=Qt(Zt),tn=O({},Zt,{view:0,detail:0}),nn=Qt(tn),rn=O({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Yt=e.screenX-Jt.screenX,Xt=e.screenY-Jt.screenY):Xt=Yt=0,Jt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),sn=Qt(rn),an=Qt(O({},rn,{dataTransfer:0})),on=Qt(O({},tn,{relatedTarget:0})),ln=Qt(O({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Qt(O({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Qt(O({},Zt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function mn(){return pn}var gn=Qt(O({},tn,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Qt(O({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Qt(O({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),bn=Qt(O({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Qt(O({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Qt(O({},Zt,{newState:0,oldState:0})),xn=[9,13,27,32],kn=it&&"CompositionEvent"in window,Sn=null;it&&"documentMode"in document&&(Sn=document.documentMode);var Cn=it&&"TextEvent"in window&&!Sn,En=it&&(!kn||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),Nn=!1;function In(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Dn(e,t,n,r){Dt?Lt?Lt.push(r):Lt=[r]:Dt=r,0<(t=zu(t,"onChange")).length&&(n=new en("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Rn=null;function Mn(e){ju(e,0)}function zn(e){if(pt(Xe(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(it){var Bn;if(it){var $n="oninput"in document;if(!$n){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),$n="function"==typeof qn.oninput}Bn=$n}else Bn=!1;Un=Bn&&(!document.documentMode||9<document.documentMode)}function Vn(){Ln&&(Ln.detachEvent("onpropertychange",Hn),Rn=Ln=null)}function Hn(e){if("value"===e.propertyName&&zn(Rn)){var t=[];Dn(t,Rn,e,Ot(e)),zt(Mn,t)}}function Wn(e,t,n){"focusin"===e?(Vn(),Rn=n,(Ln=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Rn)}function Kn(e,t){if("click"===e)return zn(t)}function Qn(e,t){if("input"===e||"change"===e)return zn(t)}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!se.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function er(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?er(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function rr(e,t){var n=tr(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&er(t.ownerDocument.documentElement,t)){if(null!==r&&nr(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Zn(t,s);var a=Zn(t,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ir=it&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,or=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Xn(or,r)||(or=r,0<(r=zu(ar,"onSelect")).length&&(t=new en("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function pr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}it&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var mr=pr("animationend"),gr=pr("animationiteration"),yr=pr("animationstart"),vr=pr("transitionrun"),br=pr("transitionstart"),_r=pr("transitioncancel"),wr=pr("transitionend"),xr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(e,t){xr.set(e,t),nt(t,[e])}var Cr=[],Er=0,Tr=0;function Nr(){for(var e=Er,t=Tr=Er=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Pr(n,i,s)}}function Ir(e,t,n,r){Cr[Er++]=e,Cr[Er++]=t,Cr[Er++]=n,Cr[Er++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,t,n,r){return Ir(e,t,n,r),Or(e)}function Ar(e,t){return Ir(e,null,null,t),Or(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;i&&null!==t&&3===e.tag&&(s=e.stateNode,i=31-xe(n),null===(e=(s=s.hiddenUpdates)[i])?s[i]=[t]:e.push(t),t.lane=536870912|n)}function Or(e){if(50<jc)throw jc=0,Ac=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={},Lr=new WeakMap;function Rr(e,t){if("object"==typeof e&&null!==e){var n=Lr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:z(t)},Lr.set(e,t),t)}return{value:e,source:t,stack:z(t)}}var Mr=[],zr=0,Fr=null,Ur=0,Br=[],$r=0,qr=null,Vr=1,Hr="";function Wr(e,t){Mr[zr++]=Ur,Mr[zr++]=Fr,Fr=e,Ur=t}function Gr(e,t,n){Br[$r++]=Vr,Br[$r++]=Hr,Br[$r++]=qr,qr=e;var r=Vr;e=Hr;var i=32-xe(r)-1;r&=~(1<<i),n+=1;var s=32-xe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Vr=1<<32-xe(t)+i|n<<i|r,Hr=s+e}else Vr=1<<s|n<<i|r,Hr=e}function Kr(e){null!==e.return&&(Wr(e,1),Gr(e,1,0))}function Qr(e){for(;e===Fr;)Fr=Mr[--zr],Mr[zr]=null,Ur=Mr[--zr],Mr[zr]=null;for(;e===qr;)qr=Br[--$r],Br[$r]=null,Hr=Br[--$r],Br[$r]=null,Vr=Br[--$r],Br[$r]=null}var Yr=null,Xr=null,Jr=!1,Zr=null,ei=!1,ti=Error(r(519));function ni(e){throw oi(Rr(Error(r(418,"")),e)),ti}function ri(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[Be]=r,n){case"dialog":Au("cancel",t),Au("close",t);break;case"iframe":case"object":case"embed":Au("load",t);break;case"video":case"audio":for(n=0;n<Nu.length;n++)Au(Nu[n],t);break;case"source":Au("error",t);break;case"img":case"image":case"link":Au("error",t),Au("load",t);break;case"details":Au("toggle",t);break;case"input":Au("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Au("invalid",t);break;case"textarea":Au("invalid",t),kt(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Vu(t.textContent,n)?(null!=r.popover&&(Au("beforetoggle",t),Au("toggle",t)),null!=r.onScroll&&Au("scroll",t),null!=r.onScrollEnd&&Au("scrollend",t),null!=r.onClick&&(t.onclick=Hu),t=!0):t=!1,t||ni(e)}function ii(e){for(Yr=e.return;Yr;)switch(Yr.tag){case 3:case 27:return void(ei=!0);case 5:case 13:return void(ei=!1);default:Yr=Yr.return}}function si(e){if(e!==Yr)return!1;if(!Jr)return ii(e),Jr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ed(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Xr&&ni(e),ii(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Xr=cd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Xr=null}}else Xr=Yr?cd(e.stateNode.nextSibling):null;return!0}function ai(){Xr=Yr=null,Jr=!1}function oi(e){null===Zr?Zr=[e]:Zr.push(e)}var li=Error(r(460)),ci=Error(r(474)),ui={then:function(){}};function di(e){return"fulfilled"===(e=e.status)||"rejected"===e}function hi(){}function fi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(hi,hi),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===li)throw Error(r(483));throw e;default:if("string"==typeof t.status)t.then(hi,hi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===li)throw Error(r(483));throw e}throw pi=t,li}}var pi=null;function mi(){if(null===pi)throw Error(r(459));var e=pi;return pi=null,e}var gi=null,yi=0;function vi(e){var t=yi;return yi+=1,null===gi&&(gi=[]),fi(gi,e,t)}function bi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function _i(e,t){if(t.$$typeof===s)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function c(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=Vl(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n,r){var i=n.type;return i===l?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===b&&wi(i)===t.type)?(bi(t=s(t,n.props),n),t.return=e,t):(bi(t=Bl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function p(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function m(e,t,n,r,i){return null===t||7!==t.tag?((t=$l(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function g(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Vl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case a:return bi(n=Bl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case o:return(t=Hl(t,e.mode,n)).return=e,t;case b:return g(e,t=(0,t._init)(t._payload),n)}if(q(t)||C(t))return(t=$l(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return g(e,vi(t),n);if(t.$$typeof===f)return g(e,No(e,t),n);_i(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:d(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case a:return n.key===i?h(e,t,n,r):null;case o:return n.key===i?p(e,t,n,r):null;case b:return y(e,t,n=(i=n._init)(n._payload),r)}if(q(n)||C(n))return null!==i?null:m(e,t,n,r,null);if("function"==typeof n.then)return y(e,t,vi(n),r);if(n.$$typeof===f)return y(e,t,No(e,n),r);_i(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case a:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case o:return p(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(q(r)||C(r))return m(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return v(e,t,n,vi(r),i);if(r.$$typeof===f)return v(e,t,n,No(t,r),i);_i(t,r)}return null}function _(d,h,p,m){if("object"==typeof p&&null!==p&&p.type===l&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case a:e:{for(var w=p.key;null!==h;){if(h.key===w){if((w=p.type)===l){if(7===h.tag){n(d,h.sibling),(m=s(h,p.props.children)).return=d,d=m;break e}}else if(h.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===b&&wi(w)===h.type){n(d,h.sibling),bi(m=s(h,p.props),p),m.return=d,d=m;break e}n(d,h);break}t(d,h),h=h.sibling}p.type===l?((m=$l(p.props.children,d.mode,m,p.key)).return=d,d=m):(bi(m=Bl(p.type,p.key,p.props,null,d.mode,m),p),m.return=d,d=m)}return u(d);case o:e:{for(w=p.key;null!==h;){if(h.key===w){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(d,h.sibling),(m=s(h,p.children||[])).return=d,d=m;break e}n(d,h);break}t(d,h),h=h.sibling}(m=Hl(p,d.mode,m)).return=d,d=m}return u(d);case b:return _(d,h,p=(w=p._init)(p._payload),m)}if(q(p))return function(r,s,a,o){for(var l=null,u=null,d=s,h=s=0,f=null;null!==d&&h<a.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=y(r,d,a[h],o);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(r,d),s=c(p,s,h),null===u?l=p:u.sibling=p,u=p,d=f}if(h===a.length)return n(r,d),Jr&&Wr(r,h),l;if(null===d){for(;h<a.length;h++)null!==(d=g(r,a[h],o))&&(s=c(d,s,h),null===u?l=d:u.sibling=d,u=d);return Jr&&Wr(r,h),l}for(d=i(d);h<a.length;h++)null!==(f=v(d,r,h,a[h],o))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),s=c(f,s,h),null===u?l=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),Jr&&Wr(r,h),l}(d,h,p,m);if(C(p)){if("function"!=typeof(w=C(p)))throw Error(r(150));return function(s,a,o,l){if(null==o)throw Error(r(151));for(var u=null,d=null,h=a,f=a=0,p=null,m=o.next();null!==h&&!m.done;f++,m=o.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=y(s,h,m.value,l);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(s,h),a=c(b,a,f),null===d?u=b:d.sibling=b,d=b,h=p}if(m.done)return n(s,h),Jr&&Wr(s,f),u;if(null===h){for(;!m.done;f++,m=o.next())null!==(m=g(s,m.value,l))&&(a=c(m,a,f),null===d?u=m:d.sibling=m,d=m);return Jr&&Wr(s,f),u}for(h=i(h);!m.done;f++,m=o.next())null!==(m=v(h,s,f,m.value,l))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),a=c(m,a,f),null===d?u=m:d.sibling=m,d=m);return e&&h.forEach(function(e){return t(s,e)}),Jr&&Wr(s,f),u}(d,h,p=w.call(p),m)}if("function"==typeof p.then)return _(d,h,vi(p),m);if(p.$$typeof===f)return _(d,h,No(d,p),m);_i(d,p)}return"string"==typeof p&&""!==p||"number"==typeof p||"bigint"==typeof p?(p=""+p,null!==h&&6===h.tag?(n(d,h.sibling),(m=s(h,p)).return=d,d=m):(n(d,h),(m=Vl(p,d.mode,m)).return=d,d=m),u(d)):n(d,h)}return function(e,t,n,r){try{yi=0;var i=_(e,t,n,r);return gi=null,i}catch(a){if(a===li)throw a;var s=Ml(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var ki=xi(!0),Si=xi(!1),Ci=K(null),Ei=K(0);function Ti(e,t){Y(Ei,e=dc),Y(Ci,t),dc=e|t.baseLanes}function Ni(){Y(Ei,dc),Y(Ci,Ci.current)}function Ii(){dc=Ei.current,Q(Ci),Q(Ei)}var ji=K(null),Ai=null;function Pi(e){var t=e.alternate;Y(Ri,1&Ri.current),Y(ji,e),null===Ai&&(null===t||null!==Ci.current||null!==t.memoizedState)&&(Ai=e)}function Oi(e){if(22===e.tag){if(Y(Ri,Ri.current),Y(ji,e),null===Ai){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ai=e)}}else Di()}function Di(){Y(Ri,Ri.current),Y(ji,ji.current)}function Li(e){Q(ji),Ai===e&&(Ai=null),Q(Ri)}var Ri=K(0);function Mi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fi=e.unstable_scheduleCallback,Ui=e.unstable_NormalPriority,Bi={$$typeof:f,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $i(){return{controller:new zi,data:new Map,refCount:0}}function qi(e){e.refCount--,0===e.refCount&&Fi(Ui,function(){e.controller.abort()})}var Vi=null,Hi=0,Wi=0,Gi=null;function Ki(){if(0===--Hi&&null!==Vi){null!==Gi&&(Gi.status="fulfilled");var e=Vi;Vi=null,Wi=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qi=A.S;A.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Vi){var n=Vi=[];Hi=0,Wi=ku(),Gi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Ki,Ki)}(0,t),null!==Qi&&Qi(e,t)};var Yi=K(null);function Xi(){var e=Yi.current;return null!==e?e:rc.pooledCache}function Ji(e,t){Y(Yi,null===t?Yi.current:t.pool)}function Zi(){var e=Xi();return null===e?null:{parent:Bi._currentValue,pool:e}}var es=0,ts=null,ns=null,rs=null,is=!1,ss=!1,as=!1,os=0,ls=0,cs=null,us=0;function ds(){throw Error(r(321))}function hs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function fs(e,t,n,r,i,s){return es=s,ts=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?Ta:Na,as=!1,s=n(r,i),as=!1,ss&&(s=ms(t,n,r,i)),ps(e),s}function ps(e){A.H=Ea;var t=null!==ns&&null!==ns.next;if(es=0,rs=ns=ts=null,is=!1,ls=0,cs=null,t)throw Error(r(300));null===e||Ha||null!==(e=e.dependencies)&&Co(e)&&(Ha=!0)}function ms(e,t,n,i){ts=e;var s=0;do{if(ss&&(cs=null),ls=0,ss=!1,25<=s)throw Error(r(301));if(s+=1,rs=ns=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}A.H=Ia,a=t(n,i)}while(ss);return a}function gs(){var e=A.H,t=e.useState()[0];return t="function"==typeof t.then?xs(t):t,e=e.useState()[0],(null!==ns?ns.memoizedState:null)!==e&&(ts.flags|=1024),t}function ys(){var e=0!==os;return os=0,e}function vs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function bs(e){if(is){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}is=!1}es=0,rs=ns=ts=null,ss=!1,ls=os=0,cs=null}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===rs?ts.memoizedState=rs=e:rs=rs.next=e,rs}function ws(){if(null===ns){var e=ts.alternate;e=null!==e?e.memoizedState:null}else e=ns.next;var t=null===rs?ts.memoizedState:rs.next;if(null!==t)rs=t,ns=e;else{if(null===e){if(null===ts.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(ns=e).memoizedState,baseState:ns.baseState,baseQueue:ns.baseQueue,queue:ns.queue,next:null},null===rs?ts.memoizedState=rs=e:rs=rs.next=e}return rs}function xs(e){var t=ls;return ls+=1,null===cs&&(cs=[]),e=fi(cs,e,t),t=ts,null===(null===rs?t.memoizedState:rs.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?Ta:Na),e}function ks(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return xs(e);if(e.$$typeof===f)return To(e)}throw Error(r(438,String(e)))}function Ss(e){var t=null,n=ts.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ts.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ts.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function Cs(e,t){return"function"==typeof t?t(e):t}function Es(e){return Ts(ws(),ns,e)}function Ts(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var s=e.baseQueue,a=i.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}t.baseQueue=s=a,i.pending=null}if(a=e.baseState,null===s)e.memoizedState=a;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(sc&h)===h:(es&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wi&&(d=!0);else{if((es&f)===f){u=u.next,f===Wi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,ts.lanes|=f,fc|=f}h=u.action,as&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,ts.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Yn(a,e.memoizedState)&&(Ha=!0,d&&null!==(n=Gi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,i.lastRenderedState=a}return null===s&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ns(e){var t=ws(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);Yn(a,t.memoizedState)||(Ha=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Is(e,t,n){var i=ts,s=ws(),a=Jr;if(a){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!Yn((ns||s).memoizedState,n);if(o&&(s.memoizedState=n,Ha=!0),s=s.queue,ea(Ps.bind(null,i,s,e),[e]),s.getSnapshot!==t||o||null!==rs&&1&rs.memoizedState.tag){if(i.flags|=2048,Qs(9,As.bind(null,i,s,n,t),{destroy:void 0},null),null===rc)throw Error(r(349));a||60&es||js(i,t,n)}return n}function js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ts.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ts.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,Os(t)&&Ds(e)}function Ps(e,t,n){return n(function(){Os(t)&&Ds(e)})}function Os(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Ds(e){var t=Ar(e,2);null!==t&&Dc(t,e,2)}function Ls(e){var t=_s();if("function"==typeof e){var n=e;if(e=n(),as){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t}function Rs(e,t,n,r){return e.baseState=n,Ts(e,ns,"function"==typeof r?r:Cs)}function Ms(e,t,n,i,s){if(ka(e))throw Error(r(485));if(null!==(e=t.action)){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==A.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,zs(t,a)):(a.next=n.next,t.pending=n.next=a)}}function zs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=A.T,a={};A.T=a;try{var o=n(i,r),l=A.S;null!==l&&l(a,o),Fs(e,t,o)}catch(c){Bs(e,t,c)}finally{A.T=s}}else try{Fs(e,t,s=n(i,r))}catch(u){Bs(e,t,u)}}function Fs(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Us(e,t,n)},function(n){return Bs(e,t,n)}):Us(e,t,n)}function Us(e,t,n){t.status="fulfilled",t.value=n,$s(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,zs(e,n)))}function Bs(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,$s(t),t=t.next}while(t!==r)}e.action=null}function $s(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qs(e,t){return t}function Vs(e,t){if(Jr){var n=rc.formState;if(null!==n){e:{var r=ts;if(Jr){if(Xr){t:{for(var i=Xr,s=ei;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=cd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){Xr=cd(i.nextSibling),r="F!"===i.data;break e}}ni(r)}r=!1}r&&(t=n[0])}}return(n=_s()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:t},n.queue=r,n=_a.bind(null,ts,r),r.dispatch=n,r=Ls(!1),s=xa.bind(null,ts,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=_s()).queue=i,n=Ms.bind(null,ts,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Hs(e){return Ws(ws(),ns,e)}function Ws(e,t,n){t=Ts(e,t,qs)[0],e=Es(Cs)[0],t="object"==typeof t&&null!==t&&"function"==typeof t.then?xs(t):t;var r=ws(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(ts.flags|=2048,Qs(9,Gs.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function Gs(e,t){e.action=t}function Ks(e){var t=ws(),n=ns;if(null!==n)return Ws(t,n,e);ws(),t=t.memoizedState;var r=(n=ws()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Qs(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=ts.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ts.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ys(){return ws().memoizedState}function Xs(e,t,n,r){var i=_s();ts.flags|=e,i.memoizedState=Qs(1|t,n,{destroy:void 0},void 0===r?null:r)}function Js(e,t,n,r){var i=ws();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==ns&&null!==r&&hs(r,ns.memoizedState.deps)?i.memoizedState=Qs(t,n,s,r):(ts.flags|=e,i.memoizedState=Qs(1|t,n,s,r))}function Zs(e,t){Xs(8390656,8,e,t)}function ea(e,t){Js(2048,8,e,t)}function ta(e,t){return Js(4,2,e,t)}function na(e,t){return Js(4,4,e,t)}function ra(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ia(e,t,n){n=null!=n?n.concat([e]):null,Js(4,4,ra.bind(null,t,e),n)}function sa(){}function aa(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&hs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oa(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&hs(t,r[1]))return r[0];if(r=e(),as){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function la(e,t,n){return void 0===n||1073741824&es?e.memoizedState=t:(e.memoizedState=n,e=Oc(),ts.lanes|=e,fc|=e,n)}function ca(e,t,n,r){return Yn(n,t)?n:null!==Ci.current?(e=la(e,n,r),Yn(e,t)||(Ha=!0),e):42&es?(e=Oc(),ts.lanes|=e,fc|=e,t):(Ha=!0,e.memoizedState=n)}function ua(e,t,n,r,i){var s=V.p;V.p=0!==s&&8>s?s:8;var a,o,l,c=A.T,u={};A.T=u,xa(e,!1,t,n);try{var d=i(),h=A.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)wa(e,t,(a=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<o.length;e++)(0,o[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Pc());else wa(e,t,r,Pc())}catch(f){wa(e,t,{then:function(){},status:"rejected",reason:f},Pc())}finally{V.p=s,A.T=c}}function da(){}function ha(e,t,n,i){if(5!==e.tag)throw Error(r(476));var s=fa(e).queue;ua(e,s,t,H,null===n?da:function(){return pa(e),n(i)})}function fa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:H},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function pa(e){wa(e,fa(e).next.queue,{},Pc())}function ma(){return To(zd)}function ga(){return ws().memoizedState}function ya(){return ws().memoizedState}function va(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),r=Do(t,e=Oo(n),n);return null!==r&&(Dc(r,t,n),Lo(r,t,n)),t={cache:$i()},void(e.payload=t)}t=t.return}}function ba(e,t,n){var r=Pc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ka(e)?Sa(t,n):null!==(n=jr(e,t,n,r))&&(Dc(n,e,r),Ca(n,t,r))}function _a(e,t,n){wa(e,t,n,Pc())}function wa(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ka(e))Sa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Yn(o,a))return Ir(e,t,i,0),null===rc&&Nr(),!1}catch(l){}if(null!==(n=jr(e,t,i,r)))return Dc(n,e,r),Ca(n,t,r),!0}return!1}function xa(e,t,n,i){if(i={lane:2,revertLane:ku(),action:i,hasEagerState:!1,eagerState:null,next:null},ka(e)){if(t)throw Error(r(479))}else null!==(t=jr(e,n,i,2))&&Dc(t,e,2)}function ka(e){var t=e.alternate;return e===ts||null!==t&&t===ts}function Sa(e,t){ss=is=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ca(e,t,n){if(4194176&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var Ea={readContext:To,use:ks,useCallback:ds,useContext:ds,useEffect:ds,useImperativeHandle:ds,useLayoutEffect:ds,useInsertionEffect:ds,useMemo:ds,useReducer:ds,useRef:ds,useState:ds,useDebugValue:ds,useDeferredValue:ds,useTransition:ds,useSyncExternalStore:ds,useId:ds};Ea.useCacheRefresh=ds,Ea.useMemoCache=ds,Ea.useHostTransitionStatus=ds,Ea.useFormState=ds,Ea.useActionState=ds,Ea.useOptimistic=ds;var Ta={readContext:To,use:ks,useCallback:function(e,t){return _s().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Zs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Xs(4194308,4,ra.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){Xs(4,2,e,t)},useMemo:function(e,t){var n=_s();t=void 0===t?null:t;var r=e();if(as){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=_s();if(void 0!==n){var i=n(t);if(as){we(!0);try{n(t)}finally{we(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ba.bind(null,ts,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_s().memoizedState=e},useState:function(e){var t=(e=Ls(e)).queue,n=_a.bind(null,ts,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sa,useDeferredValue:function(e,t){return la(_s(),e,t)},useTransition:function(){var e=Ls(!1);return e=ua.bind(null,ts,e.queue,!0,!1),_s().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ts,s=_s();if(Jr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===rc)throw Error(r(349));60&sc||js(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Zs(Ps.bind(null,i,a,e),[e]),i.flags|=2048,Qs(9,As.bind(null,i,a,n,t),{destroy:void 0},null),n},useId:function(){var e=_s(),t=rc.identifierPrefix;if(Jr){var n=Hr;t=":"+t+"R"+(n=(Vr&~(1<<32-xe(Vr)-1)).toString(32)+n),0<(n=os++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=us++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return _s().memoizedState=va.bind(null,ts)}};Ta.useMemoCache=Ss,Ta.useHostTransitionStatus=ma,Ta.useFormState=Vs,Ta.useActionState=Vs,Ta.useOptimistic=function(e){var t=_s();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xa.bind(null,ts,!0,n),n.dispatch=t,[e,t]};var Na={readContext:To,use:ks,useCallback:aa,useContext:To,useEffect:ea,useImperativeHandle:ia,useInsertionEffect:ta,useLayoutEffect:na,useMemo:oa,useReducer:Es,useRef:Ys,useState:function(){return Es(Cs)},useDebugValue:sa,useDeferredValue:function(e,t){return ca(ws(),ns.memoizedState,e,t)},useTransition:function(){var e=Es(Cs)[0],t=ws().memoizedState;return["boolean"==typeof e?e:xs(e),t]},useSyncExternalStore:Is,useId:ga};Na.useCacheRefresh=ya,Na.useMemoCache=Ss,Na.useHostTransitionStatus=ma,Na.useFormState=Hs,Na.useActionState=Hs,Na.useOptimistic=function(e,t){return Rs(ws(),0,e,t)};var Ia={readContext:To,use:ks,useCallback:aa,useContext:To,useEffect:ea,useImperativeHandle:ia,useInsertionEffect:ta,useLayoutEffect:na,useMemo:oa,useReducer:Ns,useRef:Ys,useState:function(){return Ns(Cs)},useDebugValue:sa,useDeferredValue:function(e,t){var n=ws();return null===ns?la(n,e,t):ca(n,ns.memoizedState,e,t)},useTransition:function(){var e=Ns(Cs)[0],t=ws().memoizedState;return["boolean"==typeof e?e:xs(e),t]},useSyncExternalStore:Is,useId:ga};function ja(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ia.useCacheRefresh=ya,Ia.useMemoCache=Ss,Ia.useHostTransitionStatus=ma,Ia.useFormState=Ks,Ia.useActionState=Ks,Ia.useOptimistic=function(e,t){var n=ws();return null!==ns?Rs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Aa={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=Oo(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=Do(e,i,r))&&(Dc(t,e,r),Lo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=Oo(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Do(e,i,r))&&(Dc(t,e,r),Lo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),r=Oo(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=Do(e,r,n))&&(Dc(t,e,n),Lo(t,e,n))}};function Pa(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,s))}function Oa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function Da(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=O({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var La="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ra(e){La(e)}function Ma(e){console.error(e)}function za(e){La(e)}function Fa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ua(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ba(e,t,n){return(n=Oo(n)).tag=3,n.payload={element:null},n.callback=function(){Fa(e,t)},n}function $a(e){return(e=Oo(e)).tag=3,e}function qa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Ua(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Ua(t,n,r),"function"!=typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Va=Error(r(461)),Ha=!1;function Wa(e,t,n,r){t.child=null===e?Si(t,null,n,r):ki(t,e.child,n,r)}function Ga(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Eo(t),r=fs(e,t,n,a,s,i),o=ys(),null===e||Ha?(Jr&&o&&Kr(t),t.flags|=1,Wa(e,t,r,i),t.child):(vs(e,t,i),po(e,t,i))}function Ka(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||zl(s)||void 0!==s.defaultProps||null!==n.compare?((e=Bl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Qa(e,t,s,r,i))}if(s=e.child,!mo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&e.ref===t.ref)return po(e,t,i)}return t.flags|=1,(e=Fl(s,r)).ref=t.ref,e.return=t,t.child=e}function Qa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(Ha=!1,t.pendingProps=r=s,!mo(e,i))return t.lanes=e.lanes,po(e,t,i);131072&e.flags&&(Ha=!0)}}return Za(e,t,n,r,i)}function Ya(e,t,n){var r=t.pendingProps,i=r.children,s=!!(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Ja(e,t),"hidden"===r.mode||s){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Xa(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Xa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==a?a.cachePool:null),null!==a?Ti(t,a):Ni(),Oi(t)}else null!==a?(Ji(0,a.cachePool),Ti(t,a),Di(),t.memoizedState=null):(null!==e&&Ji(0,null),Ni(),Di());return Wa(e,t,i,n),t.child}function Xa(e,t,n,r){var i=Xi();return i=null===i?null:{parent:Bi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ji(0,null),Ni(),Oi(t),null!==e&&So(e,t,r,!0),null}function Ja(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Za(e,t,n,r,i){return Eo(t),n=fs(e,t,n,r,void 0,i),r=ys(),null===e||Ha?(Jr&&r&&Kr(t),t.flags|=1,Wa(e,t,n,i),t.child):(vs(e,t,i),po(e,t,i))}function eo(e,t,n,r,i,s){return Eo(t),t.updateQueue=null,n=ms(t,r,n,i),ps(e),r=ys(),null===e||Ha?(Jr&&r&&Kr(t),t.flags|=1,Wa(e,t,n,s),t.child):(vs(e,t,s),po(e,t,s))}function to(e,t,n,r,i){if(Eo(t),null===t.stateNode){var s=Dr,a=n.contextType;"object"==typeof a&&null!==a&&(s=To(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Aa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},Ao(t),a=n.contextType,s.context="object"==typeof a&&null!==a?To(a):Dr,s.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(ja(t,n,a,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(a=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&Aa.enqueueReplaceState(s,s.state,null),Fo(t,r,s,i),zo(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=Da(n,o);s.props=l;var c=s.context,u=n.contextType;a=Dr,"object"==typeof u&&null!==u&&(a=To(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==a)&&Oa(t,s,r,a),jo=!1;var h=t.memoizedState;s.state=h,Fo(t,r,s,i),zo(),c=t.memoizedState,o||h!==c||jo?("function"==typeof d&&(ja(t,n,d,r),c=t.memoizedState),(l=jo||Pa(t,n,l,r,h,c,a))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Po(e,t),u=Da(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Dr,"object"==typeof c&&null!==c&&(l=To(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Oa(t,s,r,l),jo=!1,h=t.memoizedState,s.state=h,Fo(t,r,s,i),zo();var f=t.memoizedState;a!==d||h!==f||jo||null!==e&&null!==e.dependencies&&Co(e.dependencies)?("function"==typeof o&&(ja(t,n,o,r),f=t.memoizedState),(u=jo||Pa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Co(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ja(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,n,i)):Wa(e,t,n,i),t.memoizedState=s.state,e=t.child):e=po(e,t,i),e}function no(e,t,n,r){return ai(),t.flags|=256,Wa(e,t,n,r),t.child}var ro={dehydrated:null,treeContext:null,retryLane:0};function io(e){return{baseLanes:e,cachePool:Zi()}}function so(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function ao(e,t,n){var i,s=t.pendingProps,a=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&Ri.current)),i&&(a=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(Jr){if(a?Pi(t):Di(),Jr){var l,c=Xr;if(l=c){e:{for(l=c,c=ei;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=cd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==qr?{id:Vr,overflow:Hr}:null,retryLane:536870912},(l=Ml(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Yr=t,Xr=null,l=!0):l=!1}l||ni(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Li(t)}return c=s.children,s=s.fallback,a?(Di(),c=lo({mode:"hidden",children:c},a=t.mode),s=$l(s,a,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(a=t.child).memoizedState=io(n),a.childLanes=so(e,i,n),t.memoizedState=ro,s):(Pi(t),oo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Pi(t),t.flags&=-257,t=co(e,t,n)):null!==t.memoizedState?(Di(),t.child=e.child,t.flags|=128,t=null):(Di(),a=s.fallback,c=t.mode,s=lo({mode:"visible",children:s.children},c),(a=$l(a,c,n,null)).flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,ki(t,e.child,null,n),(s=t.child).memoizedState=io(n),s.childLanes=so(e,i,n),t.memoizedState=ro,t=a);else if(Pi(t),"$!"===c.data){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(s=Error(r(419))).stack="",s.digest=i,oi({value:s,source:null,stack:null}),t=co(e,t,n)}else if(Ha||So(e,t,n,!1),i=0!==(n&e.childLanes),Ha||i){if(null!==(i=rc)){if(42&(s=n&-n))s=1;else switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=64;break;case 268435456:s=134217728;break;default:s=0}if(0!==(s=0!==(s&(i.suspendedLanes|n))?0:s)&&s!==l.retryLane)throw l.retryLane=s,Ar(e,s),Dc(i,e,s),Va}"$?"===c.data||Wc(),t=co(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=cu.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Xr=cd(c.nextSibling),Yr=t,Jr=!0,Zr=null,ei=!1,null!==e&&(Br[$r++]=Vr,Br[$r++]=Hr,Br[$r++]=qr,Vr=e.id,Hr=e.overflow,qr=t),(t=oo(t,s.children)).flags|=4096);return t}return a?(Di(),a=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=Fl(l,{mode:"hidden",children:s.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?a=Fl(u,a):(a=$l(a,c,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,null===(c=e.child.memoizedState)?c=io(n):(null!==(l=c.cachePool)?(u=Bi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Zi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=so(e,i,n),t.memoizedState=ro,s):(Pi(t),e=(n=e.child).sibling,(n=Fl(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function oo(e,t){return(t=lo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function lo(e,t){return ql(e,t,0,null)}function co(e,t,n){return ki(t,e.child,null,n),(e=oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function ho(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Wa(e,t,r.children,n),2&(r=Ri.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&uo(e,n,t);else if(19===e.tag)uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Y(Ri,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Mi(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ho(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Mi(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ho(t,!0,n,null,s);break;case"together":ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function po(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(So(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function mo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Co(e))}function go(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ha=!0;else{if(!(mo(e,n)||128&t.flags))return Ha=!1,function(e,t,n){switch(t.tag){case 3:te(t,t.stateNode.containerInfo),_o(t,Bi,e.memoizedState.cache),ai();break;case 27:case 5:re(t);break;case 4:te(t,t.stateNode.containerInfo);break;case 10:_o(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Pi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?ao(e,t,n):(Pi(t),null!==(e=po(e,t,n))?e.sibling:null);Pi(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(So(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return fo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(Ri,Ri.current),r)break;return null;case 22:case 23:return t.lanes=0,Ya(e,t,n);case 24:_o(t,Bi,e.memoizedState.cache)}return po(e,t,n)}(e,t,n);Ha=!!(131072&e.flags)}else Ha=!1,Jr&&1048576&t.flags&&Gr(t,Ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((s=i.$$typeof)===p){t.tag=11,t=Ga(null,t,i,e,n);break e}if(s===v){t.tag=14,t=Ka(null,t,i,e,n);break e}}throw t=N(i)||i,Error(r(306,t,""))}zl(i)?(e=Da(i,e),t.tag=1,t=to(null,t,i,e,n)):(t.tag=0,t=Za(null,t,i,e,n))}return t;case 0:return Za(e,t,t.type,t.pendingProps,n);case 1:return to(e,t,i=t.type,s=Da(i,t.pendingProps),n);case 3:e:{if(te(t,t.stateNode.containerInfo),null===e)throw Error(r(387));var a=t.pendingProps;i=(s=t.memoizedState).element,Po(e,t),Fo(t,a,null,n);var o=t.memoizedState;if(a=o.cache,_o(t,Bi,a),a!==s.cache&&ko(t,[Bi],n,!0),zo(),a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=no(e,t,a,n);break e}if(a!==i){oi(i=Rr(Error(r(424)),t)),t=no(e,t,a,n);break e}for(Xr=cd(t.stateNode.containerInfo.firstChild),Yr=t,Jr=!0,Zr=null,ei=!0,n=Si(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ai(),a===i){t=po(e,t,n);break e}Wa(e,t,a,n)}t=t.child}return t;case 26:return Ja(e,t),null===e?(n=vd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Jr||(n=t.type,e=t.pendingProps,(i=Xu(Z.current).createElement(n))[Ue]=t,i[Be]=e,Ku(i,n,e),Ze(i),t.stateNode=i):t.memoizedState=vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return re(t),null===e&&Jr&&(i=t.stateNode=dd(t.type,t.pendingProps,Z.current),Yr=t,ei=!0,Xr=cd(i.firstChild)),i=t.pendingProps.children,null!==e||Jr?Wa(e,t,i,n):t.child=ki(t,null,i,n),Ja(e,t),t.child;case 5:return null===e&&Jr&&((s=i=Xr)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=cd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ei))?(t.stateNode=i,Yr=t,Xr=cd(i.firstChild),ei=!1,s=!0):s=!1),s||ni(t)),re(t),s=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,ed(s,a)?i=null:null!==o&&ed(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=fs(e,t,gs,null,null,n),zd._currentValue=s),Ja(e,t),Wa(e,t,i,n),t.child;case 6:return null===e&&Jr&&((e=n=Xr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=cd(e.nextSibling)))return null}return e}(n,t.pendingProps,ei))?(t.stateNode=n,Yr=t,Xr=null,e=!0):e=!1),e||ni(t)),null;case 13:return ao(e,t,n);case 4:return te(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ki(t,null,i,n):Wa(e,t,i,n),t.child;case 11:return Ga(e,t,t.type,t.pendingProps,n);case 7:return Wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wa(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,_o(t,t.type,i.value),Wa(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,Eo(t),i=i(s=To(s)),t.flags|=1,Wa(e,t,i,n),t.child;case 14:return Ka(e,t,t.type,t.pendingProps,n);case 15:return Qa(e,t,t.type,t.pendingProps,n);case 19:return fo(e,t,n);case 22:return Ya(e,t,n);case 24:return Eo(t),i=To(Bi),null===e?(null===(s=Xi())&&(s=rc,a=$i(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=n),s=a),t.memoizedState={parent:i,cache:s},Ao(t),_o(t,Bi,s)):(0!==(e.lanes&n)&&(Po(e,t),Fo(t,null,null,n),zo()),s=e.memoizedState,a=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),_o(t,Bi,i)):(i=a.cache,_o(t,Bi,i),i!==s.cache&&ko(t,[Bi],n,!0))),Wa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}var yo=K(null),vo=null,bo=null;function _o(e,t,n){Y(yo,t._currentValue),t._currentValue=n}function wo(e){e._currentValue=yo.current,Q(yo)}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t,n,i){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xo(a.return,n,e),i||(o=null);break e}a=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(r(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),xo(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function So(e,t,n,i){e=null;for(var s=t,a=!1;null!==s;){if(!a)if(524288&s.flags)a=!0;else if(262144&s.flags)break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=s.type;Yn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===ee.current){if(null===(o=s.alternate))throw Error(r(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(zd):e=[zd])}s=s.return}null!==e&&ko(t,e,n,i),t.flags|=262144}function Co(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Eo(e){vo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function To(e){return Io(vo,e)}function No(e,t){return null===vo&&Eo(e),Io(e,t)}function Io(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(r(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var jo=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&nc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Pr(e,null,n),t}return Ir(e,r,t,n),Or(e)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function Ro(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Mo=!1;function zo(){if(Mo){if(null!==Gi)throw Gi}}function Fo(e,t,n,r){Mo=!1;var i=e.updateQueue;jo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(sc&h)===h:(r&h)===h){0!==h&&h===Wi&&(Mo=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,m=o;h=t;var g=n;switch(m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(g,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(g,d,h):p))break e;d=O({},d,h);break e;case 2:jo=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=d}}function Uo(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Bo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Uo(n[e],t)}function $o(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){su(t,t.return,o)}}function qo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n;try{o()}catch(c){su(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){su(t,t.return,c)}}function Vo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Bo(t,n)}catch(r){su(e,e.return,r)}}}function Ho(e,t,n){n.props=Da(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){su(e,t,r)}}function Wo(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"==typeof n?e.refCleanup=n(i):n.current=i}}catch(s){su(e,t,s)}}function Go(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){su(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){su(e,t,s)}else n.current=null}function Ko(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){su(e,e.return,i)}}function Qo(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(p)||Wu(e,t,p,null,i,h)}}for(var f in i){var p=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==h&&Wu(e,t,f,p,i,h)}}return void vt(e,o,l,c,u,d,a,s);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(a)||Wu(e,t,a,null,i,c)}for(s in i)if(a=i[s],c=n[s],i.hasOwnProperty(s)&&(null!=a||null!=c))switch(s){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Wu(e,t,s,a,i,c)}return t=l,n=o,i=p,void(null!=f?wt(e,!!n,f,!1):!!i!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Wu(e,t,l,null,i,s)}for(o in i)if(s=i[o],a=n[o],i.hasOwnProperty(o)&&(null!=s||null!=a))switch(o){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(r(91));break;default:s!==a&&Wu(e,t,o,s,i,a)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Wu(e,t,m,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else Wu(e,t,c,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&Wu(e,t,g,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:Wu(e,t,u,f,i,p)}return;default:if(Nt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!i.hasOwnProperty(y)&&Gu(e,t,y,void 0,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Gu(e,t,d,f,i,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!i.hasOwnProperty(v)&&Wu(e,t,v,null,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||null==f&&null==p||Wu(e,t,h,f,i,p)}(i,e.type,n,t),i[Be]=t}catch(s){su(e,e.return,s)}}function Yo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Xo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Yo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Jo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Hu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Jo(e,t,n),e=e.sibling;null!==e;)Jo(e,t,n),e=e.sibling}function Zo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Zo(e,t,n),e=e.sibling;null!==e;)Zo(e,t,n),e=e.sibling}var el=!1,tl=!1,nl=!1,rl="function"==typeof WeakSet?WeakSet:Set,il=null,sl=!1;function al(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:bl(e,n),4&r&&$o(5,n);break;case 1:if(bl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){su(n,n.return,o)}else{var i=Da(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){su(n,n.return,l)}}64&r&&Vo(n),512&r&&Wo(n,n.return);break;case 3:if(bl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Bo(r,e)}catch(o){su(n,n.return,o)}}break;case 26:bl(e,n),512&r&&Wo(n,n.return);break;case 27:case 5:bl(e,n),null===t&&4&r&&Ko(n),512&r&&Wo(n,n.return);break;case 12:default:bl(e,n);break;case 13:bl(e,n),4&r&&hl(e,n);break;case 22:if(!(i=null!==n.memoizedState||el)){t=null!==t&&null!==t.memoizedState||tl;var s=el,a=tl;el=i,(tl=t)&&!a?wl(e,n,!!(8772&n.subtreeFlags)):bl(e,n),el=s,tl=a}512&r&&("manual"===n.memoizedProps.mode?Wo(n,n.return):Go(n,n.return))}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ll=null,cl=!1;function ul(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(_e&&"function"==typeof _e.onCommitFiberUnmount)try{_e.onCommitFiberUnmount(be,n)}catch(a){}switch(n.tag){case 26:tl||Go(n,t),ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:tl||Go(n,t);var r=ll,i=cl;for(ll=n.stateNode,ul(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ke(n),ll=r,cl=i;break;case 5:tl||Go(n,t);case 6:i=ll;var s=cl;if(ll=null,ul(e,t,n),cl=s,null!==(ll=i))if(cl)try{e=ll,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){su(n,t,o)}else try{ll.removeChild(n.stateNode)}catch(o){su(n,t,o)}break;case 18:null!==ll&&(cl?(t=ll,n=n.stateNode,8===t.nodeType?od(t.parentNode,n):1===t.nodeType&&od(t,n),yh(t)):od(ll,n.stateNode));break;case 4:r=ll,i=cl,ll=n.stateNode.containerInfo,cl=!0,ul(e,t,n),ll=r,cl=i;break;case 0:case 11:case 14:case 15:tl||qo(2,n,t),tl||qo(4,n,t),ul(e,t,n);break;case 1:tl||(Go(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&Ho(n,t,r)),ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:tl||Go(n,t),tl=(r=tl)||null!==n.memoizedState,ul(e,t,n),tl=r;break;default:ul(e,t,n)}}function hl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{yh(e)}catch(n){su(t,t.return,n)}}function fl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new rl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=uu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function pl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:ll=l.stateNode,cl=!1;break e;case 3:case 4:ll=l.stateNode.containerInfo,cl=!0;break e}l=l.return}if(null===ll)throw Error(r(160));dl(a,o,s),ll=null,cl=!1,null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}var ml=null;function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pl(t,e),yl(e),4&i&&(qo(3,e,e.return),$o(3,e),qo(5,e,e.return));break;case 1:pl(t,e),yl(e),512&i&&(tl||null===n||Go(n,n.return)),64&i&&el&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var s=ml;if(pl(t,e),yl(e),512&i&&(tl||null===n||Go(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":(!(a=s.getElementsByTagName("title")[0])||a[Ge]||a[Ue]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),Ku(a,i,n),a[Ue]=e,Ze(a),i=a;break e;case"link":var o=Id("link","href",s).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Ku(a=s.createElement(i),i,n),s.head.appendChild(a);break;case"meta":if(o=Id("meta","content",s).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Ku(a=s.createElement(i),i,n),s.head.appendChild(a);break;default:throw Error(r(468,i))}a[Ue]=e,Ze(a),i=a}e.stateNode=i}else jd(s,e.type,e.stateNode);else e.stateNode=Sd(s,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?jd(s,e.type,e.stateNode):Sd(s,i,e.memoizedProps)):null===i&&null!==e.stateNode&&Qo(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&i&&null===e.alternate){s=e.stateNode,a=e.memoizedProps;try{for(var c=s.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[Ge]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||s.removeChild(c),c=u}for(var h=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ku(s,h,a),s[Ue]=e,s[Be]=a}catch(m){su(e,e.return,m)}}case 5:if(pl(t,e),yl(e),512&i&&(tl||null===n||Go(n,n.return)),32&e.flags){s=e.stateNode;try{St(s,"")}catch(m){su(e,e.return,m)}}4&i&&null!=e.stateNode&&Qo(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&i&&(nl=!0);break;case 6:if(pl(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){su(e,e.return,m)}}break;case 3:if(Nd=null,s=ml,ml=pd(t.containerInfo),pl(t,e),ml=s,yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{yh(t.containerInfo)}catch(m){su(e,e.return,m)}nl&&(nl=!1,vl(e));break;case 4:i=ml,ml=pd(e.stateNode.containerInfo),pl(t,e),yl(e),ml=i;break;case 12:pl(t,e),yl(e);break;case 13:pl(t,e),yl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(wc=ue()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,fl(e,i)));break;case 22:if(512&i&&(tl||null===n||Go(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,el=(d=el)||c,tl=(h=tl)||u,pl(t,e),tl=h,el=d,yl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&i&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=el||tl,null===n||u||t||_l(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,c)"function"==typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var p=null!=(l=u.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(m){su(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){su(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,fl(e,n))));break;case 19:pl(t,e),yl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,fl(e,i)));break;case 21:break;default:pl(t,e),yl(e)}}function yl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Yo(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 27:var s=i.stateNode;Zo(e,Xo(e),s);break;case 5:var a=i.stateNode;32&i.flags&&(St(a,""),i.flags&=-33),Zo(e,Xo(e),a);break;case 3:case 4:var o=i.stateNode.containerInfo;Jo(e,Xo(e),o);break;default:throw Error(r(161))}}}catch(l){su(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;vl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function bl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)al(e,t.alternate,t),t=t.sibling}function _l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qo(4,t,t.return),_l(t);break;case 1:Go(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&Ho(t,t.return,n),_l(t);break;case 26:case 27:case 5:Go(t,t.return),_l(t);break;case 22:Go(t,t.return),null===t.memoizedState&&_l(t);break;default:_l(t)}e=e.sibling}}function wl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:wl(i,s,n),$o(4,s);break;case 1:if(wl(i,s,n),"function"==typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){su(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Uo(l[i],o)}catch(c){su(r,r.return,c)}}n&&64&a&&Vo(s),Wo(s,s.return);break;case 26:case 27:case 5:wl(i,s,n),n&&null===r&&4&a&&Ko(s),Wo(s,s.return);break;case 12:default:wl(i,s,n);break;case 13:wl(i,s,n),n&&4&a&&hl(i,s);break;case 22:null===s.memoizedState&&wl(i,s,n),Wo(s,s.return)}t=t.sibling}}function xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&qi(n))}function kl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qi(e))}function Sl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t,n,r),t=t.sibling}function Cl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,n,r),2048&i&&$o(9,t);break;case 3:Sl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qi(e)));break;case 12:if(2048&i){Sl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){su(t,t.return,l)}}else Sl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?Sl(e,t,n,r):Tl(e,t):4&s._visibility?Sl(e,t,n,r):(s._visibility|=4,El(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&xl(t.alternate,t);break;case 24:Sl(e,t,n,r),2048&i&&kl(t.alternate,t);break;default:Sl(e,t,n,r)}}function El(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:El(s,a,o,l,i),$o(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?El(s,a,o,l,i):Tl(s,a):(u._visibility|=4,El(s,a,o,l,i)),i&&2048&c&&xl(a.alternate,a);break;case 24:El(s,a,o,l,i),i&&2048&c&&kl(a.alternate,a);break;default:El(s,a,o,l,i)}t=t.sibling}}function Tl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Tl(n,r),2048&i&&xl(r.alternate,r);break;case 24:Tl(n,r),2048&i&&kl(r.alternate,r);break;default:Tl(n,r)}t=t.sibling}}var Nl=8192;function Il(e){if(e.subtreeFlags&Nl)for(e=e.child;null!==e;)jl(e),e=e.sibling}function jl(e){switch(e.tag){case 26:Il(e),e.flags&Nl&&null!==e.memoizedState&&function(e,t,n){if(null===Pd)throw Error(r(475));var i=Pd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var s=bd(n.href),a=e.querySelector(_d(s));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Dd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,void Ze(a);a=e.ownerDocument||e,n=wd(n),(s=hd.get(s))&&Ed(n,s),Ze(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Ku(a,"link",n),t.instance=a}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Dd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(ml,e.memoizedState,e.memoizedProps);break;case 5:default:Il(e);break;case 3:case 4:var t=ml;ml=pd(e.stateNode.containerInfo),Il(e),ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Nl,Nl=16777216,Il(e),Nl=t):Il(e))}}function Al(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Pl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];il=r,Ll(r,e)}Al(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ol(e),e=e.sibling}function Ol(e){switch(e.tag){case 0:case 11:case 15:Pl(e),2048&e.flags&&qo(9,e,e.return);break;case 3:case 12:default:Pl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Dl(e)):Pl(e)}}function Dl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];il=r,Ll(r,e)}Al(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:qo(8,t,t.return),Dl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Dl(t));break;default:Dl(t)}e=e.sibling}}function Ll(e,t){for(;null!==il;){var n=il;switch(n.tag){case 0:case 11:case 15:qo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:qi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,il=r;else e:for(n=e;null!==il;){var i=(r=il).sibling,s=r.return;if(ol(r),r===n){il=null;break e}if(null!==i){i.return=s,il=i;break e}il=s}}}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Rl(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ul(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bl(e,t,n,i,s,a){var o=0;if(i=e,"function"==typeof e)zl(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,X.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case l:return $l(n.children,s,a,t);case c:o=8,s|=24;break;case u:return(e=Ml(12,n,t,2|s)).elementType=u,e.lanes=a,e;case g:return(e=Ml(13,n,t,s)).elementType=g,e.lanes=a,e;case y:return(e=Ml(19,n,t,s)).elementType=y,e.lanes=a,e;case _:return ql(n,s,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case d:case f:o=10;break e;case h:o=9;break e;case p:o=11;break e;case v:o=14;break e;case b:o=16,i=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Ml(o,n,t,s)).elementType=e,t.type=i,t.lanes=a,t}function $l(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function ql(e,t,n,i){(e=Ml(22,e,i,t)).elementType=_,e.lanes=n;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=s._current;if(null===e)throw Error(r(456));if(!(2&s._pendingVisibility)){var t=Ar(e,2);null!==t&&(s._pendingVisibility|=2,Dc(t,e,2))}},attach:function(){var e=s._current;if(null===e)throw Error(r(456));if(2&s._pendingVisibility){var t=Ar(e,2);null!==t&&(s._pendingVisibility&=-3,Dc(t,e,2))}}};return e.stateNode=s,e}function Vl(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Hl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wl(e){e.flags|=4}function Gl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Ad(t)){if(null!==(t=ji.current)&&((4194176&sc)===sc?null!==Ai:(62914560&sc)!==sc&&!(536870912&sc)||t!==Ai))throw pi=ui,ci;e.flags|=8192}}function Kl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,yc|=t)}function Ql(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xl(e,t,n){var i=t.pendingProps;switch(Qr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Yl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),wo(Bi),ne(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(si(t)?Wl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Zr&&(Rc(Zr),Zr=null))),Yl(t),null;case 26:return n=t.memoizedState,null===e?(Wl(t),null!==n?(Yl(t),Gl(t,n)):(Yl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Wl(t),Yl(t),Gl(t,n)):(Yl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Wl(t),Yl(t),t.flags&=-16777217),null;case 27:ie(t),n=Z.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Wl(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Yl(t),null}e=X.current,si(t)?ri(t):(e=dd(s,i,n),t.stateNode=e,Wl(t))}return Yl(t),null;case 5:if(ie(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Wl(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Yl(t),null}if(e=X.current,si(t))ri(t);else{switch(s=Xu(Z.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?s.createElement(n,{is:i.is}):s.createElement(n)}}e[Ue]=t,e[Be]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(Ku(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wl(t)}}return Yl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Wl(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=Z.current,si(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(s=Yr))switch(s.tag){case 27:case 5:i=s.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Vu(e.nodeValue,n)))||ni(t)}else(e=Xu(e).createTextNode(i))[Ue]=t,t.stateNode=e}return Yl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=si(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[Ue]=t}else ai(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),s=!1}else null!==Zr&&(Rc(Zr),Zr=null),s=!0;if(!s)return 256&t.flags?(Li(t),t):(Li(t),null)}if(Li(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(s=i.alternate.memoizedState.cachePool.pool);var a=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),Yl(t),null;case 4:return ne(),null===e&&Du(t.stateNode.containerInfo),Yl(t),null;case 10:return wo(t.type),Yl(t),null;case 19:if(Q(Ri),null===(s=t.memoizedState))return Yl(t),null;if(i=!!(128&t.flags),null===(a=s.rendering))if(i)Ql(s,!1);else{if(0!==hc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Mi(e))){for(t.flags|=128,Ql(s,!1),e=a.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ul(n,e),n=n.sibling;return Y(Ri,1&Ri.current|2),t.child}e=e.sibling}null!==s.tail&&ue()>xc&&(t.flags|=128,i=!0,Ql(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Mi(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),Ql(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!Jr)return Yl(t),null}else 2*ue()-s.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,i=!0,Ql(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=s.last)?e.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ue(),t.sibling=null,e=Ri.current,Y(Ri,i?1&e|2:1&e),t):(Yl(t),null);case 22:case 23:return Li(t),Ii(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null!==(n=t.updateQueue)&&Kl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&Q(Yi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wo(Bi),Yl(t),null;case 25:return null}throw Error(r(156,t.tag))}function Jl(e,t){switch(Qr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wo(Bi),ne(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ie(t),null;case 13:if(Li(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ai()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Q(Ri),null;case 4:return ne(),null;case 10:return wo(t.type),null;case 22:case 23:return Li(t),Ii(),null!==e&&Q(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wo(Bi),null;default:return null}}function Zl(e,t){switch(Qr(t),t.tag){case 3:wo(Bi),ne();break;case 26:case 27:case 5:ie(t);break;case 4:ne();break;case 13:Li(t);break;case 19:Q(Ri);break;case 10:wo(t.type);break;case 22:case 23:Li(t),Ii(),null!==e&&Q(Yi);break;case 24:wo(Bi)}}var ec={getCacheForType:function(e){var t=To(Bi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"==typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,sc=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,_c=!1,wc=0,xc=1/0,kc=null,Sc=null,Cc=!1,Ec=null,Tc=0,Nc=0,Ic=null,jc=0,Ac=null;function Pc(){if(2&nc&&0!==sc)return sc&-sc;if(null!==A.T){return 0!==Wi?Wi:ku()}return ze()}function Oc(){0===gc&&(gc=536870912&sc&&!Jr?536870912:Ae());var e=ji.current;return null!==e&&(e.flags|=32),gc}function Dc(e,t,n){(e===rc&&2===ac||null!==e.cancelPendingCommit)&&($c(e,0),Fc(e,sc,gc,!1)),De(e,n),2&nc&&e===rc||(e===rc&&(!(2&nc)&&(pc|=n),4===hc&&Fc(e,sc,gc,!1)),yu(e))}function Lc(e,t,n){if(6&nc)throw Error(r(327));for(var i=!n&&!(60&t)&&0===(t&e.expiredLanes)||Ie(e,t),s=i?function(e,t){var n=nc;nc|=2;var i=Vc(),s=Hc();rc!==e||sc!==t?(kc=null,xc=ue()+500,$c(e,t)):cc=Ie(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var a=oc;t:switch(ac){case 1:ac=0,oc=null,Jc(e,t,a,1);break;case 2:if(di(a)){ac=0,oc=null,Xc(t);break}t=function(){2===ac&&rc===e&&(ac=7),yu(e)},a.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:di(a)?(ac=0,oc=null,Xc(t)):(ac=0,oc=null,Jc(e,t,a,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Ad(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,Zc(u)):ic=null}break t}}ac=0,oc=null,Jc(e,t,a,5);break;case 6:ac=0,oc=null,Jc(e,t,a,6);break;case 8:Bc(),hc=6;break e;default:throw Error(r(462))}}Qc();break}catch(d){qc(e,d)}return bo=vo=null,A.H=i,A.A=s,nc=n,null!==ic?0:(rc=null,sc=0,Nr(),hc)}(e,t):Gc(e,t,!0),a=i;;){if(0===s){cc&&!i&&Fc(e,t,0,!1);break}if(6===s)Fc(e,t,0,!lc);else{if(n=e.current.alternate,a&&!zc(n)){s=Gc(e,t,!1),a=!1;continue}if(2===s){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,o).flags|=256),2!==(o=Gc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,pc|=a,s=4;break e}a=bc,bc=s,null!==a&&Rc(a)}s=o}if(a=!1,2!==s)continue}}if(1===s){$c(e,0),Fc(e,t,0,!0);break}e:{switch(i=e,s){case 0:case 1:throw Error(r(345));case 4:if((4194176&t)===t){Fc(i,t,gc,!lc);break e}break;case 2:bc=null;break;case 3:case 5:break;default:throw Error(r(329))}if(i.finishedWork=n,i.finishedLanes=t,(62914560&t)===t&&10<(a=wc+300-ue())){if(Fc(i,t,gc,!lc),0!==Ne(i,0))break e;i.timeoutHandle=nd(Mc.bind(null,i,n,bc,kc,_c,t,gc,pc,yc,lc,2,-0,0),a)}else Mc(i,n,bc,kc,_c,t,gc,pc,yc,lc,0,-0,0)}}break}yu(e)}function Rc(e){null===bc?bc=e:bc.push.apply(bc,e)}function Mc(e,t,n,i,s,a,o,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||!(16785408&~p))&&(Pd={stylesheets:null,count:0,unsuspend:Od},jl(t),null!==(t=function(){if(null===Pd)throw Error(r(475));var e=Pd;return e.stylesheets&&0===e.count&&Rd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Rd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(tu.bind(null,e,n,i,s,o,l,c,1,h,f)),void Fc(e,a,o,!u);tu(e,n,i,s,o,l,c,d,h,f)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-xe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Le(e,n,t)}function Uc(){return!!(6&nc)||(vu(0),!1)}function Bc(){if(null!==ic){if(0===ac)var e=ic.return;else bo=vo=null,bs(e=ic),gi=null,yi=0,e=ic;for(;null!==e;)Zl(e.alternate,e),e=e.return;ic=null}}function $c(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,rd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ic=n=Fl(e.current,null),sc=t,ac=0,oc=null,lc=!1,cc=Ie(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,_c=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-xe(r),s=1<<i;t|=e[i],r&=~s}return dc=t,Nr(),n}function qc(e,t){ts=null,A.H=Ea,t===li?(t=mi(),ac=3):t===ci?(t=mi(),ac=4):ac=t===Va?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,oc=t,null===ic&&(hc=1,Fa(e,Rr(t,e.current)))}function Vc(){var e=A.H;return A.H=Ea,null===e?Ea:e}function Hc(){var e=A.A;return A.A=ec,e}function Wc(){hc=4,lc||(4194176&sc)!==sc&&null!==ji.current||(cc=!0),!(134217727&fc)&&!(134217727&pc)||null===rc||Fc(rc,sc,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var i=Vc(),s=Hc();rc===e&&sc===t||(kc=null,$c(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==ic){var o=ic,l=oc;switch(ac){case 8:Bc(),a=6;break e;case 3:case 2:case 6:null===ji.current&&(t=!0);var c=ac;if(ac=0,oc=null,Jc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Jc(e,o,l,c)}}Kc(),a=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,bo=vo=null,nc=r,A.H=i,A.A=s,null===ic&&(rc=null,sc=0,Nr()),a}function Kc(){for(;null!==ic;)Yc(ic)}function Qc(){for(;null!==ic&&!le();)Yc(ic)}function Yc(e){var t=go(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?Zc(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=eo(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=eo(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:bs(t);default:Zl(n,t),t=go(n,t=ic=Ul(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?Zc(e):ic=t}function Jc(e,t,n,i){bo=vo=null,bs(t),gi=null,yi=0;var s=t.return;try{if(function(e,t,n,i,s){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&So(t,n,s,!0),null!==(n=ji.current)){switch(n.tag){case 13:return null===Ai?Wc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ui?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),au(e,i,s)),!1;case 22:return n.flags|=65536,i===ui?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),au(e,i,s)),!1}throw Error(r(435,n.tag))}return au(e,i,s),Wc(),!1}if(Jr)return null!==(t=ji.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==ti&&oi(Rr(e=Error(r(422),{cause:i}),n))):(i!==ti&&oi(Rr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,i=Rr(i,n),Ro(e,s=Ba(e.stateNode,i,s)),4!==hc&&(hc=2)),!1;var a=Error(r(520),{cause:i});if(a=Rr(a,n),null===vc?vc=[a]:vc.push(a),4!==hc&&(hc=2),null===t)return!0;i=Rr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,Ro(n,e=Ba(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Sc&&Sc.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,qa(s=$a(s),e,n,i),Ro(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,sc))return hc=1,Fa(e,Rr(n,e.current)),void(ic=null)}catch(a){if(null!==s)throw ic=s,a;return hc=1,Fa(e,Rr(n,e.current)),void(ic=null)}32768&t.flags?(Jr||1===i?e=!0:cc||536870912&sc?e=!1:(lc=e=!0,(2===i||3===i||6===i)&&(null!==(i=ji.current)&&13===i.tag&&(i.flags|=16384))),eu(t,e)):Zc(t)}function Zc(e){var t=e;do{if(32768&t.flags)return void eu(t,lc);e=t.return;var n=Xl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function eu(e,t){do{var n=Jl(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function tu(e,t,n,i,s,a,o,l,c,u){var d=A.T,h=V.p;try{V.p=2,A.T=null,function(e,t,n,i,s,a,o,l){do{ru()}while(null!==Ec);if(6&nc)throw Error(r(327));var c=e.finishedWork;if(i=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-xe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Le(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,i,u|=Tr,a,o,l),e===rc&&(ic=rc=null,sc=0),!(10256&c.subtreeFlags)&&!(10256&c.flags)||Cc||(Cc=!0,Nc=u,Ic=n,function(e,t){ae(e,t)}(pe,function(){return ru(),null})),n=!!(15990&c.flags),15990&c.subtreeFlags||n?(n=A.T,A.T=null,a=V.p,V.p=2,o=nc,nc|=4,function(e,t){if(e=e.containerInfo,Qu=Wd,nr(e=tr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===i&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},Wd=!1,il=t;null!==il;)if(e=(t=il).child,1028&t.subtreeFlags&&null!==e)e.return=t,il=e;else for(;null!==il;){switch(a=(t=il).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var m=Da(n.type,s,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(m,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(y){su(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))ld(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,il=e;break}il=t.return}m=sl,sl=!1}(e,c),gl(c,e),rr(Yu,e.containerInfo),Wd=!!Qu,Yu=Qu=null,e.current=c,al(e,c.alternate,c),ce(),nc=o,V.p=a,A.T=n):e.current=c,Cc?(Cc=!1,Ec=e,Tc=i):nu(e,u),u=e.pendingLanes,0===u&&(Sc=null),function(e){if(_e&&"function"==typeof _e.onCommitFiberRoot)try{_e.onCommitFiberRoot(be,e,void 0,!(128&~e.current.flags))}catch(t){}}(c.stateNode),yu(e),null!==t)for(s=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],s(u.value,{componentStack:u.stack});!!(3&Tc)&&ru(),u=e.pendingLanes,4194218&i&&42&u?e===Ac?jc++:(jc=0,Ac=e):jc=0,vu(0)}(e,t,n,i,h,s,a,o)}finally{A.T=d,V.p=h}}function nu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,qi(t)))}function ru(){if(null!==Ec){var e=Ec,t=Nc;Nc=0;var n=Me(Tc),i=A.T,s=V.p;try{if(V.p=32>n?32:n,A.T=null,null===Ec)var a=!1;else{n=Ic,Ic=null;var o=Ec,l=Tc;if(Ec=null,Tc=0,6&nc)throw Error(r(331));var c=nc;if(nc|=4,Ol(o.current),Cl(o,o.current,l,n),nc=c,vu(0,!1),_e&&"function"==typeof _e.onPostCommitFiberRoot)try{_e.onPostCommitFiberRoot(be,o)}catch(u){}a=!0}return a}finally{V.p=s,A.T=i,nu(e,t)}}return!1}function iu(e,t,n){t=Rr(n,t),null!==(e=Do(e,t=Ba(e.stateNode,t,2),2))&&(De(e,2),yu(e))}function su(e,t,n){if(3===e.tag)iu(e,e,n);else for(;null!==t;){if(3===t.tag){iu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Rr(n,e),null!==(r=Do(t,n=$a(2),2))&&(qa(n,r,t,e),De(r,2),yu(r));break}}t=t.return}}function au(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=ou.bind(null,e,t,n),t.then(e,e))}function ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===hc||3===hc&&(62914560&sc)===sc&&300>ue()-wc?!(2&nc)&&$c(e,0):mc|=n,yc===sc&&(yc=0)),yu(e)}function lu(e,t){0===t&&(t=Pe()),null!==(e=Ar(e,t))&&(De(e,t),yu(e))}function cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),lu(e,n)}function uu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),lu(e,n)}var du=null,hu=null,fu=!1,pu=!1,mu=!1,gu=0;function yu(e){var t;e!==hu&&null===e.next&&(null===hu?du=hu=e:hu=hu.next=e),pu=!0,fu||(fu=!0,t=bu,sd(function(){6&nc?ae(he,t):t()}))}function vu(e,t){if(!mu&&pu){mu=!0;do{for(var n=!1,r=du;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s=201326677&(s&=i&~(a&~o))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,xu(r,s))}else s=sc,!(3&(s=Ne(r,r===rc?s:0)))||Ie(r,s)||(n=!0,xu(r,s));r=r.next}}while(n);mu=!1}}function bu(){pu=fu=!1;var e=0;0!==gu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==td&&(td=e,!0);return td=null,!1}()&&(e=gu),gu=0);for(var t=ue(),n=null,r=du;null!==r;){var i=r.next,s=_u(r,t);0===s?(r.next=null,null===n?du=i:n.next=i,null===i&&(hu=n)):(n=r,(0!==e||3&s)&&(pu=!0)),r=i}vu(e)}function _u(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-xe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=je(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=sc,n=Ne(e,e===(t=rc)?n:0),r=e.callbackNode,0===n||e===t&&2===ac||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Me(n)){case 2:case 8:n=fe;break;case 32:default:n=pe;break;case 268435456:n=ge}return r=wu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function wu(e,t){var n=e.callbackNode;if(ru()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=Ne(e,e===rc?r:0))?null:(Lc(e,r,t),_u(e,ue()),null!=e.callbackNode&&e.callbackNode===n?wu.bind(null,e):null)}function xu(e,t){if(ru())return null;Lc(e,t,!0)}function ku(){return 0===gu&&(gu=Ae()),gu}function Su(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:At(""+e)}function Cu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Eu=0;Eu<kr.length;Eu++){var Tu=kr[Eu];Sr(Tu.toLowerCase(),"on"+(Tu[0].toUpperCase()+Tu.slice(1)))}Sr(mr,"onAnimationEnd"),Sr(gr,"onAnimationIteration"),Sr(yr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(vr,"onTransitionRun"),Sr(br,"onTransitionStart"),Sr(_r,"onTransitionCancel"),Sr(wr,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function ju(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){La(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){La(u)}i.currentTarget=null,s=l}}}}function Au(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(Lu(t,e,2,!1),n.add(r))}function Pu(e,t,n){var r=0;t&&(r|=4),Lu(n,e,r,t)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[Ou]){e[Ou]=!0,et.forEach(function(t){"selectionchange"!==t&&(Iu.has(t)||Pu(t,!1,e),Pu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ou]||(t[Ou]=!0,Pu("selectionchange",!1,t))}}function Lu(e,t,n,r){switch(Zd(t)){case 2:var i=Gd;break;case 8:i=Kd;break;default:i=Qd}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ru(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Qe(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=s=a;continue e}o=o.parentNode}}r=r.return}zt(function(){var r=s,i=Ot(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var l=en,c=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":l=gn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=vn;break;case mr:case gr:case yr:l=ln;break;case wr:l=bn;break;case"scroll":case"scrollend":l=nn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=yn;break;case"toggle":case"beforetoggle":l=wn}var u=!!(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===h||null!=(m=Ft(p,h))&&u.push(Mu(p,m,f)),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!Qe(c)&&!c[$e])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qe(c):null)&&(d=F(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=sn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=yn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:Xe(l),f=null==c?o:Xe(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,Qe(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Fu(f))p++;for(f=0,m=h;m;m=Fu(m))f++;for(;0<p-f;)u=Fu(u),p--;for(;0<f-p;)h=Fu(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Fu(u),h=Fu(h)}u=null}else u=null;null!==l&&Uu(a,o,l,u,!1),null!==c&&null!==d&&Uu(a,d,c,u,!0)}if("select"===(l=(o=r?Xe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Fn;else if(On(o))if(Un)g=Qn;else{g=Gn;var y=Wn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Nt(r.elementType)&&(g=Fn):g=Kn;switch(g&&(g=g(e,r))?Dn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&_t(o,"number",o.value)),y=r?Xe(r):window,e){case"focusin":(On(y)||"true"===y.contentEditable)&&(sr=y,ar=r,or=null);break;case"focusout":or=ar=sr=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(a,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(a,n,i)}var v;if(kn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?In(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(En&&"ko"!==n.locale&&(An||"onCompositionStart"!==b?"onCompositionEnd"===b&&An&&(v=Ht()):(qt="value"in($t=i)?$t.value:$t.textContent,An=!0)),0<(y=zu(r,b)).length&&(b=new un(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=jn(n))&&(b.data=v))),(v=Cn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!kn&&In(e,t)?(e=Ht(),Vt=qt=$t=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=zu(r,"onBeforeInput")).length&&(y=new un("onBeforeInput","beforeinput",null,n,i),a.push({event:y,listeners:b}),y.data=v)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Su((i[Be]||null).action),a=r.submitter;a&&null!==(t=(t=a[Be]||null)?Su(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new en("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==gu){var e=a?Cu(i,a):new FormData(i);ha(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=a?Cu(i,a):new FormData(i),ha(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}ju(a,t)})}function Mu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift(Mu(e,i,s)),null!=(i=Ft(e,t))&&r.push(Mu(e,i,s))),e=e.return}return r}function Fu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ft(n,s))&&a.unshift(Mu(n,c,l)):i||null!=(c=Ft(n,s))&&a.push(Mu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Bu=/\r\n?/g,$u=/\u0000|\uFFFD/g;function qu(e){return("string"==typeof e?e:""+e).replace(Bu,"\n").replace($u,"")}function Vu(e,t){return t=qu(t),qu(e)===t}function Hu(){}function Wu(e,t,n,i,s,a){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||St(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&St(e,""+i);break;case"className":ct(e,"class",i);break;case"tabIndex":ct(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,i);break;case"style":Tt(e,i,a);break;case"data":if("object"!==t){ct(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=At(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&Wu(e,t,"name",s.name,s,null),Wu(e,t,"formEncType",s.formEncType,s,null),Wu(e,t,"formMethod",s.formMethod,s,null),Wu(e,t,"formTarget",s.formTarget,s,null)):(Wu(e,t,"encType",s.encType,s,null),Wu(e,t,"method",s.method,s,null),Wu(e,t,"target",s.target,s,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=At(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Hu);break;case"onScroll":null!=i&&Au("scroll",e);break;case"onScrollEnd":null!=i&&Au("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=At(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Au("beforetoggle",e),Au("toggle",e),lt(e,"popover",i);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":lt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,i)}}function Gu(e,t,n,i,s,a){switch(n){case"style":Tt(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?St(e,i):("number"==typeof i||"bigint"==typeof i)&&St(e,""+i);break;case"onScroll":null!=i&&Au("scroll",e);break;case"onScrollEnd":null!=i&&Au("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:tt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(a=null!=(a=e[Be]||null)?a[n]:null)&&e.removeEventListener(t,a,s),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):lt(e,n,i):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s)))}}function Ku(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Au("error",e),Au("load",e);var i,s=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Wu(e,t,i,o,n,null)}}return a&&Wu(e,t,"srcSet",n.srcSet,n,null),void(s&&Wu(e,t,"src",n.src,n,null));case"input":Au("invalid",e);var l=i=o=a=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:Wu(e,t,s,d,n,null)}}return bt(e,i,l,c,u,o,a,!1),void ft(e);case"select":for(a in Au("invalid",e),s=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Wu(e,t,a,l,n,null)}return t=i,n=o,e.multiple=!!s,void(null!=t?wt(e,!!s,t,!1):null!=n&&wt(e,!!s,n,!0));case"textarea":for(o in Au("invalid",e),i=a=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:Wu(e,t,o,l,n,null)}return kt(e,s,a,i),void ft(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else Wu(e,t,c,s,n,null);return;case"dialog":Au("cancel",e),Au("close",e);break;case"iframe":case"object":Au("load",e);break;case"video":case"audio":for(s=0;s<Nu.length;s++)Au(Nu[s],e);break;case"image":Au("error",e),Au("load",e);break;case"details":Au("toggle",e);break;case"embed":case"source":case"link":Au("error",e),Au("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Wu(e,t,u,s,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Gu(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Wu(e,t,l,s,n,null))}var Qu=null,Yu=null;function Xu(e){return 9===e.nodeType?e:e.ownerDocument}function Ju(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ed(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var td=null;var nd="function"==typeof setTimeout?setTimeout:void 0,rd="function"==typeof clearTimeout?clearTimeout:void 0,id="function"==typeof Promise?Promise:void 0,sd="function"==typeof queueMicrotask?queueMicrotask:void 0!==id?function(e){return id.resolve(null).then(e).catch(ad)}:nd;function ad(e){setTimeout(function(){throw e})}function od(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void yh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);yh(t)}function ld(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ld(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function cd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ud(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function dd(e,t,n){switch(t=Xu(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}var hd=new Map,fd=new Set;function pd(e){return"function"==typeof e.getRootNode?e.getRootNode():e.ownerDocument}var md=V.d;V.d={f:function(){var e=md.f(),t=Uc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?pa(t):md.r(e)},D:function(e){md.D(e),yd("dns-prefetch",e,null)},C:function(e,t){md.C(e,t),yd("preconnect",e,t)},L:function(e,t,n){md.L(e,t,n);var r=gd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=bd(e);break;case"script":s=xd(e)}hd.has(s)||(e=O({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),hd.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(_d(s))||"script"===t&&r.querySelector(kd(s))||(Ku(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}},m:function(e,t){md.m(e,t);var n=gd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=xd(e)}if(!hd.has(s)&&(e=O({rel:"modulepreload",href:e},t),hd.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(kd(s)))return}Ku(r=n.createElement("link"),"link",e),Ze(r),n.head.appendChild(r)}}},X:function(e,t){md.X(e,t);var n=gd;if(n&&e){var r=Je(n).hoistableScripts,i=xd(e),s=r.get(i);s||((s=n.querySelector(kd(i)))||(e=O({src:e,async:!0},t),(t=hd.get(i))&&Td(e,t),Ze(s=n.createElement("script")),Ku(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){md.S(e,t,n);var r=gd;if(r&&e){var i=Je(r).hoistableStyles,s=bd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(_d(s)))o.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":t},n),(n=hd.get(s))&&Ed(e,n);var l=a=r.createElement("link");Ze(l),Ku(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Cd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){md.M(e,t);var n=gd;if(n&&e){var r=Je(n).hoistableScripts,i=xd(e),s=r.get(i);s||((s=n.querySelector(kd(i)))||(e=O({src:e,async:!0,type:"module"},t),(t=hd.get(i))&&Td(e,t),Ze(s=n.createElement("script")),Ku(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var gd="undefined"==typeof document?null:document;function yd(e,t,n){var r=gd;if(r&&"string"==typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),fd.has(i)||(fd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Ku(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}}function vd(e,t,n,i){var s,a,o,l,c=(c=Z.current)?pd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=bd(n.href),(i=(n=Je(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=bd(n.href);var u=Je(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(_d(e)))&&!u._p&&(d.instance=u,d.state.loading=5),hd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},hd.set(e,n),u||(s=c,a=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=s.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Ku(a,"link",o),Ze(a),s.head.appendChild(a))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=xd(n),(i=(n=Je(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function bd(e){return'href="'+yt(e)+'"'}function _d(e){return'link[rel="stylesheet"]['+e+"]"}function wd(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function xd(e){return'[src="'+yt(e)+'"]'}function kd(e){return"script[async]"+e}function Sd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(i)return t.instance=i,Ze(i),i;var s=O({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ze(i=(e.ownerDocument||e).createElement("style")),Ku(i,"style",s),Cd(i,n.precedence,e),t.instance=i;case"stylesheet":s=bd(n.href);var a=e.querySelector(_d(s));if(a)return t.state.loading|=4,t.instance=a,Ze(a),a;i=wd(n),(s=hd.get(s))&&Ed(i,s),Ze(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Ku(a,"link",i),t.state.loading|=4,Cd(a,n.precedence,e),t.instance=a;case"script":return a=xd(n.src),(s=e.querySelector(kd(a)))?(t.instance=s,Ze(s),s):(i=n,(s=hd.get(a))&&Td(i=O({},n),s),Ze(s=(e=e.ownerDocument||e).createElement("script")),Ku(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Cd(i,n.precedence,e));return t.instance}function Cd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Nd=null;function Id(e,t,n){if(null===Nd){var r=new Map,i=Nd=new Map;i.set(n,r)}else(r=(i=Nd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ge]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function jd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ad(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Pd=null;function Od(){}function Dd(){if(this.count--,0===this.count)if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Ld=null;function Rd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Ld=new Map,t.forEach(Md,e),Ld=null,Dd.call(e))}function Md(e,t){if(!(4&t.state.loading)){var n=Ld.get(e);if(n)var r=n.get(null);else{n=new Map,Ld.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Dd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var zd={$$typeof:f,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Fd(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Ud(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Fd(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Ml(3,null,null,t),e.current=s,s.stateNode=e,(t=$i()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Ao(s),e}function Bd(e){return e?e=Dr:Dr}function $d(e,t,n,r,i,s){i=Bd(i),null===r.context?r.context=i:r.pendingContext=i,(r=Oo(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Do(e,r,t))&&(Dc(n,0,t),Lo(n,e,t))}function qd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vd(e,t){qd(e,t),(e=e.alternate)&&qd(e,t)}function Hd(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Dc(t,0,67108864),Vd(e,67108864)}}var Wd=!0;function Gd(e,t,n,r){var i=A.T;A.T=null;var s=V.p;try{V.p=2,Qd(e,t,n,r)}finally{V.p=s,A.T=i}}function Kd(e,t,n,r){var i=A.T;A.T=null;var s=V.p;try{V.p=8,Qd(e,t,n,r)}finally{V.p=s,A.T=i}}function Qd(e,t,n,r){if(Wd){var i=Yd(r);if(null===i)Ru(e,t,r,Xd,n),lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return th=ch(th,e,t,n,r,i),!0;case"dragenter":return nh=ch(nh,e,t,n,r,i),!0;case"mouseover":return rh=ch(rh,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ih.set(s,ch(ih.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sh.set(s,ch(sh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(lh(e,r),4&t&&-1<oh.indexOf(e)){for(;null!==i;){var s=Ye(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Te(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-xe(a);o.entanglements[1]|=l,a&=~l}yu(s),!(6&nc)&&(xc=ue()+500,vu(0))}}break;case 13:null!==(o=Ar(s,2))&&Dc(o,0,2),Uc(),Vd(s,2)}if(null===(s=Yd(r))&&Ru(e,t,r,Xd,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Ru(e,t,r,null,n)}}function Yd(e){return Jd(e=Ot(e))}var Xd=null;function Jd(e){if(Xd=null,null!==(e=Qe(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=U(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xd=e,null}function Zd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case he:return 2;case fe:return 8;case pe:case me:return 32;case ge:return 268435456;default:return 32}default:return 32}}var eh=!1,th=null,nh=null,rh=null,ih=new Map,sh=new Map,ah=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lh(e,t){switch(e){case"focusin":case"focusout":th=null;break;case"dragenter":case"dragleave":nh=null;break;case"mouseover":case"mouseout":rh=null;break;case"pointerover":case"pointerout":ih.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sh.delete(t.pointerId)}}function ch(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ye(t))&&Hd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function uh(e){var t=Qe(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=U(n)))return e.blockedOn=t,void function(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}(e.priority,function(){if(13===n.tag){var e=Pc(),t=Ar(n,e);null!==t&&Dc(t,0,e),Vd(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function dh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yd(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&Hd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function hh(e,t,n){dh(e)&&n.delete(t)}function fh(){eh=!1,null!==th&&dh(th)&&(th=null),null!==nh&&dh(nh)&&(nh=null),null!==rh&&dh(rh)&&(rh=null),ih.forEach(hh),sh.forEach(hh)}function ph(t,n){t.blockedOn===n&&(t.blockedOn=null,eh||(eh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fh)))}var mh=null;function gh(t){mh!==t&&(mh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){mh===t&&(mh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===Jd(r||n))continue;break}var s=Ye(n);null!==s&&(t.splice(e,3),e-=3,ha(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function yh(e){function t(t){return ph(t,e)}null!==th&&ph(th,e),null!==nh&&ph(nh,e),null!==rh&&ph(rh,e),ih.forEach(t),sh.forEach(t);for(var n=0;n<ah.length;n++){var r=ah[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ah.length&&null===(n=ah[0]).blockedOn;)uh(n),null===n.blockedOn&&ah.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Be]||null;if("function"==typeof s)a||gh(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Be]||null)o=a.formAction;else if(null!==Jd(i))continue}else o=a.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),gh(n)}}}function vh(e){this._internalRoot=e}function bh(e){this._internalRoot=e}bh.prototype.render=vh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));$d(t.current,Pc(),e,t,null,null)},bh.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&ru(),$d(e.current,2,null,e,null,null),Uc(),t[$e]=null}},bh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ah.length&&0!==t&&t<ah[n].priority;n++);ah.splice(n,0,e),0===n&&uh(e)}};var _h=t.version;if("19.0.0"!==_h)throw Error(r(527,_h,"19.0.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(i=s.return)){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return B(s),e;if(a===i)return B(s),t;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?$(e):null)?null:e.stateNode};var wh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Qe,reconcilerVersion:"19.0.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{be=xh.inject(wh),_e=xh}catch(Sh){}}return w.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,s="",a=Ra,o=Ma,l=za;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ud(e,1,!1,null,0,n,s,a,o,l,0,null),e[$e]=t.current,Du(8===e.nodeType?e.parentNode:e),new vh(t)},w.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var s=!1,a="",o=Ra,l=Ma,c=za,u=null;return null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Ud(e,1,!0,t,0,s,a,o,l,c,0,u)).context=Bd(null),n=t.current,(a=Oo(s=Pc())).callback=null,Do(n,a,s),t.current.lanes=s,De(t,s),yu(t),e[$e]=t.current,Du(e),new bh(t)},w.version="19.0.0",w}var D,L=(N||(N=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),_.exports=O()),_.exports),R={};!function(){if(D)return R;D=1,Object.defineProperty(R,"__esModule",{value:!0}),R.parse=function(e,t){const n=new s,r=e.length;if(r<2)return n;const i=(null==t?void 0:t.decode)||l;let c=0;do{const t=e.indexOf("=",c);if(-1===t)break;const s=e.indexOf(";",c),l=-1===s?r:s;if(t>l){c=e.lastIndexOf(";",t-1)+1;continue}const u=a(e,c,t),d=o(e,t,u),h=e.slice(u,d);if(void 0===n[h]){let r=a(e,t+1,l),s=o(e,l,r);const c=i(e.slice(r,s));n[h]=c}c=l+1}while(c<r);return n},R.serialize=function(s,a,o){const l=(null==o?void 0:o.encode)||encodeURIComponent;if(!e.test(s))throw new TypeError(`argument name is invalid: ${s}`);const c=l(a);if(!t.test(c))throw new TypeError(`argument val is invalid: ${a}`);let u=s+"="+c;if(!o)return u;if(void 0!==o.maxAge){if(!Number.isInteger(o.maxAge))throw new TypeError(`option maxAge is invalid: ${o.maxAge}`);u+="; Max-Age="+o.maxAge}if(o.domain){if(!n.test(o.domain))throw new TypeError(`option domain is invalid: ${o.domain}`);u+="; Domain="+o.domain}if(o.path){if(!r.test(o.path))throw new TypeError(`option path is invalid: ${o.path}`);u+="; Path="+o.path}if(o.expires){if(!function(e){return"[object Date]"===i.call(e)}(o.expires)||!Number.isFinite(o.expires.valueOf()))throw new TypeError(`option expires is invalid: ${o.expires}`);u+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(u+="; HttpOnly");o.secure&&(u+="; Secure");o.partitioned&&(u+="; Partitioned");if(o.priority){switch("string"==typeof o.priority?o.priority.toLowerCase():void 0){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${o.priority}`)}}if(o.sameSite){switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${o.sameSite}`)}}return u};const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function a(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function o(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function l(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}}();
/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
var M="popstate";function z(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();null==c&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function h(e,t){o="PUSH";let n=$(m.location,e,t);c=u()+1;let r=B(n,c),d=m.createHref(n);try{a.pushState(r,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(d)}s&&l&&l({action:o,location:m.location,delta:1})}function f(e,t){o="REPLACE";let n=$(m.location,e,t);c=u();let r=B(n,c),i=m.createHref(n);a.replaceState(r,"",i),s&&l&&l({action:o,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:q(e);return n=n.replace(/ $/,"%20"),F(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}let m={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(M,d),l=e,()=>{i.removeEventListener(M,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>a.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return $("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:q(t)},0,e)}function F(e,t){if(!1===e||null==e)throw new Error(t)}function U(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function B(e,t){return{usr:e.state,key:e.key,idx:t}}function $(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?V(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function q({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function V(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function H(e,t,n="/"){return function(e,t,n,r){let i="string"==typeof t?V(t):t,s=se(i.pathname||"/",n);if(null==s)return null;let a=W(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let l=0;null==o&&l<a.length;++l){let e=ie(s);o=ne(a[l],e,r)}return o}(e,t,n,!1)}function W(e,t=[],n=[],r=""){let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(F(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let o=ce([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(F(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),W(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:te(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let r of G(e.path))i(e,t,r);else i(e,t)}),t}function G(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=G(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var K=/^:[\w-]+$/,Q=3,Y=2,X=1,J=10,Z=-2,ee=e=>"*"===e;function te(e,t){let n=e.split("/"),r=n.length;return n.some(ee)&&(r+=Z),t&&(r+=Y),n.filter(e=>!ee(e)).reduce((e,t)=>e+(K.test(t)?Q:""===t?X:J),r)}function ne(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=re({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=re({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:ce([s,u.pathname]),pathnameBase:ue(ce([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=ce([s,u.pathnameBase]))}return a}function re(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){U("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=o[r]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function ie(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return U(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function se(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ae(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oe(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function le(e,t,n,r=!1){let i;"string"==typeof e?i=V(e):(i={...e},F(!i.pathname||!i.pathname.includes("?"),ae("?","pathname","search",i)),F(!i.pathname||!i.pathname.includes("#"),ae("#","pathname","hash",i)),F(!i.search||!i.search.includes("#"),ae("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:n,search:r="",hash:i=""}="string"==typeof e?V(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:de(r),hash:he(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var ce=e=>e.join("/").replace(/\/\/+/g,"/"),ue=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),de=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",he=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var fe=["POST","PUT","PATCH","DELETE"];new Set(fe);var pe=["GET",...fe];new Set(pe);var me=g.createContext(null);me.displayName="DataRouter";var ge=g.createContext(null);ge.displayName="DataRouterState";var ye=g.createContext({isTransitioning:!1});ye.displayName="ViewTransition",g.createContext(new Map).displayName="Fetchers",g.createContext(null).displayName="Await";var ve=g.createContext(null);ve.displayName="Navigation";var be=g.createContext(null);be.displayName="Location";var _e=g.createContext({outlet:null,matches:[],isDataRoute:!1});_e.displayName="Route";var we=g.createContext(null);function xe(){return null!=g.useContext(be)}function ke(){return F(xe(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(be).location}we.displayName="RouteError";var Se="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ce(e){g.useContext(ve).static||g.useLayoutEffect(e)}function Ee(){let{isDataRoute:e}=g.useContext(_e);return e?function(){let{router:e}=function(e){let t=g.useContext(me);return F(t,De(e)),t}("useNavigate"),t=Le("useNavigate"),n=g.useRef(!1);return Ce(()=>{n.current=!0}),g.useCallback(async(r,i={})=>{U(n.current,Se),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}():function(){F(xe(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(me),{basename:t,navigator:n}=g.useContext(ve),{matches:r}=g.useContext(_e),{pathname:i}=ke(),s=JSON.stringify(oe(r)),a=g.useRef(!1);return Ce(()=>{a.current=!0}),g.useCallback((r,o={})=>{if(U(a.current,Se),!a.current)return;if("number"==typeof r)return void n.go(r);let l=le(r,JSON.parse(s),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ce([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,s,i,e])}()}var Te=g.createContext(null);function Ne(e,{relative:t}={}){let{matches:n}=g.useContext(_e),{pathname:r}=ke(),i=JSON.stringify(oe(n));return g.useMemo(()=>le(e,JSON.parse(i),r,"path"===t),[e,i,r,t])}function Ie(e,t,n,r){var i;F(xe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=g.useContext(ve),{matches:o}=g.useContext(_e),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Me(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,p=ke();if(t){let e="string"==typeof t?V(t):t;F("/"===d||(null==(i=e.pathname)?void 0:i.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=p;let m=f.pathname||"/",y=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=!a&&n&&n.matches&&n.matches.length>0?n.matches:H(e,{pathname:y});U(h||null!=v,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),U(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=function(e,t=[],n=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,i=null==n?void 0:n.errors;if(null!=i){let e=r.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));F(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let s=!1,a=-1;if(n)for(let o=0;o<r.length;o++){let e=r[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=o),e.route.id){let{loaderData:t,errors:i}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||o){s=!0,r=a>=0?r.slice(0,a+1):[r[0]];break}}}return r.reduceRight((e,o,l)=>{let c,u=!1,d=null,h=null;n&&(c=i&&o.route.id?i[o.route.id]:void 0,d=o.route.errorElement||Ae,s&&(a<0&&0===l?(Me("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,h=null):a===l&&(u=!0,h=o.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,l+1)),p=()=>{let t;return t=c?d:u?h:o.route.Component?g.createElement(o.route.Component,null):o.route.element?o.route.element:e,g.createElement(Oe,{match:o,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===l)?g.createElement(Pe,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ce([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:ce([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&b?g.createElement(be.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},b):b}function je(){let e=function(){var e;let t=g.useContext(we),n=function(e){let t=g.useContext(ge);return F(t,De(e)),t}("useRouteError"),r=Le("useRouteError");if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"ErrorBoundary")," or"," ",g.createElement("code",{style:s},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,a)}var Ae=g.createElement(je,null),Pe=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?g.createElement(_e.Provider,{value:this.props.routeContext},g.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Oe({routeContext:e,match:t,children:n}){let r=g.useContext(me);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(_e.Provider,{value:e},n)}function De(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Le(e){let t=function(e){let t=g.useContext(_e);return F(t,De(e)),t}(e),n=t.matches[t.matches.length-1];return F(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var Re={};function Me(e,t,n){t||Re[e]||(Re[e]=!0,U(!1,n))}function ze({to:e,replace:t,state:n,relative:r}){F(xe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(ve);U(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=g.useContext(_e),{pathname:a}=ke(),o=Ee(),l=le(e,oe(s),a,"path"===r),c=JSON.stringify(l);return g.useEffect(()=>{o(JSON.parse(c),{replace:t,state:n,relative:r})},[o,c,r,t,n]),null}function Fe(e){return function(e){let t=g.useContext(_e).outlet;return t?g.createElement(Te.Provider,{value:e},t):t}(e.context)}function Ue(e){F(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Be({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){F(!xe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=g.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);"string"==typeof n&&(n=V(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,f=g.useMemo(()=>{let e=se(l,a);return null==e?null:{location:{pathname:e,search:c,hash:u,state:d,key:h},navigationType:r}},[a,l,c,u,d,h,r]);return U(null!=f,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),null==f?null:g.createElement(ve.Provider,{value:o},g.createElement(be.Provider,{children:t,value:f}))}function $e({children:e,location:t}){return Ie(qe(e),t)}function qe(e,t=[]){let n=[];return g.Children.forEach(e,(e,r)=>{if(!g.isValidElement(e))return;let i=[...t,r];if(e.type===g.Fragment)return void n.push.apply(n,qe(e.props.children,i));F(e.type===Ue,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),F(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=qe(e.props.children,i)),n.push(s)}),n}g.memo(function({routes:e,future:t,state:n}){return Ie(e,void 0,n,t)});var Ve="get",He="application/x-www-form-urlencoded";function We(e){return null!=e&&"string"==typeof e.tagName}function Ge(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}var Ke=null;var Qe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ye(e){return null==e||Qe.has(e)?e:(U(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${He}"`),null)}function Xe(e,t){let n,r,i,s,a;if(We(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?se(a,t):null,n=e.getAttribute("method")||Ve,i=Ye(e.getAttribute("enctype"))||He,s=new FormData(e)}else if(function(e){return We(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return We(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?se(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ve,i=Ye(e.getAttribute("formenctype"))||Ye(a.getAttribute("enctype"))||He,s=new FormData(a,e),!function(){if(null===Ke)try{new FormData(document.createElement("form"),0),Ke=!1}catch(e){Ke=!0}return Ke}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(We(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ve,r=null,i=He,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Je(e,t){if(!1===e||null==e)throw new Error(t)}function Ze(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function et(e,t,n){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ze).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function tt(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null==(r=n[t].route.path)?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{var l;let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function nt(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function rt(){let e=g.useContext(me);return Je(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}var it=g.createContext(void 0);function st(){let e=g.useContext(it);return Je(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ot({page:e,...t}){let{router:n}=rt(),r=g.useMemo(()=>H(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?g.createElement(lt,{page:e,matches:r,...t}):null}function lt({page:e,matches:t,...n}){let r=ke(),{manifest:i,routeModules:s}=st(),{basename:a}=rt(),{loaderData:o,matches:l}=function(){let e=g.useContext(ge);return Je(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=g.useMemo(()=>tt(e,t,l,i,r,"data"),[e,t,l,i,r]),u=g.useMemo(()=>tt(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=g.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{var t;let r=i.routes[e.route.id];r&&r.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in o&&(null==(t=s[e.route.id])?void 0:t.shouldRevalidate)||r.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let u=function(e,t){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===se(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}(e,a);return l&&n.size>0&&u.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[u.pathname+u.search]},[a,o,r,i,c,t,e,s]),h=g.useMemo(()=>nt(u,i),[u,i]),f=function(e){let{manifest:t,routeModules:n}=st(),[r,i]=g.useState([]);return g.useEffect(()=>{let r=!1;return et(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}(u);return g.createElement(g.Fragment,null,d.map(e=>g.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),h.map(e=>g.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),f.map(({key:e,link:t})=>g.createElement("link",{key:e,...t})))}function ct(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}it.displayName="FrameworkContext";var ut="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{ut&&(window.__reactRouterVersion="7.4.0")}catch(uD){}function dt({basename:e,children:t,window:n}){let r=g.useRef();null==r.current&&(r.current=z({window:n,v5Compat:!0}));let i=r.current,[s,a]=g.useState({action:i.action,location:i.location}),o=g.useCallback(e=>{g.startTransition(()=>a(e))},[a]);return g.useLayoutEffect(()=>i.listen(o),[i,o]),g.createElement(Be,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=g.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:i,replace:s,state:a,target:o,to:l,preventScrollReset:c,viewTransition:u,...d},h){let f,{basename:p}=g.useContext(ve),m="string"==typeof l&&ht.test(l),y=!1;if("string"==typeof l&&m&&(f=l,ut))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),n=se(t.pathname,p);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:y=!0}catch(uD){U(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=function(e,{relative:t}={}){F(xe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(ve),{hash:i,pathname:s,search:a}=Ne(e,{relative:t}),o=s;return"/"!==n&&(o="/"===s?n:ce([n,s])),r.createHref({pathname:o,search:a,hash:i})}(l,{relative:r}),[b,_,w]=function(e,t){let n=g.useContext(it),[r,i]=g.useState(!1),[s,a]=g.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=g.useRef(null);g.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),g.useEffect(()=>{if(r){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[r]);let f=()=>{i(!0)},p=()=>{i(!1),a(!1)};return n?"intent"!==e?[s,h,{}]:[s,h,{onFocus:at(o,f),onBlur:at(l,p),onMouseEnter:at(c,f),onMouseLeave:at(u,p),onTouchStart:at(d,f)}]:[!1,h,{}]}(n,d),x=function(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Ee(),l=ke(),c=Ne(e,{relative:s});return g.useCallback(u=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(u,t)){u.preventDefault();let t=void 0!==n?n:q(l)===q(c);o(e,{replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,t,e,i,s,a])}(l,{replace:s,state:a,target:o,preventScrollReset:c,relative:r,viewTransition:u});let k=g.createElement("a",{...d,...w,href:f||v,onClick:y||i?e:function(t){e&&e(t),t.defaultPrevented||x(t)},ref:ct(h,_),target:o,"data-discover":m||"render"!==t?void 0:"true"});return b&&!m?g.createElement(g.Fragment,null,k,g.createElement(ot,{page:v})):k});ft.displayName="Link";var pt=g.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:i,to:s,viewTransition:a,children:o,...l},c){let u=Ne(s,{relative:l.relative}),d=ke(),h=g.useContext(ge),{navigator:f,basename:p}=g.useContext(ve),m=null!=h&&function(e,t={}){let n=g.useContext(ye);F(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mt("useViewTransitionState"),i=Ne(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=se(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=se(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=re(i.pathname,a)||null!=re(i.pathname,s)}(u)&&!0===a,y=f.encodeLocation?f.encodeLocation(u).pathname:u.pathname,v=d.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(v=v.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&p&&(b=se(b,p)||b);const _="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,x=v===y||!r&&v.startsWith(y)&&"/"===v.charAt(_),k=null!=b&&(b===y||!r&&b.startsWith(y)&&"/"===b.charAt(y.length)),S={isActive:x,isPending:k,isTransitioning:m},C=x?e:void 0;w="function"==typeof n?n(S):[n,x?"active":null,k?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let E="function"==typeof i?i(S):i;return g.createElement(ft,{...l,"aria-current":C,className:w,ref:c,style:E,to:s,viewTransition:a},"function"==typeof o?o(S):o)});function mt(e){let t=g.useContext(me);return F(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}function gt(e){U("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(Ge(e)),n=g.useRef(!1),r=ke(),i=g.useMemo(()=>function(e,t){let n=Ge(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),s=Ee(),a=g.useCallback((e,t)=>{const r=Ge("function"==typeof e?e(i):e);n.current=!0,s("?"+r,t)},[s,i]);return[i,a]}pt.displayName="NavLink",g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Ve,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},f)=>{let p=function(){let{router:e}=mt("useSubmit"),{basename:t}=g.useContext(ve),n=Le("useRouteId");return g.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=Xe(r,t);if(!1===i.navigate){let t=i.fetcherKey||vt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}(),m=function(e,{relative:t}={}){let{basename:n}=g.useContext(ve),r=g.useContext(_e);F(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ne(e||".",{relative:t})},a=ke();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:ce([n,s.pathname]));return q(s)}(o,{relative:c}),y="get"===a.toLowerCase()?"get":"post",v="string"==typeof o&&ht.test(o);return g.createElement("form",{ref:f,method:y,action:m,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,o=(null==r?void 0:r.getAttribute("formmethod"))||a;p(r||e.currentTarget,{fetcherKey:t,method:o,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:d})},...h,"data-discover":v||"render"!==e?void 0:"true"})}).displayName="Form";var yt=0,vt=()=>`__${String(++yt)}__`;new TextEncoder;const bt=i(P());function _t(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_t(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function wt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_t(e))&&(r&&(r+=" "),r+=t);return r}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var xt=e=>"number"==typeof e&&!isNaN(e),kt=e=>"string"==typeof e,St=e=>"function"==typeof e,Ct=e=>kt(e)||St(e)?e:null,Et=(e,t)=>!1===e||xt(e)&&e>0?e:t,Tt=e=>g.isValidElement(e)||kt(e)||St(e)||xt(e);function Nt(e,t){return{content:It(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function It(e,t,n=!1){return g.isValidElement(e)&&!kt(e.type)?g.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):St(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function jt({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:a,progress:o,rtl:l,isIn:c,theme:u}){let d=i||a&&0===o,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};a&&(h.transform=`scaleX(${o})`);let f=wt("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),p=St(s)?s({rtl:l,type:r,defaultClassName:f}):wt(f,s),m={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{c&&n()}};return y.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":d},y.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),y.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:p,style:h,...m}))}var At=1,Pt=()=>""+At++;function Ot(e,t,n){let r=1,i=0,s=[],a=[],o=t,l=new Map,c=new Set,u=()=>{a=Array.from(l.values()),c.forEach(e=>e())},d=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(d);else{let t=l.get(e);t&&d(t)}u()},f=e=>{var t,r;let{toastId:i,updateId:s}=e.props,a=null==s;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(i,e),u(),n(Nt(e,a?"added":"updated")),a&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:h,toasts:l,clearQueue:()=>{i-=s.length,s=[]},buildToast:(t,a)=>{if((({containerId:t,toastId:n,updateId:r})=>{let i=t?t!==e:1!==e,s=l.has(n)&&null==r;return i||s})(a))return;let{toastId:c,updateId:d,data:p,staleId:m,delay:g}=a,y=null==d;y&&i++;let v={...o,style:o.toastStyle,key:r++,...Object.fromEntries(Object.entries(a).filter(([e,t])=>null!=t)),toastId:c,updateId:d,data:p,isIn:!1,className:Ct(a.className||o.toastClassName),progressClassName:Ct(a.progressClassName||o.progressClassName),autoClose:!a.isLoading&&Et(a.autoClose,o.autoClose),closeToast(e){l.get(c).removalReason=e,h(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(Nt(e,"removed")),l.delete(c),i--,i<0&&(i=0),s.length>0)return void f(s.shift());u()}}};v.closeButton=o.closeButton,!1===a.closeButton||Tt(a.closeButton)?v.closeButton=a.closeButton:!0===a.closeButton&&(v.closeButton=!Tt(o.closeButton)||o.closeButton);let b={content:t,props:v,staleId:m};o.limit&&o.limit>0&&i>o.limit&&y?s.push(b):xt(g)?setTimeout(()=>{f(b)},g):f(b)},setProps(e){o=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>a}}var Dt=new Map,Lt=[],Rt=new Set,Mt=e=>Rt.forEach(t=>t(e)),zt=()=>Dt.size>0;function Ft(e,t){var n;if(t)return!(null==(n=Dt.get(t))||!n.isToastActive(e));let r=!1;return Dt.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function Ut(e){if(zt()){if(null==e||(e=>kt(e)||xt(e))(e))Dt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Dt.get(e.containerId);t?t.removeToast(e.id):Dt.forEach(t=>{t.removeToast(e.id)})}}else Lt=Lt.filter(t=>null!=e&&t.options.toastId!==e)}function Bt(e,t){Tt(e)&&(zt()||Lt.push({content:e,options:t}),Dt.forEach(n=>{n.buildToast(e,t)}))}function $t(e,t){Dt.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function qt(e){let t=e.containerId||1;return{subscribe(n){let r=Ot(t,e,Mt);Dt.set(t,r);let i=r.observe(n);return Lt.forEach(e=>Bt(e.content,e.options)),Lt=[],()=>{i(),Dt.delete(t)}},setProps(e){var n;null==(n=Dt.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Dt.get(t))?void 0:e.getSnapshot()}}}function Vt(e){return e&&(kt(e.toastId)||xt(e.toastId))?e.toastId:Pt()}function Ht(e,t){return Bt(e,t),t.toastId}function Wt(e,t){return{...t,type:t&&t.type||e,toastId:Vt(t)}}function Gt(e){return(t,n)=>Ht(t,Wt(e,n))}function Kt(e,t){return Ht(e,Wt("default",t))}function Qt(e){let[t,n]=g.useState(!1),[r,i]=g.useState(!1),s=g.useRef(null),a=g.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=e;function h(){n(!0)}function f(){n(!1)}function p(n){let r=s.current;if(a.canDrag&&r){a.didMove=!0,t&&f(),"x"===e.draggableDirection?a.delta=n.clientX-a.start:a.delta=n.clientY-a.start,a.start!==n.clientX&&(a.canCloseOnClick=!1);let i="x"===e.draggableDirection?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;r.style.transform=`translate3d(${i},0)`,r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance))}}function m(){document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",m);let t=s.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Dt.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),g.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||f(),window.addEventListener("focus",h),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",f)}},[e.pauseOnFocusLoss]);let y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){a.didMove=!1,document.addEventListener("pointermove",p),document.addEventListener("pointerup",m);let n=s.current;a.canCloseOnClick=!0,a.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(a.start=t.clientX,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=t.clientY,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:i,right:a}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=a&&t.clientY>=n&&t.clientY<=r?f():h()}};return o&&l&&(y.onMouseEnter=f,e.stacked||(y.onMouseLeave=h)),d&&(y.onClick=e=>{u&&u(e),a.canCloseOnClick&&c(!0)}),{playToast:h,pauseToast:f,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:y}}Kt.loading=(e,t)=>Ht(e,Wt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Kt.promise=function(e,{pending:t,error:n,success:r},i){let s;t&&(s=kt(t)?Kt.loading(t,i):Kt.loading(t.render,{...i,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(e,t,n)=>{if(null==t)return void Kt.dismiss(s);let r={type:e,...a,...i,data:n},o=kt(t)?{render:t}:t;return s?Kt.update(s,{...r,...o}):Kt(o.render,{...r,...o}),n},l=St(e)?e():e;return l.then(e=>o("success",r,e)).catch(e=>o("error",n,e)),l},Kt.success=Gt("success"),Kt.info=Gt("info"),Kt.error=Gt("error"),Kt.warning=Gt("warning"),Kt.warn=Kt.warning,Kt.dark=(e,t)=>Ht(e,Wt("default",{theme:"dark",...t})),Kt.dismiss=function(e){Ut(e)},Kt.clearWaitingQueue=(e={})=>{Dt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Kt.isActive=Ft,Kt.update=(e,t={})=>{let n=((e,{containerId:t})=>{var n;return null==(n=Dt.get(t||1))?void 0:n.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Pt()};s.toastId!==e&&(s.staleId=e);let a=s.render||i;delete s.render,Ht(a,s)}},Kt.done=e=>{Kt.update(e,{progress:1})},Kt.onChange=function(e){return Rt.add(e),()=>{Rt.delete(e)}},Kt.play=e=>$t(!0,e),Kt.pause=e=>$t(!1,e);var Yt="undefined"!=typeof window?g.useLayoutEffect:g.useEffect,Xt=({theme:e,type:t,isLoading:n,...r})=>y.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${t})`,...r});var Jt={info:function(e){return y.createElement(Xt,{...e},y.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return y.createElement(Xt,{...e},y.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return y.createElement(Xt,{...e},y.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return y.createElement(Xt,{...e},y.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return y.createElement("div",{className:"Toastify__spinner"})}};function Zt({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return!1===r||(St(r)?i=r({...s,isLoading:n}):g.isValidElement(r)?i=g.cloneElement(r,s):n?i=Jt.spinner():(e=>e in Jt)(t)&&(i=Jt[t](s))),i}var en=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=Qt(e),{closeButton:a,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:f,position:p,className:m,style:v,progressClassName:b,updateId:_,role:w,progress:x,rtl:k,toastId:S,deleteToast:C,isIn:E,isLoading:T,closeOnClick:N,theme:I,ariaLabel:j}=e,A=wt("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":N}),P=St(m)?m({rtl:k,position:p,type:u,defaultClassName:A}):wt(A,m),O=Zt(e),D=!!x||!l,L={closeToast:h,type:u,theme:I},R=null;return!1===a||(R=St(a)?a(L):g.isValidElement(a)?g.cloneElement(a,L):function({closeToast:e,theme:t,ariaLabel:n="close"}){return y.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:t=>{t.stopPropagation(),e(!0)},"aria-label":n},y.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},y.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(L)),y.createElement(f,{isIn:E,done:C,position:p,preventExitTransition:n,nodeRef:r,playToast:s},y.createElement("div",{id:S,tabIndex:0,onClick:c,"data-in":E,className:P,...i,style:v,ref:r,...E&&{role:w,"aria-label":j}},null!=O&&y.createElement("div",{className:wt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},O),It(o,e,!t),R,!e.customProgressBar&&y.createElement(jt,{..._&&!D?{key:`p-${_}`}:{},rtl:k,theme:I,delay:l,isRunning:t,isIn:E,closeToast:h,hide:d,type:u,className:b,controlledProgress:D,progress:x||0})))},tn=function({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:a,preventExitTransition:o,done:l,nodeRef:c,isIn:u,playToast:d}){let h=n?`${e}--${a}`:e,f=n?`${t}--${a}`:t,p=g.useRef(0);return g.useLayoutEffect(()=>{let e=c.current,t=h.split(" "),n=r=>{r.target===c.current&&(d(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===p.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),g.useEffect(()=>{let e=c.current,t=()=>{e.removeEventListener("animationend",t),r?function(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,l,i):l()};u||(o?t():(p.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))},[u]),y.createElement(y.Fragment,null,s)}}(((e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}))("bounce",!0)),nn={position:"top-right",transition:tn,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code};function rn(e){let t={...nn,...e},n=e.stacked,[r,i]=g.useState(!0),s=g.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=function(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=g.useRef(qt(e)).current;i(e);let s=null==(t=g.useSyncExternalStore(n,r,r))?void 0:t.slice();return{getToastToRender:function(t){if(!s)return[];let n=new Map;return e.newestOnTop&&s.reverse(),s.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:Ft,count:null==s?void 0:s.length}}(t),{className:c,style:u,rtl:d,containerId:h,hotKeys:f}=t;function p(e){let t=wt("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":d});return St(c)?c({position:e,rtl:d,defaultClassName:t}):wt(t,Ct(c))}function m(){n&&(i(!0),Kt.play())}return Yt(()=>{var e;if(n){let n=s.current.querySelectorAll('[data-in="true"]'),i=12,a=null==(e=t.position)?void 0:e.includes("top"),o=0,l=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${r}`),n.dataset.pos||(n.dataset.pos=a?"top":"bot");let s=o*(r?.2:1)+(r?0:i*t);n.style.setProperty("--y",`${a?s:-1*s}px`),n.style.setProperty("--g",`${i}`),n.style.setProperty("--s",""+(1-(r?l:0))),o+=n.offsetHeight,l+=.025})}},[r,l,n]),g.useEffect(()=>{function e(e){var t;let n=s.current;f(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),i(!1),Kt.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(i(!0),Kt.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[f]),y.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),Kt.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((e,t)=>{let r=t.length?{...u}:{...u,pointerEvents:"none"};return y.createElement("div",{tabIndex:-1,className:p(e),"data-stacked":n,style:r,key:`c-${e}`},t.map(({content:e,props:t})=>y.createElement(en,{...t,stacked:n,collapseAll:m,isIn:o(t.toastId,t.containerId),key:`t-${t.key}`},e)))}))}const sn=g.createContext({});function an(e){const t=g.useRef(null);return null===t.current&&(t.current=e()),t.current}const on="undefined"!=typeof window?g.useLayoutEffect:g.useEffect,ln=g.createContext(null),cn=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class un extends g.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dn({children:e,isPresent:t,anchorX:n}){const r=g.useId(),i=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=g.useContext(cn);return g.useInsertionEffect(()=>{const{width:e,height:o,top:l,left:c,right:u}=s.current;if(t||!i.current||!e||!o)return;const d="left"===n?`left: ${c}`:`right: ${u}`;i.current.dataset.motionPopId=r;const h=document.createElement("style");return a&&(h.nonce=a),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${o}px !important;\n            ${d}px !important;\n            top: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(h)}},[t]),d.jsx(un,{isPresent:t,childRef:i,sizeRef:s,children:g.cloneElement(e,{ref:i})})}const hn=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o})=>{const l=an(fn),c=g.useId(),u=g.useCallback(e=>{l.set(e,!0);for(const t of l.values())if(!t)return;r&&r()},[l,r]),h=g.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:u,register:e=>(l.set(e,!1),()=>l.delete(e))}),s?[Math.random(),u]:[n,u]);return g.useMemo(()=>{l.forEach((e,t)=>l.set(t,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),"popLayout"===a&&(e=d.jsx(dn,{isPresent:n,anchorX:o,children:e})),d.jsx(ln.Provider,{value:h,children:e})};function fn(){return new Map}const pn=e=>e.key||"";function mn(e){const t=[];return g.Children.forEach(e,e=>{g.isValidElement(e)&&t.push(e)}),t}const gn=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left"})=>{const[l,c]=function(e=!0){const t=g.useContext(ln);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=g.useId();g.useEffect(()=>{if(e)return i(s)},[e]);const a=g.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,a]:[!0]}(a),u=g.useMemo(()=>mn(e),[e]),h=a&&!l?[]:u.map(pn),f=g.useRef(!0),p=g.useRef(u),m=an(()=>new Map),[y,v]=g.useState(u),[b,_]=g.useState(u);on(()=>{f.current=!1,p.current=u;for(let e=0;e<b.length;e++){const t=pn(b[e]);h.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[b,h.length,h.join("-")]);const w=[];if(u!==y){let e=[...u];for(let t=0;t<b.length;t++){const n=b[t],r=pn(n);h.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===s&&w.length&&(e=w),_(mn(e)),v(u),null}const{forceRender:x}=g.useContext(sn);return d.jsx(d.Fragment,{children:b.map(e=>{const g=pn(e),y=!(a&&!l)&&(u===b||h.includes(g));return d.jsx(hn,{isPresent:y,initial:!(f.current&&!n)&&void 0,custom:t,presenceAffectsLayout:i,mode:s,onExitComplete:y?void 0:()=>{if(!m.has(g))return;m.set(g,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(null==x||x(),_(p.current),a&&(null==c||c()),r&&r())},anchorX:o,children:e},g)})})};var yn,vn;const bn=i(function(){if(vn)return yn;vn=1;var e="undefined"!=typeof Element,t="function"==typeof Map,n="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(s,a){if(s===a)return!0;if(s&&a&&"object"==typeof s&&"object"==typeof a){if(s.constructor!==a.constructor)return!1;var o,l,c,u;if(Array.isArray(s)){if((o=s.length)!=a.length)return!1;for(l=o;0!==l--;)if(!i(s[l],a[l]))return!1;return!0}if(t&&s instanceof Map&&a instanceof Map){if(s.size!==a.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=s.entries();!(l=u.next()).done;)if(!i(l.value[1],a.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&a instanceof Set){if(s.size!==a.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(a)){if((o=s.length)!=a.length)return!1;for(l=o;0!==l--;)if(s[l]!==a[l])return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf&&"function"==typeof s.valueOf&&"function"==typeof a.valueOf)return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString&&"function"==typeof s.toString&&"function"==typeof a.toString)return s.toString()===a.toString();if((o=(c=Object.keys(s)).length)!==Object.keys(a).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(e&&s instanceof Element)return!1;for(l=o;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!s.$$typeof)&&!i(s[c[l]],a[c[l]]))return!1;return!0}return s!=s&&a!=a}return yn=function(e,t){try{return i(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}}());var _n,wn;var xn=wn?_n:(wn=1,_n=function(e,t,n,r,i,s,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,a,o],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}});const kn=i(xn);var Sn,Cn;const En=i(Cn?Sn:(Cn=1,Sn=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!o(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}));var Tn=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Tn||{}),Nn={rel:["amphtml","canonical","alternate"]},In={type:["application/ld+json"]},jn={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},An=Object.values(Tn),Pn={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},On=Object.entries(Pn).reduce((e,[t,n])=>(e[n]=t,e),{}),Dn="data-rh",Ln="defaultTitle",Rn="defer",Mn="encodeSpecialCharacters",zn="onChangeClientState",Fn="titleTemplate",Un="prioritizeSeoTags",Bn=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},$n=e=>{let t=Bn(e,"title");const n=Bn(e,Fn);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=Bn(e,Ln);return t||r||void 0},qn=e=>Bn(e,zn)||(()=>{}),Vn=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),Hn=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,n)=>{if(!t.length){const r=Object.keys(n);for(let i=0;i<r.length;i+=1){const s=r[i].toLowerCase();if(-1!==e.indexOf(s)&&n[s])return t.concat(n)}}return t},[]),Wn=(e,t,n)=>{const r={};return n.filter(t=>{return!!Array.isArray(t[e])||(void 0!==t[e]&&(n=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"==typeof console.warn&&console.warn(n)),!1);var n}).map(t=>t[e]).reverse().reduce((e,n)=>{const i={};n.filter(e=>{let n;const s=Object.keys(e);for(let r=0;r<s.length;r+=1){const i=s[r],a=i.toLowerCase();-1===t.indexOf(a)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===a&&"stylesheet"===e[a].toLowerCase()||(n=a),-1===t.indexOf(i)||"innerHTML"!==i&&"cssText"!==i&&"itemprop"!==i||(n=i)}if(!n||!e[n])return!1;const a=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][a]&&(i[n][a]=!0,!0)}).reverse().forEach(t=>e.push(t));const s=Object.keys(i);for(let t=0;t<s.length;t+=1){const e=s[t],n={...r[e],...i[e]};r[e]=n}return e},[]).reverse()},Gn=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},Kn=e=>Array.isArray(e)?e.join(""):e,Qn=(e,t)=>Array.isArray(e)?e.reduce((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e),{priority:[],default:[]}):{default:e,priority:[]},Yn=(e,t)=>({...e,[t]:void 0}),Xn=["noscript","script","style"],Jn=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Zn=e=>Object.keys(e).reduce((t,n)=>{const r=void 0!==e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),er=(e,t={})=>Object.keys(e).reduce((t,n)=>(t[Pn[n]||n]=e[n],t),t),tr=(e,t)=>t.map((t,n)=>{const r={key:n,[Dn]:!0};return Object.keys(t).forEach(e=>{const n=Pn[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]}),y.createElement(e,r)}),nr=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const r=er(n,{key:t,[Dn]:!0});return[y.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const i=Zn(n),s=Kn(t);return i?`<${e} ${Dn}="true" ${i}>${Jn(s,r)}</${e}>`:`<${e} ${Dn}="true">${Jn(s,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>er(t),toString:()=>Zn(t)};default:return{toComponent:()=>tr(e,t),toString:()=>((e,t,n=!0)=>t.reduce((t,r)=>{const i=r,s=Object.keys(i).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r=void 0===i[t]?t:`${t}="${Jn(i[t],n)}"`;return e?`${e} ${r}`:r},""),a=i.innerHTML||i.cssText||"",o=-1===Xn.indexOf(e);return`${t}<${e} ${Dn}="true" ${s}${o?"/>":`>${a}</${e}>`}`},""))(e,t,n)}}},rr=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:d,scriptTags:h}=e,f={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:f,linkTags:u,metaTags:d,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const i=Qn(e,jn),s=Qn(t,Nn),a=Qn(n,In);return{priorityMethods:{toComponent:()=>[...tr("meta",i.priority),...tr("link",s.priority),...tr("script",a.priority)],toString:()=>`${nr("meta",i.priority,r)} ${nr("link",s.priority,r)} ${nr("script",a.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:a.default}})(e)),{priority:f,base:nr("base",t,r),bodyAttributes:nr("bodyAttributes",n,r),htmlAttributes:nr("htmlAttributes",i,r),link:nr("link",u,r),meta:nr("meta",d,r),noscript:nr("noscript",s,r),script:nr("script",h,r),style:nr("style",a,r),title:nr("title",{title:o,titleAttributes:l},r)}},ir=[],sr=!("undefined"==typeof window||!window.document||!window.document.createElement),ar=class{constructor(e,t){r(this,"instances",[]),r(this,"canUseDOM",sr),r(this,"context"),r(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?ir:this.instances,add:e=>{(this.canUseDOM?ir:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?ir:this.instances).indexOf(e);(this.canUseDOM?ir:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=rr({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},or=y.createContext({}),lr=(e=class extends g.Component{constructor(t){super(t),r(this,"helmetData"),this.helmetData=new ar(this.props.context||{},e.canUseDOM)}render(){return y.createElement(or.Provider,{value:this.helmetData.value},this.props.children)}},r(e,"canUseDOM",sr),e),cr=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${Dn}]`),i=[].slice.call(r),s=[];let a;return t&&t.length&&t.forEach(t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,i=void 0===t[r]?"":t[r];n.setAttribute(e,i)}n.setAttribute(Dn,"true"),i.some((e,t)=>(a=t,n.isEqualNode(e)))?i.splice(a,1):s.push(n)}),i.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),s.forEach(e=>n.appendChild(e)),{oldTags:i,newTags:s}},ur=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(Dn),i=r?r.split(","):[],s=[...i],a=Object.keys(t);for(const o of a){const e=t[o]||"";n.getAttribute(o)!==e&&n.setAttribute(o,e),-1===i.indexOf(o)&&i.push(o);const r=s.indexOf(o);-1!==r&&s.splice(r,1)}for(let o=s.length-1;o>=0;o-=1)n.removeAttribute(s[o]);i.length===s.length?n.removeAttribute(Dn):n.getAttribute(Dn)!==a.join(",")&&n.setAttribute(Dn,a.join(","))},dr=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:a,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:h}=e;ur("body",r),ur("html",i),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=Kn(e)),ur("title",t)})(d,h);const f={baseTag:cr("base",n),linkTags:cr("link",s),metaTags:cr("meta",a),noscriptTags:cr("noscript",o),scriptTags:cr("script",c),styleTags:cr("style",u)},p={},m={};Object.keys(f).forEach(e=>{const{newTags:t,oldTags:n}=f[e];t.length&&(p[e]=t),n.length&&(m[e]=f[e].oldTags)}),t&&t(),l(e,p,m)},hr=null,fr=e=>{hr&&cancelAnimationFrame(hr),e.defer?hr=requestAnimationFrame(()=>{dr(e,()=>{hr=null})}):(dr(e),hr=null)},pr=class extends g.Component{constructor(){super(...arguments),r(this,"rendered",!1)}shouldComponentUpdate(e){return!En(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(i=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:Hn(["href"],i),bodyAttributes:Vn("bodyAttributes",i),defer:Bn(i,Rn),encode:Bn(i,Mn),htmlAttributes:Vn("htmlAttributes",i),linkTags:Wn("link",["rel","href"],i),metaTags:Wn("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:Wn("noscript",["innerHTML"],i),onChangeClientState:qn(i),scriptTags:Wn("script",["src","innerHTML"],i),styleTags:Wn("style",["cssText"],i),title:$n(i),titleAttributes:Vn("titleAttributes",i),prioritizeSeoTags:Gn(i,Un)});var i;lr.canUseDOM?fr(r):rr&&(n=rr(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},mr=(t=class extends g.Component{shouldComponentUpdate(e){return!bn(Yn(this.props,"helmetData"),Yn(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(t=>{n={...n,[t]:e[t]}}),n}warnOnInvalidChildren(e,t){return kn(An.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${An.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),kn(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return y.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:r,...i}=e.props,s=Object.keys(i).reduce((e,t)=>(e[On[t]||t]=i[t],e),{});let{type:a}=e;switch("symbol"==typeof a?a=a.toString():this.warnOnInvalidChildren(e,r),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,s,r);break;default:t=this.mapObjectTypeChildren(e,t,s,r)}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof ar)){r=new ar(r.context,!0),delete n.helmetData}return r?y.createElement(pr,{...n,context:r.value}):y.createElement(or.Consumer,null,e=>y.createElement(pr,{...n,context:e}))}},r(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);async function gr(e,t={}){const{maxWidth:n=1200,maxHeight:r=1200,quality:i=.7,format:s="jpeg"}=t;return e&&"string"==typeof e&&(e.includes("firebasestorage.googleapis.com")||e.startsWith("data:")||e.startsWith("blob:"))?e:new Promise((t,a)=>{const o=new Image;o.onload=()=>{try{let e=o.width,a=o.height;e>n&&(a=a*n/e,e=n),a>r&&(e=e*r/a,a=r);const l=document.createElement("canvas");l.width=e,l.height=a;let c;switch(l.getContext("2d").drawImage(o,0,0,e,a),s.toLowerCase()){case"png":c="image/png";break;case"webp":c="image/webp";break;default:c="image/jpeg"}const u=l.toDataURL(c,i);t(u)}catch(a){console.error("Error compressing image:",a),t(e)}},o.onerror=()=>{console.error(`Failed to load image for compression: ${e}`),t(e)},o.crossOrigin="anonymous",o.src=e})}const yr=async(e,t=10)=>{if(!e)return"/images/placeholder.jpg";try{return await async function(e,t=20,n=20){try{return e&&"string"==typeof e&&(e.includes("firebasestorage.googleapis.com")||e.startsWith("data:")||e.startsWith("blob:"))?null:await gr(e,{maxWidth:t,maxHeight:n,quality:.5})}catch(r){return console.error("Error creating placeholder:",r),null}}(e,t,t)||"/images/placeholder.jpg"}catch(n){return console.error("Error creating tiny placeholder:",n),"/images/placeholder.jpg"}},vr=async e=>{try{const t=await caches.open("image-cache");return!!(await t.match(e))}catch(t){return console.error("Error checking image cache:",t),!1}};function br(){return"serviceWorker"in navigator?navigator.serviceWorker.register("/service-worker.js").then(e=>(console.log("Service Worker registered with scope:",e.scope),e)).catch(e=>(console.error("Service Worker registration failed:",e),null)):Promise.resolve(null)}const _r=g.createContext({cachedImages:new Set,addToCache:()=>{},isCached:()=>!1,preloadImages:()=>{}}),wr=()=>g.useContext(_r),xr=({children:e})=>{const[t,n]=g.useState(new Set),[r,i]=g.useState(!1);g.useEffect(()=>{br().then(e=>{e&&i(!0)})},[]),g.useEffect(()=>{const e=()=>{try{const e=localStorage.getItem("imageCacheRegistry");e&&n(new Set(JSON.parse(e)))}catch(e){console.error("Failed to load image cache from localStorage:",e)}};e();const t=t=>{"imageCacheRegistry"===t.key&&e()};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[]),g.useEffect(()=>{try{localStorage.setItem("imageCacheRegistry",JSON.stringify([...t]))}catch(e){console.error("Failed to save image cache to localStorage:",e)}},[t]);const s=async e=>{var i;if(e&&!t.has(e))try{await vr(e)||await(async e=>{try{const t=await caches.open("image-cache"),n=await fetch(e,{cache:"no-store"});await t.put(e,n)}catch(t){console.error("Error caching image:",t)}})(e),r&&await(i=[e],i&&Array.isArray(i)&&0!==i.length&&"serviceWorker"in navigator&&navigator.serviceWorker.controller?(navigator.serviceWorker.controller.postMessage({type:"CACHE_IMAGES",images:i}),Promise.resolve(!0)):Promise.resolve(!1)),n(t=>{const n=new Set(t);return n.add(e),n})}catch(s){console.error(`Failed to cache image: ${e}`,s)}},a={cachedImages:t,addToCache:s,isCached:e=>t.has(e),preloadImages:async e=>{if(!e||!e.length)return;const n=e.filter(e=>!t.has(e));for(let t=0;t<n.length;t+=5){const e=n.slice(t,t+5);await Promise.allSettled(e.map(e=>s(e)))}}};return d.jsx(_r.Provider,{value:a,children:e})};var kr,Sr,Cr={exports:{}},Er={};var Tr=(Sr||(Sr=1,Cr.exports=function(){if(kr)return Er;kr=1;var e=m(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useSyncExternalStore,r=e.useRef,i=e.useEffect,s=e.useMemo,a=e.useDebugValue;return Er.useSyncExternalStoreWithSelector=function(e,o,l,c,u){var d=r(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=s(function(){function e(e){if(!i){if(i=!0,n=e,e=c(e),void 0!==u&&h.hasValue){var s=h.value;if(u(s,e))return r=s}return r=e}if(s=r,t(n,e))return s;var a=c(e);return void 0!==u&&u(s,a)?(n=e,s):(n=e,r=a)}var n,r,i=!1,s=void 0===l?null:l;return[function(){return e(o())},null===s?void 0:function(){return e(s())}]},[o,l,c,u]);var f=n(e,d[0],d[1]);return i(function(){h.hasValue=!0,h.value=f},[f]),a(f),f},Er}()),Cr.exports);var Nr={notify(){},get:()=>[]};var Ir=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),jr=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),Ar=(()=>Ir||jr?g.useLayoutEffect:g.useEffect)(),Pr=Symbol.for("react-redux-context"),Or="undefined"!=typeof globalThis?globalThis:{};function Dr(){if(!g.createContext)return{};const e=Or[Pr]??(Or[Pr]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Lr=Dr();var Rr=function(e){const{children:t,context:n,serverState:r,store:i}=e,s=g.useMemo(()=>{const e=function(e){let t,n=Nr,r=0,i=!1;function s(){l.onStateChange&&l.onStateChange()}function a(){r++,t||(t=e.subscribe(s),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function o(){r--,t&&0===r&&(t(),t=void 0,n.clear(),n=Nr)}const l={addNestedSub:function(e){a();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),o())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,a())},tryUnsubscribe:function(){i&&(i=!1,o())},getListeners:()=>n};return l}(i);return{store:i,subscription:e,getServerState:r?()=>r:void 0}},[i,r]),a=g.useMemo(()=>i.getState(),[i]);Ar(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,a]);const o=n||Lr;return g.createElement(o.Provider,{value:s},t)};function Mr(e=Lr){return function(){return g.useContext(e)}}var zr=Mr();function Fr(e=Lr){const t=e===Lr?zr:Mr(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var Ur=Fr();function Br(e=Lr){const t=e===Lr?Ur:Fr(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var $r=Br(),qr=(e,t)=>e===t;function Vr(e=Lr){const t=e===Lr?zr:Mr(e),n=(e,n={})=>{const{equalityFn:r=qr}="function"==typeof n?{equalityFn:n}:n,i=t(),{store:s,subscription:a,getServerState:o}=i;g.useRef(!0);const l=g.useCallback({[e.name]:t=>e(t)}[e.name],[e]),c=Tr.useSyncExternalStoreWithSelector(a.addNestedSub,s.getState,o||s.getState,l,r);return g.useDebugValue(c),c};return Object.assign(n,{withTypes:()=>n}),n}var Hr=Vr();function Wr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Gr=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Kr=()=>Math.random().toString(36).substring(7).split("").join("."),Qr={INIT:`@@redux/INIT${Kr()}`,REPLACE:`@@redux/REPLACE${Kr()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kr()}`};function Yr(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Xr(e,t,n){if("function"!=typeof e)throw new Error(Wr(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Wr(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Wr(1));return n(Xr)(e,t)}let r=e,i=t,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((e,t)=>{a.set(t,e)}))}function u(){if(l)throw new Error(Wr(3));return i}function d(e){if("function"!=typeof e)throw new Error(Wr(4));if(l)throw new Error(Wr(5));let t=!0;c();const n=o++;return a.set(n,e),function(){if(t){if(l)throw new Error(Wr(6));t=!1,c(),a.delete(n),s=null}}}function h(e){if(!Yr(e))throw new Error(Wr(7));if(void 0===e.type)throw new Error(Wr(8));if("string"!=typeof e.type)throw new Error(Wr(17));if(l)throw new Error(Wr(9));try{l=!0,i=r(i,e)}finally{l=!1}return(s=a).forEach(e=>{e()}),e}h({type:Qr.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Wr(10));r=e,h({type:Qr.REPLACE})},[Gr]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Wr(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Gr](){return this}}}}}function Jr(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];"function"==typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:Qr.INIT}))throw new Error(Wr(12));if(void 0===n(void 0,{type:Qr.PROBE_UNKNOWN_ACTION()}))throw new Error(Wr(13))})}(n)}catch(uD){i=uD}return function(e={},t){if(i)throw i;let s=!1;const a={};for(let i=0;i<r.length;i++){const o=r[i],l=n[o],c=e[o],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(Wr(14));a[o]=u,s=s||u!==c}return s=s||r.length!==Object.keys(e).length,s?a:e}}function Zr(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}var ei=Symbol.for("immer-nothing"),ti=Symbol.for("immer-draftable"),ni=Symbol.for("immer-state");function ri(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ii=Object.getPrototypeOf;function si(e){return!!e&&!!e[ni]}function ai(e){var t;return!!e&&(li(e)||Array.isArray(e)||!!e[ti]||!!(null==(t=e.constructor)?void 0:t[ti])||fi(e)||pi(e))}var oi=Object.prototype.constructor.toString();function li(e){if(!e||"object"!=typeof e)return!1;const t=ii(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===oi}function ci(e,t){0===ui(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function ui(e){const t=e[ni];return t?t.type_:Array.isArray(e)?1:fi(e)?2:pi(e)?3:0}function di(e,t){return 2===ui(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function hi(e,t,n){const r=ui(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function fi(e){return e instanceof Map}function pi(e){return e instanceof Set}function mi(e){return e.copy_||e.base_}function gi(e,t){if(fi(e))return new Map(e);if(pi(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=li(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[ni];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(ii(e),t)}{const t=ii(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function yi(e,t=!1){return bi(e)||si(e)||!ai(e)||(ui(e)>1&&(e.set=e.add=e.clear=e.delete=vi),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>yi(t,!0))),e}function vi(){ri(2)}function bi(e){return Object.isFrozen(e)}var _i,wi={};function xi(e){const t=wi[e];return t||ri(0),t}function ki(){return _i}function Si(e,t){t&&(xi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ci(e){Ei(e),e.drafts_.forEach(Ni),e.drafts_=null}function Ei(e){e===_i&&(_i=e.parent_)}function Ti(e){return _i={drafts_:[],parent_:_i,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ni(e){const t=e[ni];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ii(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[ni].modified_&&(Ci(t),ri(4)),ai(e)&&(e=ji(t,e),t.parent_||Pi(t,e)),t.patches_&&xi("Patches").generateReplacementPatches_(n[ni].base_,e,t.patches_,t.inversePatches_)):e=ji(t,n,[]),Ci(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ei?e:void 0}function ji(e,t,n){if(bi(t))return t;const r=t[ni];if(!r)return ci(t,(i,s)=>Ai(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Pi(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,s=!1;3===r.type_&&(i=new Set(t),t.clear(),s=!0),ci(i,(i,a)=>Ai(e,r,t,i,a,n,s)),Pi(e,t,!1),n&&e.patches_&&xi("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Ai(e,t,n,r,i,s,a){if(si(i)){const a=ji(e,i,s&&t&&3!==t.type_&&!di(t.assigned_,r)?s.concat(r):void 0);if(hi(n,r,a),!si(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(ai(i)&&!bi(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ji(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Pi(e,i)}}function Pi(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yi(t,n)}var Oi={get(e,t){if(t===ni)return e;const n=mi(e);if(!di(n,t))return function(e,t,n){var r;const i=Ri(t,n);return i?"value"in i?i.value:null==(r=i.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ai(r)?r:r===Li(e.base_,t)?(zi(e),e.copy_[t]=Fi(r,e)):r},has:(e,t)=>t in mi(e),ownKeys:e=>Reflect.ownKeys(mi(e)),set(e,t,n){const r=Ri(mi(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Li(mi(e),t),a=null==r?void 0:r[ni];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(s=r)?0!==i||1/i==1/s:i!=i&&s!=s)&&(void 0!==n||di(e.base_,t)))return!0;zi(e),Mi(e)}var i,s;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Li(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,zi(e),Mi(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=mi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){ri(11)},getPrototypeOf:e=>ii(e.base_),setPrototypeOf(){ri(12)}},Di={};function Li(e,t){const n=e[ni];return(n?mi(n):e)[t]}function Ri(e,t){if(!(t in e))return;let n=ii(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=ii(n)}}function Mi(e){e.modified_||(e.modified_=!0,e.parent_&&Mi(e.parent_))}function zi(e){e.copy_||(e.copy_=gi(e.base_,e.scope_.immer_.useStrictShallowCopy_))}ci(Oi,(e,t)=>{Di[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Di.deleteProperty=function(e,t){return Di.set.call(this,e,t,void 0)},Di.set=function(e,t,n){return Oi.set.call(this,e[0],t,n,e[0])};function Fi(e,t){const n=fi(e)?xi("MapSet").proxyMap_(e,t):pi(e)?xi("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ki(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Oi;n&&(i=[r],s=Di);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}(e,t);return(t?t.scope_:ki()).drafts_.push(n),n}function Ui(e){if(!ai(e)||bi(e))return e;const t=e[ni];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gi(e,t.scope_.immer_.useStrictShallowCopy_)}else n=gi(e,!0);return ci(n,(e,t)=>{hi(n,e,Ui(t))}),t&&(t.finalized_=!1),n}var Bi=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!=typeof t&&ri(6),void 0!==n&&"function"!=typeof n&&ri(7),ai(e)){const i=Ti(this),s=Fi(e,void 0);let a=!0;try{r=t(s),a=!1}finally{a?Ci(i):Ei(i)}return Si(i,n),Ii(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===ei&&(r=void 0),this.autoFreeze_&&yi(r,!0),n){const t=[],i=[];xi("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}ri(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ai(e)||ri(8),si(e)&&(e=function(e){si(e)||ri(10);return Ui(e)}(e));const t=Ti(this),n=Fi(e,void 0);return n[ni].isManual_=!0,Ei(t),n}finishDraft(e,t){const n=e&&e[ni];n&&n.isManual_||ri(9);const{scope_:r}=n;return Si(r,t),Ii(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=xi("Patches").applyPatches_;return si(e)?r(e,t):this.produce(e,e=>r(e,t))}},$i=Bi.produce;function qi(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}Bi.produceWithPatches.bind(Bi),Bi.setAutoFreeze.bind(Bi),Bi.setUseStrictShallowCopy.bind(Bi),Bi.applyPatches.bind(Bi),Bi.createDraft.bind(Bi),Bi.finishDraft.bind(Bi);var Vi=qi(),Hi=qi,Wi="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Zr:Zr.apply(null,arguments)};function Gi(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(ps(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return Yr(e)&&"type"in e&&"string"==typeof e.type}(t)&&t.type===e,n}var Ki=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Qi(e){return ai(e)?$i(e,()=>{}):e}function Yi(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Xi=e=>t=>{setTimeout(t,e)},Ji=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new Ki(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Xi(10):"callback"===e.type?e.queueNotification:Xi(e.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>i&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),s=!i,s&&(a||(a=!0,l(c))),r.dispatch(e)}finally{i=!0}}})})("object"==typeof n?n:void 0)),r};function Zi(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(ps(28));if(r in t)throw new Error(ps(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}function es(...e){return t=>e.some(e=>((e,t)=>{return(n=e)&&"function"==typeof n.match?e.match(t):e(t);var n})(e,t))}var ts=["name","message","stack","code"],ns=class{constructor(e,t){r(this,"_type"),this.payload=e,this.meta=t}},rs=class{constructor(e,t){r(this,"_type"),this.payload=e,this.meta=t}},is=e=>{if("object"==typeof e&&null!==e){const t={};for(const n of ts)"string"==typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},ss="External signal was aborted",as=(()=>{function e(e,t,n){const r=Gi(e+"/fulfilled",(e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}})),i=Gi(e+"/pending",(e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}})),s=Gi(e+"/rejected",(e,t,r,i,s)=>({payload:i,error:(n&&n.serializeError||is)(e||"Rejected"),meta:{...s||{},arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)}}));return Object.assign(function(e,{signal:a}={}){return(o,l,c)=>{const u=(null==n?void 0:n.idGenerator)?n.idGenerator(e):((e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),d=new AbortController;let h,f;function p(e){f=e,d.abort()}a&&(a.aborted?p(ss):a.addEventListener("abort",()=>p(ss),{once:!0}));const m=async function(){var a,m;let g;try{let s=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:l,extra:c});if(null!==(y=s)&&"object"==typeof y&&"function"==typeof y.then&&(s=await s),!1===s||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const v=new Promise((e,t)=>{h=()=>{t({name:"AbortError",message:f||"Aborted"})},d.signal.addEventListener("abort",h)});o(i(u,e,null==(m=null==n?void 0:n.getPendingMeta)?void 0:m.call(n,{requestId:u,arg:e},{getState:l,extra:c}))),g=await Promise.race([v,Promise.resolve(t(e,{dispatch:o,getState:l,extra:c,requestId:u,signal:d.signal,abort:p,rejectWithValue:(e,t)=>new ns(e,t),fulfillWithValue:(e,t)=>new rs(e,t)})).then(t=>{if(t instanceof ns)throw t;return t instanceof rs?r(t.payload,u,e,t.meta):r(t,u,e)})])}catch(v){g=v instanceof ns?s(null,u,e,v.payload,v.meta):s(v,u,e)}finally{h&&d.signal.removeEventListener("abort",h)}var y;return n&&!n.dispatchConditionRejection&&s.match(g)&&g.meta.condition||o(g),g}();return Object.assign(m,{abort:p,requestId:u,arg:e,unwrap:()=>m.then(os)})}},{pending:i,rejected:s,fulfilled:r,settled:es(s,r),typePrefix:e})}return e.withTypes=()=>e,e})();function os(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var ls=Symbol.for("rtk-slice-createasyncthunk");function cs(e,t){return`${e}/${t}`}function us({creators:e}={}){var t;const n=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[ls];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(ps(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(ps(12));if(n in a.sliceCaseReducersByType)throw new Error(ps(13));return a.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(a.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"==typeof e.extraReducers?Zi(e.extraReducers):[e.extraReducers],i={...t,...a.sliceCaseReducersByType};return function(e,t){let n,[r,i,s]=Zi(t);if("function"==typeof e)n=()=>Qi(e());else{const t=Qi(e);n=()=>t}function a(e=n(),t){let a=[r[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===a.filter(e=>!!e).length&&(a=[s]),a.reduce((e,n)=>{if(n){if(si(e)){const r=n(e,t);return void 0===r?e:r}if(ai(e))return $i(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return a.getInitialState=n,a}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}s.forEach(r=>{const s=i[r],a={reducerName:r,type:cs(t,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(ps(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Gi(e,a):Gi(e))}(a,s,o):function({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ps(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=n,d=i(e,s,u);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a);o&&r.addCase(d.pending,o);l&&r.addCase(d.rejected,l);c&&r.addMatcher(d.settled,c);r.exposeCaseReducer(t,{fulfilled:a||fs,pending:o||fs,rejected:l||fs,settled:c||fs})}(a,s,o,n)});const c=e=>e,u=new Map;let d;function h(e,t){return d||(d=l()),d(e,t)}function f(){return d||(d=l()),d.getInitialState()}function p(t,n=!1){function r(e){let r=e[t];return void 0===r&&n&&(r=f()),r}function i(t=c){const r=Yi(u,n,()=>new WeakMap);return Yi(r,t,()=>{const r={};for(const[i,s]of Object.entries(e.selectors??{}))r[i]=ds(s,t,f,n);return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const m={name:t,reducer:h,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:f,...p(r),injectInto(e,{reducerPath:t,...n}={}){const i=t??r;return e.inject({reducerPath:i,reducer:h},n),{...m,...p(i,!0)}}};return m}}function ds(e,t,n,r){function i(i,...s){let a=t(i);return void 0===a&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var hs=us();function fs(){}function ps(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ms={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ys={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gs(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new vs;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vs extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bs=function(e){return function(e){const t=gs(e);return ys.encodeByteArray(t,!0)}(e).replace(/\./g,"")},_s=function(e){try{return ys.decodeString(e,!0)}catch(uD){console.error("base64Decode failed: ",uD)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ws=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,xs=()=>{try{return ws()||(()=>{if("undefined"==typeof process)return;const e=ms.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uD){return}const t=e&&_s(e[1]);return t&&JSON.parse(t)})()}catch(uD){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${uD}`)}},ks=e=>{var t,n;return null===(n=null===(t=xs())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ss=()=>{var e;return null===(e=xs())||void 0===e?void 0:e.config},Cs=e=>{var t;return null===(t=xs())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Es{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ts(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ns(){return!function(){var e;const t=null===(e=xs())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(uD){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class Is extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,js.prototype.create)}}class js{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(As,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Is(r,a,n)}}const As=/\{\$([^}]+)}/g;function Ps(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Os(n)&&Os(s)){if(!Ps(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Os(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ls(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Rs(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ms{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=zs),void 0===r.error&&(r.error=zs),void 0===r.complete&&(r.complete=zs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uD){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uD){"undefined"!=typeof console&&console.error&&console.error(uD)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zs(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(e){return e&&e._delegate?e._delegate:e}class Us{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Es;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uD){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uD){if(r)return null;throw uD}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch(uD){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uD){}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Bs?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qs{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vs,Hs;(Hs=Vs||(Vs={}))[Hs.DEBUG=0]="DEBUG",Hs[Hs.VERBOSE=1]="VERBOSE",Hs[Hs.INFO=2]="INFO",Hs[Hs.WARN=3]="WARN",Hs[Hs.ERROR=4]="ERROR",Hs[Hs.SILENT=5]="SILENT";const Ws={debug:Vs.DEBUG,verbose:Vs.VERBOSE,info:Vs.INFO,warn:Vs.WARN,error:Vs.ERROR,silent:Vs.SILENT},Gs=Vs.INFO,Ks={[Vs.DEBUG]:"log",[Vs.VERBOSE]:"log",[Vs.INFO]:"info",[Vs.WARN]:"warn",[Vs.ERROR]:"error"},Qs=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Ks[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Ys{constructor(e){this.name=e,this._logLevel=Gs,this._logHandler=Qs,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vs))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ws[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vs.DEBUG,...e),this._logHandler(this,Vs.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vs.VERBOSE,...e),this._logHandler(this,Vs.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vs.INFO,...e),this._logHandler(this,Vs.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vs.WARN,...e),this._logHandler(this,Vs.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vs.ERROR,...e),this._logHandler(this,Vs.ERROR,...e)}}let Xs,Js;const Zs=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ra=new WeakMap;let ia={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ea.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ta.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function sa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Js||(Js=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(la(this),t),oa(Zs.get(this))}:function(...t){return oa(e.apply(la(this),t))}:function(t,...n){const r=e.call(la(this),t,...n);return ta.set(r,t.sort?t.sort():[t]),oa(r)}}function aa(e){return"function"==typeof e?sa(e):(e instanceof IDBTransaction&&function(e){if(ea.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});ea.set(e,t)}(e),t=e,(Xs||(Xs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ia):e);var t}function oa(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(oa(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Zs.set(t,e)}).catch(()=>{}),ra.set(t,e),t}(e);if(na.has(e))return na.get(e);const t=aa(e);return t!==e&&(na.set(e,t),ra.set(t,e)),t}const la=e=>ra.get(e);const ca=["get","getKey","getAll","getAllKeys","count"],ua=["put","add","delete","clear"],da=new Map;function ha(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(da.get(t))return da.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ua.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ca.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return da.set(t,s),s}ia=(e=>({...e,get:(t,n,r)=>ha(t,n)||e.get(t,n,r),has:(t,n)=>!!ha(t,n)||e.has(t,n)}))(ia);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fa{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const pa="@firebase/app",ma="0.11.4",ga=new Ys("@firebase/app"),ya="@firebase/app-compat",va="@firebase/analytics-compat",ba="@firebase/analytics",_a="@firebase/app-check-compat",wa="@firebase/app-check",xa="@firebase/auth",ka="@firebase/auth-compat",Sa="@firebase/database",Ca="@firebase/data-connect",Ea="@firebase/database-compat",Ta="@firebase/functions",Na="@firebase/functions-compat",Ia="@firebase/installations",ja="@firebase/installations-compat",Aa="@firebase/messaging",Pa="@firebase/messaging-compat",Oa="@firebase/performance",Da="@firebase/performance-compat",La="@firebase/remote-config",Ra="@firebase/remote-config-compat",Ma="@firebase/storage",za="@firebase/storage-compat",Fa="@firebase/firestore",Ua="@firebase/vertexai",Ba="@firebase/firestore-compat",$a="firebase",qa="[DEFAULT]",Va={[pa]:"fire-core",[ya]:"fire-core-compat",[ba]:"fire-analytics",[va]:"fire-analytics-compat",[wa]:"fire-app-check",[_a]:"fire-app-check-compat",[xa]:"fire-auth",[ka]:"fire-auth-compat",[Sa]:"fire-rtdb",[Ca]:"fire-data-connect",[Ea]:"fire-rtdb-compat",[Ta]:"fire-fn",[Na]:"fire-fn-compat",[Ia]:"fire-iid",[ja]:"fire-iid-compat",[Aa]:"fire-fcm",[Pa]:"fire-fcm-compat",[Oa]:"fire-perf",[Da]:"fire-perf-compat",[La]:"fire-rc",[Ra]:"fire-rc-compat",[Ma]:"fire-gcs",[za]:"fire-gcs-compat",[Fa]:"fire-fst",[Ba]:"fire-fst-compat",[Ua]:"fire-vertex","fire-js":"fire-js",[$a]:"fire-js-all"},Ha=new Map,Wa=new Map,Ga=new Map;function Ka(e,t){try{e.container.addComponent(t)}catch(uD){ga.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,uD)}}function Qa(e){const t=e.name;if(Ga.has(t))return ga.debug(`There were multiple attempts to register component ${t}.`),!1;Ga.set(t,e);for(const n of Ha.values())Ka(n,e);for(const n of Wa.values())Ka(n,e);return!0}function Ya(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xa(e){return null!=e&&void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new js("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Za{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="11.6.0";function to(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:qa,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Ja.create("bad-app-name",{appName:String(i)});if(n||(n=Ss()),!n)throw Ja.create("no-options");const s=Ha.get(i);if(s){if(Ps(n,s.options)&&Ps(r,s.config))return s;throw Ja.create("duplicate-app",{appName:i})}const a=new qs(i);for(const l of Ga.values())a.addComponent(l);const o=new Za(n,r,a);return Ha.set(i,o),o}function no(e=qa){const t=Ha.get(e);if(!t&&e===qa&&Ss())return to();if(!t)throw Ja.create("no-app",{appName:e});return t}function ro(e,t,n){var r;let i=null!==(r=Va[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ga.warn(e.join(" "))}Qa(new Us(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="firebase-heartbeat-store";let so=null;function ao(){return so||(so=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=oa(a);return r&&a.addEventListener("upgradeneeded",e=>{r(oa(a.result),e.oldVersion,e.newVersion,oa(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(io)}catch(uD){console.warn(uD)}}}).catch(e=>{throw Ja.create("idb-open",{originalErrorMessage:e.message})})),so}async function oo(e,t){try{const n=(await ao()).transaction(io,"readwrite"),r=n.objectStore(io);await r.put(t,lo(e)),await n.done}catch(uD){if(uD instanceof Is)ga.warn(uD.message);else{const t=Ja.create("idb-set",{originalErrorMessage:null==uD?void 0:uD.message});ga.warn(t.message)}}}function lo(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ho(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uo();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(uD){ga.warn(uD)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=uo(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),fo(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fo(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=bs(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(uD){return ga.warn(uD),""}}}function uo(){return(new Date).toISOString().substring(0,10)}class ho{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(uD){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ao()).transaction(io),n=await t.objectStore(io).get(lo(e));return await t.done,n}catch(uD){if(uD instanceof Is)ga.warn(uD.message);else{const t=Ja.create("idb-get",{originalErrorMessage:null==uD?void 0:uD.message});ga.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function fo(e){return bs(JSON.stringify({version:2,heartbeats:e})).length}var po;po="",Qa(new Us("platform-logger",e=>new fa(e),"PRIVATE")),Qa(new Us("heartbeat",e=>new co(e),"PRIVATE")),ro(pa,ma,po),ro(pa,ma,"esm2017"),ro("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ro("firebase","11.6.0","app");var mo,go,yo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,go=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},mo=r}).apply(void 0!==yo?yo:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var vo,bo,_o,wo,xo,ko,So,Co,Eo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Eo&&Eo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<_.length;t++)n=_[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout(()=>{throw e},0)}function S(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,N=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){k(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function P(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,O);var R={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),z=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var V="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=Z(n),e&&e[M]?e.K(t,n,!!a(r)&&!!r.capture,i):function(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=X(e);if(l||(e[V]=l=new B(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Y;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function G(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=Z(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&K(n))}function K(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])$(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?($(n,e),0==n.h&&(n.src=null,t[V]=null)):U(e)}}}function Q(e){return e in H?H[e]:H[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&K(e),e=n.call(r,t)}return e}function X(e){return(e=e[V])instanceof B?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function ee(){P.call(this),this.i=new B(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;w(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ne(a,r,!0,t)&&i}if(i=ne(a=t.g=e,r,!0,t)&&i,i=ne(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ne(a=t.g=n[s],r,!1,t)&&i}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&$(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ie(e){e.g=re(()=>{e.g=null,e.i&&(e.i=!1,ie(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ee,P),ee.prototype[M]=!0,ee.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){P.call(this),this.h=e,this.g={}}d(ae,P);var oe=[];function le(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&K(e)},e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=i.JSON.stringify,ue=i.JSON.parse,de=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function he(){}function fe(e){return e.h||(e.h=e.i())}function pe(){}he.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){O.call(this,"d")}function ye(){O.call(this,"c")}d(ge,O),d(ye,O);var ve={},be=null;function _e(){return be=be||new ee}function we(e){O.call(this,ve.La,e)}function xe(e){const t=_e();te(t,new we(t))}function ke(e,t){O.call(this,ve.STAT_EVENT,e),this.stat=t}function Se(e){const t=_e();te(t,new ke(t,e))}function Ce(e,t){O.call(this,ve.Ma,e),this.size=t}function Ee(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Te(){this.g=!0}function Ne(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return ce(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}ve.La="serverreachability",d(we,O),ve.STAT_EVENT="statevent",d(ke,O),ve.Ma="timingevent",d(Ce,O),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ie,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}d(Pe,he),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ie=new Pe;var Le={},Re={};function Me(e,t,n){e.L=1,e.v=ct(it(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),Be(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=un(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(oe[0]=i.toString()),i=oe);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Fe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ee(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ve(e){0==e.j.G||e.J||sn(e.j,e)}function He(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function We(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Xe(n.h,e)))if(!e.K&&Xe(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rn(n),Gt(n)}en(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ee(c(n.Za,n),6e3));if(1>=Ye(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else on(n,11)}else if((e.K||n.g==e)&&rn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Je(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=cn(r,r.J?r.ia:null,r.W),a.K){Ze(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),Be(o)),r.g=a}else Zt(r);0<n.i.length&&Qt(n)}else"stop"!=c[0]&&"close"!=c[0]||on(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?on(n,7):Wt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}xe()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==$t(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=$t(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||xe(),qe(this);var n=this.g.Z();this.X=n;t:if(Fe(this)){var r=qt(this.g);e="";var s=r.length,a=4==$t(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){He(this),Ve(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),He(this),Ve(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,We(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Ue(this,o),e==Re){4==h&&(this.s=4,Se(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Se(15),Ne(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),We(this,e)}if(Fe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tn(d),d.M=!0,Se(11))}}else Ne(this.i,this.l,o,"[Invalid Chunked Response]"),He(this),Ve(this)}else Ne(this.i,this.l,o,null),We(this,o);4==h&&He(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=$t(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),He(this),Ve(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,He(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(xe(),Se(17)),He(this),this.s=2,Ve(this)):$e(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Ke(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ye(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(s(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ke.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new vt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ot(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,st(this,t[1]||"",!0),this.o=ut(t[2]||""),this.g=ut(t[3]||"",!0),at(this,t[4]),this.l=ut(t[5]||"",!0),ot(this,t[6]||"",!0),this.m=ut(t[7]||"")):(this.h=!1,this.i=new vt(null,this.h))}function it(e){return new rt(e)}function st(e,t,n){e.j=n?ut(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ot(e,t,n){t instanceof vt?(e.i=t,function(e,t){t&&!e.j&&(bt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),xt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,gt)),e.i=new vt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,ft,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,ft,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?mt:pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,yt)),e.join("")};var ft=/[#\/\?@]/g,pt=/[#\?:]/g,mt=/[#\?]/g,gt=/[#\?@]/g,yt=/#/g;function vt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function _t(e,t){bt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wt(e,t){return bt(e),t=kt(e,t),e.g.has(t)}function xt(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ct(){this.g=new de}function Et(e,t,n){const r=n||"";try{tt(e,function(e,n){let i=e;a(e)&&(i=ce(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(uD){throw t.push(r+"type="+encodeURIComponent("_badmap")),uD}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Dt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=vt.prototype).add=function(e,t){bt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){bt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){bt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){bt(this);let t=[];if("string"==typeof e)wt(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return bt(this),this.i=null,wt(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Tt,he),Tt.prototype.g=function(){return new Nt(this.l,this.j)},Tt.prototype.i=function(e){return function(){return e}}({}),d(Nt,ee),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):At(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Dt,ee);var Lt=/^https?$/i,Rt=["POST","PUT"];function Mt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ut(e)}function zt(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ft(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=$t(e)||2!=e.Z()))if(e.u&&4==$t(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==$t(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(nt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Lt.test(a?a.toLowerCase():"")}n=s}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var o=2<$t(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Ut(e)}}}function Ut(e,t){if(e.g){Bt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=r}catch(uD){}}}function Bt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function $t(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ht(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vt("baseRetryDelayMs",5e3,e),this.cb=Vt("retryDelaySeedMs",1e4,e),this.Wa=Vt("forwardChannelMaxRetries",2,e),this.wa=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ke(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wt(e){if(Kt(e),3==e.G){var t=e.U++,n=it(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Xt(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=ct(it(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=un(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}ln(e)}function Gt(e){e.g&&(tn(e),e.g.cancel(),e.g=null)}function Kt(e){Gt(e),e.u&&(i.clearTimeout(e.u),e.u=null),rn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Qt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||j(),N||(T(),N=!0),I.add(t,e),e.B=0}}function Yt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Xt(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Jt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Je(e.h,n),Me(n,r,t)}function Xt(e,t){e.H&&v(e.H,function(e,n){lt(t,n,e)}),e.l&&tt({},function(e,n){lt(t,n,e)})}function Jt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Et(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Zt(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||j(),N||(T(),N=!0),I.add(t,e),e.v=0}}function en(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ee(c(e.Fa,e),an(e,e.v)),e.v++,!0)}function tn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function nn(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Xt(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(it(t)),n.m=null,n.P=!0,ze(n,e)}function rn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){rn(e),tn(e),e.g=null;var r=2}else{if(!Xe(e.h,t))return;n=t.D,Ze(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;te(r=_e(),new Ce(r,n)),Qt(e)}else Zt(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ye(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Ee(c(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==r&&en(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:on(e,5);break;case 4:on(e,10);break;case 3:on(e,6);break;default:on(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function on(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),ct(r),t?function(e,t){const n=new Te;if(i.Image){const r=new Image;r.onload=u(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(St,n,"TestLoadImage: error",!1,t,r),r.onabort=u(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(St,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(r),St(0,0,!1,t)})}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),ln(e),Kt(e)}function ln(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function cn(e,t,n){var r=n instanceof rt?it(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),at(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new rt(null);r&&st(a,r),t&&(a.g=t),s&&at(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Xt(e,r),r}function un(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Dt(new Tt({eb:n})):new Dt(e.pa)).Ha(e.J),t}function dn(){}function hn(){}function fn(e,t){ee.call(this),this.g=new Ht(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gn(this)}function pn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mn(){ye.call(this),this.status=1}function gn(e){this.g=e}(e=Dt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?fe(this.o):fe(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Mt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Rt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Mt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),Ut(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ut(this,!0)),Dt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ft(this):this.bb())},e.bb=function(){Ft(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ue(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Ht.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=cn(this,null,this.W),Qt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jt(this,i,t),lt(n=it(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Xt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Pt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),Je(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,Me(i,n,null)):Me(i,n,t),this.G=2}}else 3==this.G&&(e?Yt(this,e):0==this.i.length||Qe(this.h)||Yt(this))},e.Fa=function(){if(this.u=null,nn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ee(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Gt(this),nn(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),en(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=dn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},hn.prototype.g=function(e,t){return new fn(e,t)},d(fn,ee),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Wt(this.g)},fn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Qt(t)},fn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,fn.aa.N.call(this)},d(pn,ge),d(mn,ye),d(gn,dn),gn.prototype.ua=function(){te(this.g,"a")},gn.prototype.ta=function(e){te(this.g,new pn(e))},gn.prototype.sa=function(e){te(this.g,new mn)},gn.prototype.ra=function(){te(this.g,"b")},hn.prototype.createWebChannel=hn.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Co=function(){return new hn},So=function(){return _e()},ko=ve,xo={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,wo=je,Ae.COMPLETE="complete",_o=Ae,pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ee.prototype.listen=ee.prototype.K,bo=pe,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,vo=Dt}).apply(void 0!==Eo?Eo:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const To="@firebase/firestore",No="4.7.10";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Io.UNAUTHENTICATED=new Io(null),Io.GOOGLE_CREDENTIALS=new Io("google-credentials-uid"),Io.FIRST_PARTY=new Io("first-party-uid"),Io.MOCK_USER=new Io("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let jo="11.5.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Ys("@firebase/firestore");function Po(){return Ao.logLevel}function Oo(e,...t){if(Ao.logLevel<=Vs.DEBUG){const n=t.map(Ro);Ao.debug(`Firestore (${jo}): ${e}`,...n)}}function Do(e,...t){if(Ao.logLevel<=Vs.ERROR){const n=t.map(Ro);Ao.error(`Firestore (${jo}): ${e}`,...n)}}function Lo(e,...t){if(Ao.logLevel<=Vs.WARN){const n=t.map(Ro);Ao.warn(`Firestore (${jo}): ${e}`,...n)}}function Ro(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(e="Unexpected state"){const t=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+e;throw Do(t),new Error(t)}function zo(e,t){e||Mo()}function Fo(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bo extends Is{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Io.UNAUTHENTICATED))}shutdown(){}}class Ho{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wo{constructor(e){this.t=e,this.currentUser=Io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){zo(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new $o;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $o,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Oo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Oo("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $o)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Oo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(zo("string"==typeof t.accessToken),new qo(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zo(null===e||"string"==typeof e),new Io(e)}}class Go{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Io.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ko{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Go(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Io.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yo{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xa(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){zo(void 0===this.o);const n=e=>{null!=e.error&&Oo("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Oo("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Oo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Oo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Qo(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(zo("string"==typeof e.token),this.R=e.token,new Qo(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(){return new TextEncoder}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Xo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function el(e,t){return e<t?-1:e>t?1:0}function tl(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return el(r,i);{const s=Jo(),a=rl(s.encode(nl(e,n)),s.encode(nl(t,n)));return 0!==a?a:el(r,i)}}n+=r>65535?2:1}return el(e.length,t.length)}function nl(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function rl(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return el(e[n],t[n]);return el(e.length,t.length)}function il(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=-62135596800,al=1e6;class ol{static now(){return ol.fromMillis(Date.now())}static fromDate(e){return ol.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*al);return new ol(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bo(Uo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bo(Uo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sl)throw new Bo(Uo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bo(Uo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/al}_compareTo(e){return this.seconds===e.seconds?el(this.nanoseconds,e.nanoseconds):el(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{static fromTimestamp(e){return new ll(e)}static min(){return new ll(new ol(0,0))}static max(){return new ll(new ol(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="__name__";class ul{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mo(),void 0===n?n=e.length-t:n>e.length-t&&Mo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ul.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ul?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ul.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return el(e.length,t.length)}static compareSegments(e,t){const n=ul.isNumericId(e),r=ul.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ul.extractNumericId(e).compare(ul.extractNumericId(t)):tl(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class dl extends ul{construct(e,t,n){return new dl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Bo(Uo.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new dl(t)}static emptyPath(){return new dl([])}}const hl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fl extends ul{construct(e,t,n){return new fl(e,t,n)}static isValidIdentifier(e){return hl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===cl}static keyField(){return new fl([cl])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Bo(Uo.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Bo(Uo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Bo(Uo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Bo(Uo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fl(t)}static emptyPath(){return new fl([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.path=e}static fromPath(e){return new pl(dl.fromString(e))}static fromName(e){return new pl(dl.fromString(e).popFirst(5))}static empty(){return new pl(dl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pl(new dl(e.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(e){return new gl(e.readTime,e.key,-1)}class gl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new gl(ll.min(),pl.empty(),-1)}static max(){return new gl(ll.max(),pl.empty(),-1)}}function yl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=pl.comparator(e.documentKey,t.documentKey),0!==n?n:el(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class vl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(e){if(e.code!==Uo.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Oo("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _l((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _l?t:_l.resolve(t)}catch(t){return _l.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_l.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_l.reject(t)}static resolve(e){return new _l((t,n)=>{t(e)})}static reject(e){return new _l((t,n)=>{n(e)})}static waitFor(e){return new _l((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=_l.resolve(!1);for(const n of e)t=t.next(e=>e?_l.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new _l((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new _l((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function wl(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}xl.ae=-1;function kl(e){return null==e}function Sl(e){return 0===e&&1/e==-1/0}function Cl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function El(e){return e+""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Il(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t){this.comparator=e,this.root=t||Pl.EMPTY}insert(e,t){return new jl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pl.BLACK,null,null))}remove(e){return new jl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Pl.RED,this.left=null!=r?r:Pl.EMPTY,this.right=null!=i?i:Pl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Pl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mo();if(this.right.isRed())throw Mo();const e=this.left.check();if(e!==this.right.check())throw Mo();return e+(this.isRed()?0:1)}}Pl.EMPTY=null,Pl.RED=!0,Pl.BLACK=!1,Pl.EMPTY=new class{constructor(){this.size=0}get key(){throw Mo()}get value(){throw Mo()}get color(){throw Mo()}get left(){throw Mo()}get right(){throw Mo()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Pl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ol{constructor(e){this.comparator=e,this.data=new jl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dl(this.data.getIterator())}getIteratorFrom(e){return new Dl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ol))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ol(this.comparator);return t.data=e,t}}class Dl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.fields=e,e.sort(fl.comparator)}static empty(){return new Ll([])}unionWith(e){let t=new Ol(fl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ll(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Rl("Invalid base64 string: "+t):t}}(e);return new Ml(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ml(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return el(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ml.EMPTY_BYTE_STRING=new Ml("");const zl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fl(e){if(zo(!!e),"string"==typeof e){let t=0;const n=zl.exec(e);if(zo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ul(e.seconds),nanos:Ul(e.nanos)}}function Ul(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bl(e){return"string"==typeof e?Ml.fromBase64String(e):Ml.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="server_timestamp",ql="__type__",Vl="__previous_value__",Hl="__local_write_time__";function Wl(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ql])||void 0===n?void 0:n.stringValue)===$l}function Gl(e){const t=e.mapValue.fields[Vl];return Wl(t)?Gl(t):t}function Kl(e){const t=Fl(e.mapValue.fields[Hl].timestampValue);return new ol(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const Yl="(default)";class Xl{constructor(e,t){this.projectId=e,this.database=t||Yl}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===Yl}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="__type__",Zl="__max__",ec={},tc="__vector__",nc="value";function rc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wl(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Zl}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Jl])||void 0===n?void 0:n.stringValue)===tc}(e)?10:11:Mo()}function ic(e,t){if(e===t)return!0;const n=rc(e);if(n!==rc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Kl(e).isEqual(Kl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fl(e.timestampValue),r=Fl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Bl(e.bytesValue).isEqual(Bl(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ul(e.geoPointValue.latitude)===Ul(t.geoPointValue.latitude)&&Ul(e.geoPointValue.longitude)===Ul(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ul(e.integerValue)===Ul(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ul(e.doubleValue),r=Ul(t.doubleValue);return n===r?Sl(n)===Sl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return il(e.arrayValue.values||[],t.arrayValue.values||[],ic);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Tl(n)!==Tl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ic(n[i],r[i])))return!1;return!0}(e,t);default:return Mo()}var r}function sc(e,t){return void 0!==(e.values||[]).find(e=>ic(e,t))}function ac(e,t){if(e===t)return 0;const n=rc(e),r=rc(t);if(n!==r)return el(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return el(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ul(e.integerValue||e.doubleValue),r=Ul(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oc(e.timestampValue,t.timestampValue);case 4:return oc(Kl(e),Kl(t));case 5:return tl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Bl(e),r=Bl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=el(n[i],r[i]);if(0!==e)return e}return el(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=el(Ul(e.latitude),Ul(t.latitude));return 0!==n?n:el(Ul(e.longitude),Ul(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return lc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[nc])||void 0===n?void 0:n.arrayValue,c=null===(r=o[nc])||void 0===r?void 0:r.arrayValue,u=el((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:lc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ec&&t===ec)return 0;if(e===ec)return 1;if(t===ec)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=tl(r[a],s[a]);if(0!==e)return e;const t=ac(n[r[a]],i[s[a]]);if(0!==t)return t}return el(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Mo()}}function oc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return el(e,t);const n=Fl(e),r=Fl(t),i=el(n.seconds,r.seconds);return 0!==i?i:el(n.nanos,r.nanos)}function lc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ac(n[i],r[i]);if(e)return e}return el(n.length,r.length)}function cc(e){return uc(e)}function uc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Fl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bl(e.bytesValue).toBase64():"referenceValue"in e?function(e){return pl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=uc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${uc(e.fields[i])}`;return n+"}"}(e.mapValue):Mo()}function dc(e){switch(rc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gl(e);return t?16+dc(t):16;case 5:return 2*e.stringValue.length;case 6:return Bl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+dc(t),0);case 10:case 11:return function(e){let t=0;return Nl(e.fields,(e,n)=>{t+=e.length+dc(n)}),t}(e.mapValue);default:throw Mo()}}function hc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function fc(e){return!!e&&"integerValue"in e}function pc(e){return!!e&&"arrayValue"in e}function mc(e){return!!e&&"nullValue"in e}function gc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yc(e){return!!e&&"mapValue"in e}function vc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=vc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vc(e.arrayValue.values[n]);return t}return Object.assign({},e)}class bc{constructor(e){this.value=e}static empty(){return new bc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=fl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=vc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ic(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];yc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Nl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new bc(vc(this.value))}}function _c(e){const t=[];return Nl(e.fields,(e,n)=>{const r=new fl([e]);if(yc(n)){const e=_c(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Ll(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class wc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wc(e,0,ll.min(),ll.min(),ll.min(),bc.empty(),0)}static newFoundDocument(e,t,n,r){return new wc(e,1,t,ll.min(),n,r,0)}static newNoDocument(e,t){return new wc(e,2,t,ll.min(),ll.min(),bc.empty(),0)}static newUnknownDocument(e,t){return new wc(e,3,t,ll.min(),ll.min(),bc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ll.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ll.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.position=e,this.inclusive=t}}function kc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?pl.comparator(pl.fromName(a.referenceValue),n.key):ac(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Sc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ic(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ec(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{}class Nc extends Tc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Lc(e,t,n):"array-contains"===t?new Fc(e,n):"in"===t?new Uc(e,n):"not-in"===t?new Bc(e,n):"array-contains-any"===t?new $c(e,n):new Nc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Rc(e,n):new Mc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ac(t,this.value)):null!==t&&rc(this.value)===rc(t)&&this.matchesComparison(ac(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ic extends Tc{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ic(e,t)}matches(e){return jc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jc(e){return"and"===e.op}function Ac(e){return function(e){for(const t of e.filters)if(t instanceof Ic)return!1;return!0}(e)&&jc(e)}function Pc(e){if(e instanceof Nc)return e.field.canonicalString()+e.op.toString()+cc(e.value);if(Ac(e))return e.filters.map(e=>Pc(e)).join(",");{const t=e.filters.map(e=>Pc(e)).join(",");return`${e.op}(${t})`}}function Oc(e,t){return e instanceof Nc?(n=e,(r=t)instanceof Nc&&n.op===r.op&&n.field.isEqual(r.field)&&ic(n.value,r.value)):e instanceof Ic?function(e,t){return t instanceof Ic&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Oc(n,t.filters[r]),!0)}(e,t):void Mo();var n,r}function Dc(e){return e instanceof Nc?`${(t=e).field.canonicalString()} ${t.op} ${cc(t.value)}`:e instanceof Ic?function(e){return e.op.toString()+" {"+e.getFilters().map(Dc).join(" ,")+"}"}(e):"Filter";var t}class Lc extends Nc{constructor(e,t,n){super(e,t,n),this.key=pl.fromName(n.referenceValue)}matches(e){const t=pl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rc extends Nc{constructor(e,t){super(e,"in",t),this.keys=zc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mc extends Nc{constructor(e,t){super(e,"not-in",t),this.keys=zc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>pl.fromName(e.referenceValue))}class Fc extends Nc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pc(t)&&sc(t.arrayValue,this.value)}}class Uc extends Nc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sc(this.value.arrayValue,t)}}class Bc extends Nc{constructor(e,t){super(e,"not-in",t)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sc(this.value.arrayValue,t)}}class $c extends Nc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>sc(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.le=null}}function Vc(e,t=null,n=[],r=[],i=null,s=null,a=null){return new qc(e,t,n,r,i,s,a)}function Hc(e){const t=Fo(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Pc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),kl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>cc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>cc(e)).join(",")),t.le=e}return t.le}function Wc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ec(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Oc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sc(e.startAt,t.startAt)&&Sc(e.endAt,t.endAt)}function Gc(e){return pl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Qc(e){return new Kc(e)}function Yc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Xc(e){return null!==e.collectionGroup}function Jc(e){const t=Fo(e);if(null===t.he){t.he=[];const e=new Set;for(const r of t.explicitOrderBy)t.he.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new Ol(fl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Cc(r,n))}),e.has(fl.keyField().canonicalString())||t.he.push(new Cc(fl.keyField(),n))}return t.he}function Zc(e){const t=Fo(e);return t.Pe||(t.Pe=function(e,t){if("F"===e.limitType)return Vc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Cc(e.field,t)});const n=e.endAt?new xc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xc(e.startAt.position,e.startAt.inclusive):null;return Vc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Jc(e))),t.Pe}function eu(e,t){const n=e.filters.concat([t]);return new Kc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function tu(e,t,n){return new Kc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nu(e,t){return Wc(Zc(e),Zc(t))&&e.limitType===t.limitType}function ru(e){return`${Hc(Zc(e))}|lt:${e.limitType}`}function iu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Dc(e)).join(", ")}]`),kl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>cc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>cc(e)).join(",")),`Target(${t})`}(Zc(e))}; limitType=${e.limitType})`}function su(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Jc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=kc(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Jc(n),r)||n.endAt&&!function(e,t,n){const r=kc(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Jc(n),r)));var n,r}function au(e){return(t,n)=>{let r=!1;for(const i of Jc(e)){const e=ou(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ou(e,t,n){const r=e.field.isKeyField()?pl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ac(r,i):Mo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mo()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Nl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Il(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new jl(pl.comparator);function uu(){return cu}const du=new jl(pl.comparator);function hu(...e){let t=du;for(const n of e)t=t.insert(n.key,n);return t}function fu(e){let t=du;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function pu(){return gu()}function mu(){return gu()}function gu(){return new lu(e=>e.toString(),(e,t)=>e.isEqual(t))}const yu=new jl(pl.comparator),vu=new Ol(pl.comparator);function bu(...e){let t=vu;for(const n of e)t=t.add(n);return t}const _u=new Ol(el);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(t)?"-0":t}}function xu(e){return{integerValue:""+e}}function ku(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Sl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?xu(t):wu(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this._=void 0}}function Cu(e,t,n){return e instanceof Nu?function(e,t){const n={fields:{[ql]:{stringValue:$l},[Hl]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Wl(t)&&(t=Gl(t)),t&&(n.fields[Vl]=t),{mapValue:n}}(n,t):e instanceof Iu?ju(e,t):e instanceof Au?Pu(e,t):function(e,t){const n=Tu(e,t),r=Du(n)+Du(e.Ie);return fc(n)&&fc(e.Ie)?xu(r):wu(e.serializer,r)}(e,t)}function Eu(e,t,n){return e instanceof Iu?ju(e,t):e instanceof Au?Pu(e,t):n}function Tu(e,t){return e instanceof Ou?fc(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class Nu extends Su{}class Iu extends Su{constructor(e){super(),this.elements=e}}function ju(e,t){const n=Lu(t);for(const r of e.elements)n.some(e=>ic(e,r))||n.push(r);return{arrayValue:{values:n}}}class Au extends Su{constructor(e){super(),this.elements=e}}function Pu(e,t){let n=Lu(t);for(const r of e.elements)n=n.filter(e=>!ic(e,r));return{arrayValue:{values:n}}}class Ou extends Su{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Du(e){return Ul(e.integerValue||e.doubleValue)}function Lu(e){return pc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.field=e,this.transform=t}}class Mu{constructor(e,t){this.version=e,this.transformResults=t}}class zu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zu}static exists(e){return new zu(void 0,e)}static updateTime(e){return new zu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Uu{}function Bu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xu(e.key,zu.none()):new Wu(e.key,e.data,zu.none());{const n=e.data,r=bc.empty();let i=new Ol(fl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Gu(e.key,r,new Ll(i.toArray()),zu.none())}}function $u(e,t,n){var r;e instanceof Wu?function(e,t,n){const r=e.value.clone(),i=Qu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gu?function(e,t,n){if(!Fu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Qu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ku(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function qu(e,t,n,r){return e instanceof Wu?function(e,t,n,r){if(!Fu(e.precondition,t))return n;const i=e.value.clone(),s=Yu(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gu?function(e,t,n,r){if(!Fu(e.precondition,t))return n;const i=Yu(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ku(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,s=n,Fu(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function Vu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Tu(r.transform,e||null);null!=i&&(null===n&&(n=bc.empty()),n.set(r.field,i))}return n||null}function Hu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&il(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof Iu&&r instanceof Iu||n instanceof Au&&r instanceof Au?il(n.elements,r.elements,ic):n instanceof Ou&&r instanceof Ou?ic(n.Ie,r.Ie):n instanceof Nu&&r instanceof Nu);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class Wu extends Uu{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gu extends Uu{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ku(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Qu(e,t,n){const r=new Map;zo(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Eu(a,o,n[i]))}return r}function Yu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Cu(e,s,t))}return r}class Xu extends Uu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ju extends Uu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&$u(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=mu();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Bu(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ll.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bu())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(e,t)=>Hu(e,t))&&il(this.baseMutations,e.baseMutations,(e,t)=>Hu(e,t))}}class ed{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){zo(e.mutations.length===n.length);let r=function(){return yu}();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ed(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rd,id;function sd(e){if(void 0===e)return Do("GRPC error has no .code"),Uo.UNKNOWN;switch(e){case rd.OK:return Uo.OK;case rd.CANCELLED:return Uo.CANCELLED;case rd.UNKNOWN:return Uo.UNKNOWN;case rd.DEADLINE_EXCEEDED:return Uo.DEADLINE_EXCEEDED;case rd.RESOURCE_EXHAUSTED:return Uo.RESOURCE_EXHAUSTED;case rd.INTERNAL:return Uo.INTERNAL;case rd.UNAVAILABLE:return Uo.UNAVAILABLE;case rd.UNAUTHENTICATED:return Uo.UNAUTHENTICATED;case rd.INVALID_ARGUMENT:return Uo.INVALID_ARGUMENT;case rd.NOT_FOUND:return Uo.NOT_FOUND;case rd.ALREADY_EXISTS:return Uo.ALREADY_EXISTS;case rd.PERMISSION_DENIED:return Uo.PERMISSION_DENIED;case rd.FAILED_PRECONDITION:return Uo.FAILED_PRECONDITION;case rd.ABORTED:return Uo.ABORTED;case rd.OUT_OF_RANGE:return Uo.OUT_OF_RANGE;case rd.UNIMPLEMENTED:return Uo.UNIMPLEMENTED;case rd.DATA_LOSS:return Uo.DATA_LOSS;default:return Mo()}}(id=rd||(rd={}))[id.OK=0]="OK",id[id.CANCELLED=1]="CANCELLED",id[id.UNKNOWN=2]="UNKNOWN",id[id.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",id[id.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",id[id.NOT_FOUND=5]="NOT_FOUND",id[id.ALREADY_EXISTS=6]="ALREADY_EXISTS",id[id.PERMISSION_DENIED=7]="PERMISSION_DENIED",id[id.UNAUTHENTICATED=16]="UNAUTHENTICATED",id[id.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",id[id.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",id[id.ABORTED=10]="ABORTED",id[id.OUT_OF_RANGE=11]="OUT_OF_RANGE",id[id.UNIMPLEMENTED=12]="UNIMPLEMENTED",id[id.INTERNAL=13]="INTERNAL",id[id.UNAVAILABLE=14]="UNAVAILABLE",id[id.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ad=new mo([4294967295,4294967295],0);function od(e){const t=Jo().encode(e),n=new go;return n.update(t),new Uint8Array(n.digest())}function ld(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new mo([n,r],0),new mo([i,s],0)]}class cd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ud(`Invalid padding: ${t}`);if(n<0)throw new ud(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ud(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ud(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=mo.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(mo.fromNumber(n)));return 1===r.compare(ad)&&(r=new mo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=od(e),[n,r]=ld(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new cd(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ee)return;const t=od(e),[n,r]=ld(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new dd(ll.min(),r,new jl(el),uu(),bu())}}class hd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new hd(n,t,bu(),bu(),bu())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class pd{constructor(e,t){this.targetId=e,this.ge=t}}class md{constructor(e,t,n=Ml.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class gd{constructor(){this.pe=0,this.ye=bd(),this.we=Ml.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=bu(),t=bu(),n=bu();return this.ye.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mo()}}),new hd(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=bd()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,zo(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class yd{constructor(e){this.ke=e,this.qe=new Map,this.Qe=uu(),this.$e=vd(),this.Ue=vd(),this.Ke=new jl(el)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Mo()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((e,n)=>{this.Je(n)&&t(n)})}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Gc(i))if(0===n){const e=new pl(i.path);this.ze(t,e,wc.newNoDocument(e,ll.min()))}else zo(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Bl(n).toUint8Array()}catch(o){if(o instanceof Rl)return Lo("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new cd(s,r,i)}catch(o){return Lo(o instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)}),r}ot(e){const t=new Map;this.qe.forEach((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Gc(i.target)){const t=new pl(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,wc.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}});let n=bu();this.Ue.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.Qe.forEach((t,n)=>n.setReadTime(e));const r=new dd(e,t,this.Ke,this.Qe,n);return this.Qe=uu(),this.$e=vd(),this.Ue=vd(),this.Ke=new jl(el),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new gd,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ol(el),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ol(el),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Oo("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gd),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function vd(){return new jl(pl.comparator)}function bd(){return new jl(pl.comparator)}const _d=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),wd=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xd=(()=>({and:"AND",or:"OR"}))();class kd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sd(e,t){return e.useProto3Json||kl(t)?t:{value:t}}function Cd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ed(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Td(e,t){return Cd(e,t.toTimestamp())}function Nd(e){return zo(!!e),ll.fromTimestamp(function(e){const t=Fl(e);return new ol(t.seconds,t.nanos)}(e))}function Id(e,t){return jd(e,t).canonicalString()}function jd(e,t){const n=(r=e,new dl(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function Ad(e){const t=dl.fromString(e);return zo(Qd(t)),t}function Pd(e,t){return Id(e.databaseId,t.path)}function Od(e,t){const n=Ad(t);if(n.get(1)!==e.databaseId.projectId)throw new Bo(Uo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bo(Uo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pl(Rd(n))}function Dd(e,t){return Id(e.databaseId,t)}function Ld(e){return new dl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rd(e){return zo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Md(e,t,n){return{name:Pd(e,t),fields:n.value.mapValue.fields}}function zd(e,t){return{documents:[Dd(e,t.path)]}}function Fd(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dd(e,i);const s=function(e){if(0!==e.length)return Gd(Ic.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:Hd((t=e).field),direction:$d(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Sd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i};var l}function Ud(e){let t=function(e){const t=Ad(e);return 4===t.length?dl.emptyPath():Rd(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zo(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Bd(e);return t instanceof Ic&&Ac(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new Cc(Wd((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,kl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new xc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new xc(n,t)}(n.endAt)),function(e,t,n,r,i,s,a,o){return new Kc(e,t,n,r,i,s,a,o)}(t,i,a,s,o,"F",l,c)}function Bd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wd(e.unaryFilter.field);return Nc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Wd(e.unaryFilter.field);return Nc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wd(e.unaryFilter.field);return Nc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Wd(e.unaryFilter.field);return Nc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mo()}}(e):void 0!==e.fieldFilter?(t=e,Nc.create(Wd(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mo()}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return Ic.create(e.compositeFilter.filters.map(e=>Bd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mo()}}(e.compositeFilter.op))}(e):Mo();var t}function $d(e){return _d[e]}function qd(e){return wd[e]}function Vd(e){return xd[e]}function Hd(e){return{fieldPath:e.canonicalString()}}function Wd(e){return fl.fromServerFormat(e.fieldPath)}function Gd(e){return e instanceof Nc?function(e){if("=="===e.op){if(gc(e.value))return{unaryFilter:{field:Hd(e.field),op:"IS_NAN"}};if(mc(e.value))return{unaryFilter:{field:Hd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gc(e.value))return{unaryFilter:{field:Hd(e.field),op:"IS_NOT_NAN"}};if(mc(e.value))return{unaryFilter:{field:Hd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hd(e.field),op:qd(e.op),value:e.value}}}(e):e instanceof Ic?function(e){const t=e.getFilters().map(e=>Gd(e));return 1===t.length?t[0]:{compositeFilter:{op:Vd(e.op),filters:t}}}(e):Mo()}function Kd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Qd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t,n,r,i=ll.min(),s=ll.min(),a=Ml.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Yd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.Tt=e}}function Jd(e){const t=Ud({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?tu(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.Tn=new eh}addToCollectionParentIndex(e,t){return this.Tn.add(t),_l.resolve()}getCollectionParents(e,t){return _l.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return _l.resolve()}deleteFieldIndex(e,t){return _l.resolve()}deleteAllFieldIndexes(e){return _l.resolve()}createTargetIndexes(e,t){return _l.resolve()}getDocumentsMatchingTarget(e,t){return _l.resolve(null)}getIndexType(e,t){return _l.resolve(0)}getFieldIndexes(e,t){return _l.resolve([])}getNextCollectionGroupToUpdate(e){return _l.resolve(null)}getMinOffset(e,t){return _l.resolve(gl.min())}getMinOffsetFromCollectionGroup(e,t){return _l.resolve(gl.min())}updateCollectionGroup(e,t,n){return _l.resolve()}updateIndexEntries(e,t){return _l.resolve()}}class eh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ol(dl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ol(dl.comparator)).toArray()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nh=41943040;class rh{static withCacheSize(e){return new rh(e,rh.DEFAULT_COLLECTION_PERCENTILE,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rh.DEFAULT_COLLECTION_PERCENTILE=10,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rh.DEFAULT=new rh(nh,rh.DEFAULT_COLLECTION_PERCENTILE,rh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rh.DISABLED=new rh(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ih{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ih(0)}static Kn(){return new ih(-1)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="LruGarbageCollector";function ah([e,t],[n,r]){const i=el(e,n);return 0===i?el(t,r):i}class oh{constructor(e){this.Hn=e,this.buffer=new Ol(ah),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ah(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Oo(sh,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wl(e)?Oo(sh,"Ignoring IndexedDB error during garbage collection: ",e):await bl(e)}await this.er(3e5)})}}class ch{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return _l.resolve(xl.ae);const n=new oh(t);return this.tr.forEachTarget(e,e=>n.Zn(e.sequenceNumber)).next(()=>this.tr.rr(e,e=>n.Zn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oo("LruGarbageCollector","Garbage collection skipped; disabled"),_l.resolve(th)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Oo("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),th):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Oo("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Po()<=Vs.DEBUG&&Oo("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${i} targets in `+(o-a)+`ms\n\tRemoved ${e} documents in `+(l-o)+`ms\nTotal Duration: ${l-c}ms`),_l.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uh{constructor(){this.changes=new lu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_l.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&qu(n.mutation,e,Ll.empty(),ol.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,bu()).next(()=>t))}getLocalViewOfDocuments(e,t,n=bu()){const r=pu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=hu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=pu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,bu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=uu();const s=gu(),a=gu();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Gu)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),qu(a.mutation,t,a.mutation.getFieldMask(),ol.now())):s.set(t.key,Ll.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new dh(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=gu();let r=new jl((e,t)=>e-t),i=bu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Ll.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||bu()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=mu();l.forEach(e=>{if(!i.has(e)){const r=Bu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return _l.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,pl.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Xc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):_l.resolve(pu());let a=-1,o=i;return s.next(t=>_l.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?_l.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,bu())).next(e=>({batchId:a,changes:fu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pl(t)).next(e=>{let t=hu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=hu();return this.indexManager.getCollectionParents(e,i).next(a=>_l.forEach(a,a=>{const o=(l=t,c=a.child(i),new Kc(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,wc.newInvalidDocument(r)))});let n=hu();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&qu(s.mutation,r,Ll.empty(),ol.now()),su(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return _l.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,{id:(n=t).id,version:n.version,createTime:Nd(n.createTime)}),_l.resolve();var n}getNamedQuery(e,t){return _l.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,{name:(n=t).name,query:Jd(n.bundledQuery),readTime:Nd(n.readTime)}),_l.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this.overlays=new jl(pl.comparator),this.Rr=new Map}getOverlay(e,t){return _l.resolve(this.overlays.get(t))}getOverlays(e,t){const n=pu();return _l.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.Et(e,t,r)}),_l.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Rr.delete(n)),_l.resolve()}getOverlaysForCollection(e,t,n){const r=pu(),i=t.length+1,s=new pl(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _l.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new jl((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=pu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=pu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return _l.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new td(t,n));let i=this.Rr.get(t);void 0===i&&(i=bu(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this.sessionToken=Ml.EMPTY_BYTE_STRING}getSessionToken(e){return _l.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_l.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this.Vr=new Ol(yh.mr),this.gr=new Ol(yh.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new yh(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.wr(new yh(e,t))}Sr(e,t){e.forEach(e=>this.removeReference(e,t))}br(e){const t=new pl(new dl([])),n=new yh(t,e),r=new yh(t,e+1),i=[];return this.gr.forEachInRange([n,r],e=>{this.wr(e),i.push(e.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new pl(new dl([])),n=new yh(t,e),r=new yh(t,e+1);let i=bu();return this.gr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new yh(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class yh{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return pl.comparator(e.key,t.key)||el(e.Cr,t.Cr)}static pr(e,t){return el(e.Cr,t.Cr)||pl.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ol(yh.mr)}checkEmpty(e){return _l.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Zu(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Mr=this.Mr.add(new yh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _l.resolve(s)}lookupMutationBatch(e,t){return _l.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return _l.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _l.resolve(0===this.mutationQueue.length?-1:this.Fr-1)}getAllMutationBatches(e){return _l.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new yh(t,0),r=new yh(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],e=>{const t=this.Or(e.Cr);i.push(t)}),_l.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ol(el);return t.forEach(e=>{const t=new yh(e,0),r=new yh(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],e=>{n=n.add(e.Cr)})}),_l.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;pl.isDocumentKey(i)||(i=i.child(""));const s=new yh(new pl(i),0);let a=new Ol(el);return this.Mr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)},s),_l.resolve(this.Br(a))}Br(e){const t=[];return e.forEach(e=>{const n=this.Or(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){zo(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return _l.forEach(t.mutations,r=>{const i=new yh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new yh(t,0),r=this.Mr.firstAfterOrEqual(n);return _l.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_l.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.kr=e,this.docs=new jl(pl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _l.resolve(n?n.document.mutableCopy():wc.newInvalidDocument(t))}getEntries(e,t){let n=uu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():wc.newInvalidDocument(e))}),_l.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=uu();const s=t.path,a=new pl(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||yl(ml(a),n)<=0||(r.has(a.key)||su(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return _l.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Mo()}qr(e,t){return _l.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new _h(this)}getSize(e){return _l.resolve(this.size)}}class _h extends uh{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)}),_l.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.persistence=e,this.Qr=new lu(e=>Hc(e),Wc),this.lastRemoteSnapshotVersion=ll.min(),this.highestTargetId=0,this.$r=0,this.Ur=new gh,this.targetCount=0,this.Kr=ih.Un()}forEachTarget(e,t){return this.Qr.forEach((e,n)=>t(n)),_l.resolve()}getLastRemoteSnapshotVersion(e){return _l.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _l.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),_l.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),_l.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ih(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,_l.resolve()}updateTargetData(e,t){return this.zn(t),_l.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,_l.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),_l.waitFor(i).next(()=>r)}getTargetCount(e){return _l.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return _l.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),_l.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),_l.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),_l.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return _l.resolve(n)}containsKey(e,t){return _l.resolve(this.Ur.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new xl(0),this.zr=!1,this.zr=!0,this.jr=new mh,this.referenceDelegate=e(this),this.Hr=new wh(this),this.indexManager=new Zd,this.remoteDocumentCache=new bh(e=>this.referenceDelegate.Jr(e)),this.serializer=new Xd(t),this.Yr=new fh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ph,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new vh(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Oo("MemoryPersistence","Starting transaction:",e);const r=new kh(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next(e=>this.referenceDelegate.Xr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}ei(e,t){return _l.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class kh extends vl{constructor(e){super(),this.currentSequenceNumber=e}}class Sh{constructor(e){this.persistence=e,this.ti=new gh,this.ni=null}static ri(e){return new Sh(e)}get ii(){if(this.ni)return this.ni;throw Mo()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),_l.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),_l.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),_l.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(e=>this.ii.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.ii.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _l.forEach(this.ii,n=>{const r=pl.fromPath(n);return this.si(e,r).next(e=>{e||t.removeEntry(r,ll.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return _l.or([()=>_l.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.oi=new lu(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=El(t)),t=Cl(e.get(n),t);return El(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new ch(e,t)}(this,t)}static ri(e,t){return new Ch(e,t)}Zr(){}Xr(e){return _l.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}sr(e){let t=0;return this.rr(e,e=>{t++}).next(()=>t)}rr(e,t){return _l.forEach(this.oi,(n,r)=>this.ar(e,n,r).next(e=>e?_l.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,r=>this.ar(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ll.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),_l.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),_l.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),_l.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),_l.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dc(e.data.value)),t}ar(e,t,n){return _l.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return _l.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=bu(),r=bu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Eh(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=Ns()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Ts())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ss(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Th;return this._s(e,t,n).next(r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)})}).next(()=>i.result)}us(e,t,n,r){return n.documentReadCount<this.es?(Po()<=Vs.DEBUG&&Oo("QueryEngine","SDK will not create cache indexes for query:",iu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),_l.resolve()):(Po()<=Vs.DEBUG&&Oo("QueryEngine","Query:",iu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Po()<=Vs.DEBUG&&Oo("QueryEngine","The SDK decides to create cache indexes for query:",iu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zc(t))):_l.resolve())}rs(e,t){if(Yc(t))return _l.resolve(null);let n=Zc(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=tu(t,null,"F"),n=Zc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=bu(...r);return this.ns.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,tu(t,null,"F")):this.hs(e,s,t,n)}))})))}ss(e,t,n,r){return Yc(t)||r.isEqual(ll.min())?_l.resolve(null):this.ns.getDocuments(e,n).next(i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?_l.resolve(null):(Po()<=Vs.DEBUG&&Oo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iu(t)),this.hs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ll.fromTimestamp(1e9===r?new ol(n+1,0):new ol(n,r));return new gl(i,pl.empty(),t)}(r,-1)).next(e=>e))})}cs(e,t){let n=new Ol(au(e));return t.forEach((t,r)=>{su(e,r)&&(n=n.add(r))}),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Po()<=Vs.DEBUG&&Oo("QueryEngine","Using full collection scan to execute query:",iu(t)),this.ns.getDocumentsMatchingQuery(e,t,gl.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="LocalStore";class jh{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new jl(el),this.Is=new lu(e=>Hc(e),Wc),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hh(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}async function Ah(e,t){const n=Fo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=bu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Rs:e,removedBatchIds:i,addedBatchIds:s}))})})}function Ph(e){const t=Fo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function Oh(e,t){const n=Fo(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Hr.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ml.EMPTY_BYTE_STRING,ll.min()).withLastLimboFreeSnapshotVersion(ll.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Hr.updateTargetData(e,c))});let o=uu(),l=bu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=bu(),i=bu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=uu();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ll.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Oo(Ih,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Vs:r,fs:i}})}(e,s,t.documentUpdates).next(e=>{o=e.Vs,l=e.fs})),!r.isEqual(ll.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next(t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return _l.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ts=i,e))}function Dh(e,t){const n=Fo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function Lh(e,t,n){const r=Fo(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(a){if(!wl(a))throw a;Oo(Ih,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Rh(e,t,n){const r=Fo(e);let i=ll.min(),s=bu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Fo(e),i=r.Is.get(n);return void 0!==i?_l.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,Zc(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:ll.min(),n?s:bu())).next(e=>(function(e,t,n){let r=e.Es.get(t)||ll.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Es.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,gs:s})))}class Mh{constructor(){this.activeTargetIds=_u}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zh{constructor(){this.ho=new Mh,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Mh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{To(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="ConnectivityMonitor";class Bh{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Oo(Uh,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Oo(Uh,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h=null;function qh(){return null===$h?$h=268435456+Math.round(2147483648*Math.random()):$h++,"0x"+$h.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Vh="RestConnection",Hh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wh{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Yl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const s=qh(),a=this.bo(e,t.toUriEncodedString());Oo(Vh,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,a,o,n).then(t=>(Oo(Vh,`Received RPC '${e}' ${s}: `,t),t),t=>{throw Lo(Vh,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Co(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}bo(e,t){const n=Hh[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="WebChannelConnection";class Qh extends Wh{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=qh();return new Promise((s,a)=>{const o=new vo;o.setWithCredentials(!0),o.listenOnce(_o.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case wo.NO_ERROR:const t=o.getResponseJson();Oo(Kh,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case wo.TIMEOUT:Oo(Kh,`RPC '${e}' ${i} timed out`),a(new Bo(Uo.DEADLINE_EXCEEDED,"Request time out"));break;case wo.HTTP_ERROR:const n=o.getStatus();if(Oo(Kh,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Uo).indexOf(t)>=0?t:Uo.UNKNOWN}(t.status);a(new Bo(e,t.message))}else a(new Bo(Uo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Bo(Uo.UNAVAILABLE,"Connection failed."));break;default:Mo()}}finally{Oo(Kh,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Oo(Kh,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Wo(e,t,n){const r=qh(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Co(),a=So(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Oo(Kh,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new Gh({Fo:t=>{h?Oo(Kh,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Oo(Kh,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Oo(Kh,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,bo.EventType.OPEN,()=>{h||(Oo(Kh,`RPC '${e}' stream ${r} transport opened.`),f.Qo())}),p(u,bo.EventType.CLOSE,()=>{h||(h=!0,Oo(Kh,`RPC '${e}' stream ${r} transport closed`),f.Uo())}),p(u,bo.EventType.ERROR,t=>{h||(h=!0,Lo(Kh,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new Bo(Uo.UNAVAILABLE,"The operation could not be completed")))}),p(u,bo.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];zo(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Oo(Kh,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=rd[e];if(void 0!==t)return sd(t)}(t),i=a.message;void 0===n&&(n=Uo.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Uo(new Bo(n,i)),u.close()}else Oo(Kh,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}}),p(a,ko.STAT_EVENT,t=>{t.stat===xo.PROXY?Oo(Kh,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===xo.NOPROXY&&Oo(Kh,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.$o()},0),f}}function Yh(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(e){return new kd(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Oo("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="PersistentStream";class ef{constructor(e,t,n,r,i,s,a,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Jh(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Uo.RESOURCE_EXHAUSTED?(Do(t.toString()),Do("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Uo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.i_===t&&this.V_(e,n)},t=>{e(()=>{const e=new Bo(Uo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(e=>{n(()=>this.m_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.__?this.g_(e):this.onNext(e))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Oo(Zh,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Oo(Zh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tf extends ef{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Mo(),s=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(zo(void 0===t||"string"==typeof t),Ml.fromBase64String(t||"")):(zo(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Ml.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?Uo.UNKNOWN:sd(e.code);return new Bo(t,e.message||"")}(o);n=new md(i,s,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Od(e,r.document.name),s=Nd(r.document.updateTime),a=r.document.createTime?Nd(r.document.createTime):ll.min(),o=new bc({mapValue:{fields:r.document.fields}}),l=wc.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Od(e,r.document),s=r.readTime?Nd(r.readTime):ll.min(),a=wc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new fd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Od(e,r.document),s=r.removedTargetIds||[];n=new fd([],s,i,null)}else{if(!("filter"in t))return Mo();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new nd(r,i),a=e.targetId;n=new pd(a,s)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ll.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ll.min():t.readTime?Nd(t.readTime):ll.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Ld(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Gc(r)?{documents:zd(e,r)}:{query:Fd(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ed(e,t.resumeToken);const r=Sd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ll.min())>0){n.readTime=Cd(e,t.snapshotVersion.toTimestamp());const r=Sd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mo()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Ld(this.serializer),t.removeTarget=e,this.I_(t)}}class nf extends ef{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return zo(!!e.streamToken),this.lastStreamToken=e.streamToken,zo(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){zo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(zo(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Nd(e.updateTime):Nd(t);return n.isEqual(ll.min())&&(n=Nd(t)),new Mu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Nd(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Ld(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof Wu)n={update:Md(e,t.key,t.value)};else if(t instanceof Xu)n={delete:Pd(e,t.key)};else if(t instanceof Gu)n={update:Md(e,t.key,t.data),updateMask:Kd(t.fieldMask)};else{if(!(t instanceof Ju))return Mo();n={verify:Pd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Nu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Au)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ou)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Mo()}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:Td(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Mo())),n;var r,i}(this.serializer,e))};this.I_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{}class sf extends rf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Bo(Uo.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,jd(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Uo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bo(Uo.UNKNOWN,e.toString())})}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,jd(t,n),r,s,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Uo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bo(Uo.UNKNOWN,e.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class af{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Do(t),this.N_=!1):Oo("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="RemoteStore";class lf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(e=>{n.enqueueAndForget(async()=>{yf(this)&&(Oo(of,"Restarting streams for network reachability change."),await async function(e){const t=Fo(e);t.W_.add(4),await uf(t),t.j_.set("Unknown"),t.W_.delete(4),await cf(t)}(this))})}),this.j_=new af(n,r)}}async function cf(e){if(yf(e))for(const t of e.G_)await t(!0)}async function uf(e){for(const t of e.G_)await t(!1)}function df(e,t){const n=Fo(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),gf(n)?mf(n):Lf(n).c_()&&ff(n,t))}function hf(e,t){const n=Fo(e),r=Lf(n);n.K_.delete(t),r.c_()&&pf(n,t),0===n.K_.size&&(r.c_()?r.P_():yf(n)&&n.j_.set("Unknown"))}function ff(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ll.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Lf(e).y_(t)}function pf(e,t){e.H_.Ne(t),Lf(e).w_(t)}function mf(e){e.H_=new yd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Lf(e).start(),e.j_.B_()}function gf(e){return yf(e)&&!Lf(e).u_()&&e.K_.size>0}function yf(e){return 0===Fo(e).W_.size}function vf(e){e.H_=void 0}async function bf(e){e.j_.set("Online")}async function _f(e){e.K_.forEach((t,n)=>{ff(e,t)})}async function wf(e,t){vf(e),gf(e)?(e.j_.q_(t),mf(e)):e.j_.set("Unknown")}async function xf(e,t,n){if(e.j_.set("Online"),t instanceof md&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(r){Oo(of,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await kf(e,r)}else if(t instanceof fd?e.H_.We(t):t instanceof pd?e.H_.Ze(t):e.H_.je(t),!n.isEqual(ll.min()))try{const t=await Ph(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(Ml.EMPTY_BYTE_STRING,r.snapshotVersion)),pf(e,t);const i=new Yd(r.target,t,n,r.sequenceNumber);ff(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){Oo(of,"Failed to raise snapshot:",i),await kf(e,i)}}async function kf(e,t,n){if(!wl(t))throw t;e.W_.add(1),await uf(e),e.j_.set("Offline"),n||(n=()=>Ph(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Oo(of,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await cf(e)})}function Sf(e,t){return t().catch(n=>kf(e,n,t))}async function Cf(e){const t=Fo(e),n=Rf(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:-1;for(;Ef(t);)try{const e=await Dh(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,Tf(t,e)}catch(i){await kf(t,i)}Nf(t)&&If(t)}function Ef(e){return yf(e)&&e.U_.length<10}function Tf(e,t){e.U_.push(t);const n=Rf(e);n.c_()&&n.S_&&n.b_(t.mutations)}function Nf(e){return yf(e)&&!Rf(e).u_()&&e.U_.length>0}function If(e){Rf(e).start()}async function jf(e){Rf(e).C_()}async function Af(e){const t=Rf(e);for(const n of e.U_)t.b_(n.mutations)}async function Pf(e,t,n){const r=e.U_.shift(),i=ed.from(r,t,n);await Sf(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Cf(e)}async function Of(e,t){t&&Rf(e).S_&&await async function(e,t){if(function(e){switch(e){case Uo.OK:return Mo();case Uo.CANCELLED:case Uo.UNKNOWN:case Uo.DEADLINE_EXCEEDED:case Uo.RESOURCE_EXHAUSTED:case Uo.INTERNAL:case Uo.UNAVAILABLE:case Uo.UNAUTHENTICATED:return!1;case Uo.INVALID_ARGUMENT:case Uo.NOT_FOUND:case Uo.ALREADY_EXISTS:case Uo.PERMISSION_DENIED:case Uo.FAILED_PRECONDITION:case Uo.ABORTED:case Uo.OUT_OF_RANGE:case Uo.UNIMPLEMENTED:case Uo.DATA_LOSS:return!0;default:return Mo()}}(n=t.code)&&n!==Uo.ABORTED){const n=e.U_.shift();Rf(e).h_(),await Sf(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Cf(e)}var n}(e,t),Nf(e)&&If(e)}async function Df(e,t){const n=Fo(e);n.asyncQueue.verifyOperationInProgress(),Oo(of,"RemoteStore received new credentials");const r=yf(n);n.W_.add(3),await uf(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await cf(n)}function Lf(e){return e.J_||(e.J_=function(e,t,n){const r=Fo(e);return r.M_(),new tf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:bf.bind(null,e),No:_f.bind(null,e),Lo:wf.bind(null,e),p_:xf.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),gf(e)?mf(e):e.j_.set("Unknown")):(await e.J_.stop(),vf(e))})),e.J_}function Rf(e){return e.Y_||(e.Y_=function(e,t,n){const r=Fo(e);return r.M_(),new nf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:jf.bind(null,e),Lo:Of.bind(null,e),D_:Af.bind(null,e),v_:Pf.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await Cf(e)):(await e.Y_.stop(),e.U_.length>0&&(Oo(of,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Mf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Mf(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bo(Uo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zf(e,t){if(Do("AsyncQueue",`${t}: ${e}`),wl(e))return new Bo(Uo.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{static emptySet(e){return new Ff(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||pl.comparator(t.key,n.key):(e,t)=>pl.comparator(e.key,t.key),this.keyedMap=hu(),this.sortedSet=new jl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ff))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ff;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this.Z_=new jl(pl.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Mo():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Bf{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Bf(e,t,Ff.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class qf{constructor(){this.queries=Vf(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Fo(e),r=n.queries;n.queries=Vf(),r.forEach((e,n)=>{for(const r of n.ta)r.onError(t)})}(this,new Bo(Uo.ABORTED,"Firestore shutting down"))}}function Vf(){return new lu(e=>ru(e),nu)}async function Hf(e,t){const n=Fo(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new $f,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const e=zf(a,`Initialization of query '${iu(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&Qf(n)}async function Wf(e,t){const n=Fo(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gf(e,t){const n=Fo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Qf(n)}function Kf(e,t,n){const r=Fo(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function Qf(e){e.ia.forEach(e=>{e.next()})}var Yf,Xf;(Xf=Yf||(Yf={}))._a="default",Xf.Cache="cache";class Jf{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Bf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Yf.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.key=e}}class ep{constructor(e){this.key=e}}class tp{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=bu(),this.mutatedKeys=bu(),this.ya=au(e),this.wa=new Ff(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Uf,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=su(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mo()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc)),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==s.length||l?{snapshot:new Bf(this.query,e.wa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Uf,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=bu(),this.wa.forEach(e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))});const t=[];return e.forEach(e=>{this.pa.has(e)||t.push(new ep(e))}),this.pa.forEach(n=>{e.has(n)||t.push(new Zf(n))}),t}Oa(e){this.fa=e.gs,this.pa=bu();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Bf.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const np="SyncEngine";class rp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ip{constructor(e){this.key=e,this.Ba=!1}}class sp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new lu(e=>ru(e),nu),this.qa=new Map,this.Qa=new Set,this.$a=new jl(pl.comparator),this.Ua=new Map,this.Ka=new gh,this.Wa={},this.Ga=new Map,this.za=ih.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function ap(e,t,n=!0){const r=Tp(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await lp(r,t,n,!0),i}async function op(e,t){const n=Tp(e);await lp(n,t,!0,!1)}async function lp(e,t,n,r){const i=await function(e,t){const n=Fo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Hr.getTargetData(e,t).next(i=>i?(r=i,_l.resolve(r)):n.Hr.allocateTargetId(e).next(i=>(r=new Yd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e})}(e.localStore,Zc(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await async function(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await Rh(e.localStore,t.query,!1).then(({documents:e})=>t.view.ba(e,i)));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return wp(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const s=await Rh(e.localStore,t,!0),a=new tp(t,s.gs),o=a.ba(s.documents),l=hd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);wp(e,n,c.Ma);const u=new rp(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&df(e.remoteStore,i),o}async function cp(e,t,n){const r=Fo(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(e=>!nu(e,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Lh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hf(r.remoteStore,i.targetId),bp(r,i.targetId)}).catch(bl)):(bp(r,i.targetId),await Lh(r.localStore,i.targetId,!0))}async function up(e,t){const n=Fo(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hf(n.remoteStore,r.targetId))}async function dp(e,t,n){const r=function(e){const t=Fo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gp.bind(null,t),t}(e);try{const e=await function(e,t){const n=Fo(e),r=ol.now(),i=t.reduce((e,t)=>e.add(t.key),bu());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=uu(),l=bu();return n.ds.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Vu(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Gu(e.key,t,_c(t.value.mapValue),zu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:fu(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new jl(el)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Sp(r,e.changes),await Cf(r.remoteStore)}catch(i){const e=zf(i,"Failed to persist write");n.reject(e)}}async function hp(e,t){const n=Fo(e);try{const e=await Oh(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Ua.get(t);r&&(zo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?zo(r.Ba):e.removedDocuments.size>0&&(zo(r.Ba),r.Ba=!1))}),await Sp(n,e,t)}catch(r){await bl(r)}}function fp(e,t,n){const r=Fo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Fo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)}),r&&Qf(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function pp(e,t,n){const r=Fo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),s=i&&i.key;if(s){let e=new jl(pl.comparator);e=e.insert(s,wc.newNoDocument(s,ll.min()));const n=bu().add(s),i=new dd(ll.min(),new Map,new jl(el),e,n);await hp(r,i),r.$a=r.$a.remove(s),r.Ua.delete(t),kp(r)}else await Lh(r.localStore,t,!1).then(()=>bp(r,t,n)).catch(bl)}async function mp(e,t){const n=Fo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Fo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=_l.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);zo(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=bu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);vp(n,r,null),yp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sp(n,e)}catch(i){await bl(i)}}async function gp(e,t,n){const r=Fo(e);try{const e=await function(e,t){const n=Fo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(zo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);vp(r,t,n),yp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Sp(r,e)}catch(i){await bl(i)}}function yp(e,t){(e.Ga.get(t)||[]).forEach(e=>{e.resolve()}),e.Ga.delete(t)}function vp(e,t,n){const r=Fo(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function bp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(t=>{e.Ka.containsKey(t)||_p(e,t)})}function _p(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(hf(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),kp(e))}function wp(e,t,n){for(const r of n)r instanceof Zf?(e.Ka.addReference(r.key,t),xp(e,r)):r instanceof ep?(Oo(np,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||_p(e,r.key)):Mo()}function xp(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Oo(np,"New document in limbo: "+n),e.Qa.add(r),kp(e))}function kp(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new pl(dl.fromString(t)),r=e.za.next();e.Ua.set(r,new ip(n)),e.$a=e.$a.insert(n,r),df(e.remoteStore,new Yd(Zc(Qc(n.path)),r,"TargetPurposeLimboResolution",xl.ae))}}async function Sp(e,t,n){const r=Fo(e),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach((e,o)=>{a.push(r.Ha(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Eh.Yi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=Fo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>_l.forEach(t,t=>_l.forEach(t.Hi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>_l.forEach(t.Ji,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!wl(r))throw r;Oo(Ih,"Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function Cp(e,t){const n=Fo(e);if(!n.currentUser.isEqual(t)){Oo(np,"User change. New user:",t.toKey());const e=await Ah(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).Ga.forEach(e=>{e.forEach(e=>{e.reject(new Bo(Uo.CANCELLED,i))})}),r.Ga.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Sp(n,e.Rs)}var r,i}function Ep(e,t){const n=Fo(e),r=n.Ua.get(t);if(r&&r.Ba)return bu().add(r.key);{let e=bu();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function Tp(e){const t=Fo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ep.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pp.bind(null,t),t.La.p_=Gf.bind(null,t.eventManager),t.La.Ja=Kf.bind(null,t.eventManager),t}class Np{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return function(e,t,n,r){return new jh(e,t,n,r)}(this.persistence,new Nh,e.initialUser,this.serializer)}Xa(e){return new xh(Sh.ri,this.serializer)}Za(e){return new zh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Np.provider={build:()=>new Np};class Ip extends Np{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){zo(this.persistence.referenceDelegate instanceof Ch);const n=this.persistence.referenceDelegate.garbageCollector;return new lh(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?rh.withCacheSize(this.cacheSizeBytes):rh.DEFAULT;return new xh(e=>Ch.ri(e,t),this.serializer)}}class jp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>fp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cp.bind(null,this.syncEngine),await async function(e,t){const n=Fo(e);t?(n.W_.delete(2),await cf(n)):t||(n.W_.add(2),await uf(n),n.j_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qf}createDatastore(e){const t=Xh(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Qh(r));var r;return function(e,t,n,r){return new sf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>fp(this.syncEngine,e,0),s=Bh.D()?new Bh:new Fh,new lf(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new sp(e,t,n,r,i,s);return a&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Fo(e);Oo(of,"RemoteStore shutting down."),t.W_.add(5),await uf(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}jp.provider={build:()=>new jp};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Do("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="FirestoreClient";class Op{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Io.UNAUTHENTICATED,this.clientId=Zo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Oo(Pp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Oo(Pp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=zf(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Dp(e,t){e.asyncQueue.verifyOperationInProgress(),Oo(Pp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ah(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Lp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Oo(Pp,"Using user provided OfflineComponentProvider");try{await Dp(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===Uo.FAILED_PRECONDITION||n.code===Uo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;Lo("Error using user provided cache. Falling back to memory cache: "+i),await Dp(e,new Np)}}else Oo(Pp,"Using default OfflineComponentProvider"),await Dp(e,new Ip(void 0));var n;return e._offlineComponents}(e);Oo(Pp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Df(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Df(t.remoteStore,n)),e._onlineComponents=t}async function Rp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Oo(Pp,"Using user provided OnlineComponentProvider"),await Lp(e,e._uninitializedComponentsProvider._online)):(Oo(Pp,"Using default OnlineComponentProvider"),await Lp(e,new jp))),e._onlineComponents}async function Mp(e){const t=await Rp(e),n=t.eventManager;return n.onListen=ap.bind(null,t.syncEngine),n.onUnlisten=cp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=op.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=up.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Fp=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(e,t,n){if(!n)throw new Bo(Uo.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Bp(e){if(!pl.isDocumentKey(e))throw new Bo(Uo.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $p(e){if(pl.isDocumentKey(e))throw new Bo(Uo.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function qp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":Mo()}function Vp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bo(Uo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qp(e);throw new Bo(Uo.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Hp="firestore.googleapis.com",Wp=!0;class Gp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Bo(Uo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hp,this.ssl=Wp}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Wp;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=nh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bo(Uo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Bo(Uo.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bo(Uo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Bo(Uo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Bo(Uo.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Kp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bo(Uo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bo(Uo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vo;switch(e.type){case"firstParty":return new Ko(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bo(Uo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Fp.get(e);t&&(Oo("ComponentProvider","Removing Datastore"),Fp.delete(e),t.terminate())}(this),Promise.resolve()}}function Qp(e,t,n,r={}){var i;const s=(e=Vp(e,Kp))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;s.host!==Hp&&s.host!==o&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!Ps(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Io.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[bs(JSON.stringify({alg:"none",type:"JWT"})),bs(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Bo(Uo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Io(s)}e._authCredentials=new Ho(new qo(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yp(this.firestore,e,this._query)}}class Xp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xp(this.firestore,e,this._key)}}class Jp extends Yp{constructor(e,t,n){super(e,t,Qc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xp(this.firestore,null,new pl(e))}withConverter(e){return new Jp(this.firestore,e,this._path)}}function Zp(e,t,...n){if(e=Fs(e),Up("collection","path",t),e instanceof Kp){const r=dl.fromString(t,...n);return $p(r),new Jp(e,null,r)}{if(!(e instanceof Xp||e instanceof Jp))throw new Bo(Uo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(dl.fromString(t,...n));return $p(r),new Jp(e.firestore,null,r)}}function em(e,t,...n){if(e=Fs(e),1===arguments.length&&(t=Zo.newId()),Up("doc","path",t),e instanceof Kp){const r=dl.fromString(t,...n);return Bp(r),new Xp(e,null,new pl(r))}{if(!(e instanceof Xp||e instanceof Jp))throw new Bo(Uo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(dl.fromString(t,...n));return Bp(r),new Xp(e.firestore,e instanceof Jp?e.converter:null,new pl(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="AsyncQueue";class nm{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Jh(this,"async_queue_retry"),this.Su=()=>{const e=Yh();e&&Oo(tm,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Yh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Yh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new $o;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(uD){if(!wl(uD))throw uD;Oo(tm,"Operation failed with retryable error: "+uD)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(e=>{this.gu=e,this.pu=!1;throw Do("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.pu=!1,e))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Mf.createAndSchedule(this,e,t,n,e=>this.Fu(e));return this.fu.push(r),r}Du(){this.gu&&Mo()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function rm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class im extends Kp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new nm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nm(e),this._firestoreClient=void 0,await e}}}function sm(e){if(e._terminated)throw new Bo(Uo.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),s=(a=e._databaseId,o=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,c=i,new Ql(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,zp(c.experimentalLongPollingOptions),c.useFetchStreams));var a,o,l,c;e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Op(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class am{constructor(e){this._byteString=e}static fromBase64String(e){try{return new am(Ml.fromBase64String(e))}catch(t){throw new Bo(Uo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new am(Ml.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bo(Uo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bo(Uo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return el(this._lat,e._lat)||el(this._long,e._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=/^__.*__$/;class hm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Gu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wu(e,this.data,t,this.fieldTransforms)}}class fm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Gu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mo()}}class mm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Nm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(pm(this.Lu)&&dm.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class gm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Xh(e)}ju(e,t,n,r=!1){return new mm({Lu:e,methodName:t,zu:n,path:fl.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ym(e){const t=e._freezeSettings(),n=Xh(e._databaseId);return new gm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vm(e,t,n,r,i,s={}){const a=e.ju(s.merge||s.mergeFields?2:0,t,n,i);Sm("Data must be an object, but it was:",a,r);const o=xm(r,a);let l,c;if(s.merge)l=new Ll(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Cm(t,r,n);if(!a.contains(i))throw new Bo(Uo.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Im(e,i)||e.push(i)}l=new Ll(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new hm(new bc(o),l,c)}class bm extends lm{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bm}}class _m extends lm{_toFieldTransform(e){return new Ru(e.path,new Nu)}isEqual(e){return e instanceof _m}}function wm(e,t){if(km(e=Fs(e)))return Sm("Unsupported field value:",t,e),xm(e,t);if(e instanceof lm)return function(e,t){if(!pm(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=wm(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Fs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ku(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ol.fromDate(e);return{timestampValue:Cd(t.serializer,n)}}if(e instanceof ol){const n=new ol(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cd(t.serializer,n)}}if(e instanceof cm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof am)return{bytesValue:Ed(t.serializer,e._byteString)};if(e instanceof Xp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Id(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof um)return n=e,r=t,{mapValue:{fields:{[Jl]:{stringValue:tc},[nc]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.Wu("VectorValues must only contain numeric values.");return wu(r.serializer,e)})}}}}};var n,r;throw t.Wu(`Unsupported field value: ${qp(e)}`)}(e,t)}function xm(e,t){const n={};return Il(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nl(e,(e,r)=>{const i=wm(r,t.qu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function km(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ol||e instanceof cm||e instanceof am||e instanceof Xp||e instanceof lm||e instanceof um)}function Sm(e,t,n){if(!km(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=qp(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}var r}function Cm(e,t,n){if((t=Fs(t))instanceof om)return t._internalPath;if("string"==typeof t)return Tm(e,t);throw Nm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Em=new RegExp("[~\\*/\\[\\]]");function Tm(e,t,n){if(t.search(Em)>=0)throw Nm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new om(...t.split("."))._internalPath}catch(r){throw Nm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Nm(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Bo(Uo.INVALID_ARGUMENT,o+e+l)}function Im(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Am(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Am extends jm{data(){return super.data()}}function Pm(e,t){return"string"==typeof t?Tm(e,t):t instanceof om?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Bo(Uo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dm{}class Lm extends Dm{}function Rm(e,t,...n){let r=[];t instanceof Dm&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof Fm).length,n=e.filter(e=>e instanceof Mm).length;if(t>1||t>0&&n>0)throw new Bo(Uo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Mm extends Lm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Mm(e,t,n)}_apply(e){const t=this._parse(e);return Wm(e._query,t),new Yp(e.firestore,e.converter,eu(e._query,t))}_parse(e){const t=ym(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Bo(Uo.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Hm(a,s);const t=[];for(const n of a)t.push(Vm(r,e,n));o={arrayValue:{values:t}}}else o=Vm(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Hm(a,s),o=function(e,t,n,r=!1){return wm(n,e.ju(r?4:3,t))}(n,t,a,"in"===s||"not-in"===s);return Nc.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function zm(e,t,n){const r=t,i=Pm("where",e);return Mm._create(i,r,n)}class Fm extends Dm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fm(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Ic.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Wm(n,i),n=eu(n,i)}(e._query,t),new Yp(e.firestore,e.converter,eu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Um extends Lm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Um(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cc(t,n)}(e._query,this._field,this._direction);return new Yp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Kc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Bm(e,t="asc"){const n=t,r=Pm("orderBy",e);return Um._create(r,n)}class $m extends Lm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new $m(e,t,n)}_apply(e){return new Yp(e.firestore,e.converter,tu(e._query,this._limit,this._limitType))}}function qm(e){return function(e,t){if(t<=0)throw new Bo(Uo.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limit",e),$m._create("limit",e,"F")}function Vm(e,t,n){if("string"==typeof(n=Fs(n))){if(""===n)throw new Bo(Uo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xc(t)&&-1!==n.indexOf("/"))throw new Bo(Uo.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(dl.fromString(n));if(!pl.isDocumentKey(r))throw new Bo(Uo.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hc(e,new pl(r))}if(n instanceof Xp)return hc(e,n._key);throw new Bo(Uo.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qp(n)}.`)}function Hm(e,t){if(!Array.isArray(e)||0===e.length)throw new Bo(Uo.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Wm(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Bo(Uo.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Bo(Uo.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Gm{convertValue(e,t="none"){switch(rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ul(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Mo()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Nl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[nc].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Ul(e.doubleValue));return new um(i)}convertGeoPoint(e){return new cm(Ul(e.latitude),Ul(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Gl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const t=Fl(e);return new ol(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dl.fromString(e);zo(Qd(n));const r=new Xl(n.get(1),n.get(3)),i=new pl(n.popFirst(5));return r.isEqual(t)||Do(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(e,t,n){let r;return r=e?e.toFirestore(t):t,r
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Qm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ym extends jm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Pm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Xm extends Ym{data(e={}){return super.data(e)}}class Jm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Xm(this._firestore,this._userDataWriter,n.key,n,new Qm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bo(Uo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Xm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Qm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Xm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Zm(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mo()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(e){e=Vp(e,Xp);const t=Vp(e.firestore,im);return function(e,t,n={}){const r=new $o;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Ap({next:o=>{s.su(),t.enqueueAndForget(()=>Wf(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Bo(Uo.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Bo(Uo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Jf(Qc(n.path),s,{includeMetadataChanges:!0,Ta:!0});return Hf(e,a)}(await Mp(e),e.asyncQueue,t,n,r)),r.promise}(sm(t),e._key).then(n=>og(t,e,n))}class tg extends Gm{constructor(e){super(),this.firestore=e}convertBytes(e){return new am(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xp(this.firestore,null,t)}}function ng(e){e=Vp(e,Yp);const t=Vp(e.firestore,im),n=sm(t),r=new tg(t);return Om(e._query),function(e,t,n={}){const r=new $o;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Ap({next:n=>{s.su(),t.enqueueAndForget(()=>Wf(e,a)),n.fromCache&&"server"===r.source?i.reject(new Bo(Uo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Jf(n,s,{includeMetadataChanges:!0,Ta:!0});return Hf(e,a)}(await Mp(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new Jm(t,r,e,n))}function rg(e,t,n,...r){e=Vp(e,Xp);const i=Vp(e.firestore,im),s=ym(i);let a;return a="string"==typeof(t=Fs(t))||t instanceof om?function(e,t,n,r,i,s){const a=e.ju(1,t,n),o=[Cm(t,r,n)],l=[i];if(s.length%2!=0)throw new Bo(Uo.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Cm(t,s[h])),l.push(s[h+1]);const c=[],u=bc.empty();for(let h=o.length-1;h>=0;--h)if(!Im(c,o[h])){const e=o[h];let t=l[h];t=Fs(t);const n=a.Uu(e);if(t instanceof bm)c.push(e);else{const r=wm(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ll(c);return new fm(u,d,a.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.ju(1,t,n);Sm("Data must be an object, but it was:",i,r);const s=[],a=bc.empty();Nl(r,(e,r)=>{const o=Tm(t,e,n);r=Fs(r);const l=i.Uu(o);if(r instanceof bm)s.push(o);else{const e=wm(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Ll(s);return new fm(a,o,i.fieldTransforms)}(s,"updateDoc",e._key,t),ag(i,[a.toMutation(e._key,zu.exists(!0))])}function ig(e){return ag(Vp(e.firestore,im),[new Xu(e._key,zu.none())])}function sg(e,t){const n=Vp(e.firestore,im),r=em(e),i=Km(e.converter,t);return ag(n,[vm(ym(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zu.exists(!1))]).then(()=>r)}function ag(e,t){return function(e,t){const n=new $o;return e.asyncQueue.enqueueAndForget(async()=>dp(await function(e){return Rp(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(sm(e),t)}function og(e,t,n){const r=n.docs.get(t._key),i=new tg(e);return new Ym(e,i,t._key,r,new Qm(n.hasPendingWrites,n.fromCache),t.converter)}function lg(){return new _m("serverTimestamp")}function cg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ug(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}!function(e,t=!0){jo=eo,Qa(new Us("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new im(new Wo(e.getProvider("auth-internal")),new Yo(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bo(Uo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),ro(To,No,e),ro(To,No,"esm2017")}(),"function"==typeof SuppressedError&&SuppressedError;const dg=ug,hg=new js("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fg=new Ys("@firebase/auth");function pg(e,...t){fg.logLevel<=Vs.ERROR&&fg.error(`Auth (${eo}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(e,...t){throw bg(e,...t)}function gg(e,...t){return bg(e,...t)}function yg(e,t,n){const r=Object.assign(Object.assign({},dg()),{[t]:n});return new js("auth","Firebase",r).create(t,{appName:e.name})}function vg(e){return yg(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bg(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return hg.create(e,...t)}function _g(e,t,...n){if(!e)throw bg(t,...n)}function wg(e){const t="INTERNAL ASSERTION FAILED: "+e;throw pg(t),new Error(t)}function xg(e,t){e||wg(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Sg(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==Sg()&&"https:"!==Sg()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Eg{constructor(e,t){this.shortDelay=e,this.longDelay=t,xg(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ts())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Cg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(e,t){xg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void wg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void wg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void wg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jg=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ag=new Eg(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Og(e,t,n,r,i={}){return Dg(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Ds(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Ng.fetch()(await Rg(e,e.config.apiHost,n,a),l)})}async function Dg(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ig),t);try{const t=new zg(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Fg(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Fg(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Fg(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Fg(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw yg(e,o,a);mg(e,o)}}catch(uD){if(uD instanceof Is)throw uD;mg(e,"network-request-failed",{message:String(uD)})}}async function Lg(e,t,n,r,i={}){const s=await Og(e,t,n,r,i);return"mfaPendingCredential"in s&&mg(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Rg(e,t,n,r){const i=`${t}${n}?${r}`,s=e,a=s.config.emulator?Tg(e.config,i):`${e.config.apiScheme}://${i}`;if(jg.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function Mg(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zg{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(gg(this.auth,"network-request-failed")),Ag.get())})}}function Fg(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gg(e,t,r);return i.customData._tokenResponse=n,i}function Ug(e){return void 0!==e&&void 0!==e.enterprise}class Bg{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Mg(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $g(e,t){return Og(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uD){}}function Vg(e){return 1e3*Number(e)}function Hg(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return pg("JWT malformed, contained fewer than 3 sections"),null;try{const e=_s(n);return e?JSON.parse(e):(pg("Failed to decode base64 JWT payload"),null)}catch(uD){return pg("Caught error parsing JWT payload as JSON",null==uD?void 0:uD.toString()),null}}function Wg(e){const t=Hg(e);return _g(t,"internal-error"),_g(void 0!==t.exp,"internal-error"),_g(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(e,t,n=!1){if(n)return t;try{return await t}catch(uD){throw uD instanceof Is&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(uD)&&e.auth.currentUser===e&&await e.auth.signOut(),uD}}class Kg{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uD){return void("auth/network-request-failed"===(null==uD?void 0:uD.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qg(this.lastLoginAt),this.creationTime=qg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yg(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Gg(e,$g(n,{idToken:r}));_g(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Xg(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash||(null==o?void 0:o.length)),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Qg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Xg(e){return e.map(e=>{var{providerId:t}=e,n=cg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_g(e.idToken,"internal-error"),_g(void 0!==e.idToken,"internal-error"),_g(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Wg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_g(0!==e.length,"internal-error");const t=Wg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(_g(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Dg(e,{},async()=>{const n=Ds({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Rg(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ng.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Jg;return n&&(_g("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(_g("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(_g("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jg,this.toJSON())}_performRefresh(){return wg("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(e,t){_g("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ey{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=cg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Gg(this,this.stsTokenManager.getToken(this.auth,e));return _g(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Fs(e),r=await n.getIdToken(t),i=Hg(r);_g(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qg(Vg(i.auth_time)),issuedAtTime:qg(Vg(i.iat)),expirationTime:qg(Vg(i.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Fs(e);await Yg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_g(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ey(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_g(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Yg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xa(this.auth.app))return Promise.reject(vg(this.auth));const e=await this.getIdToken();return await Gg(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return Og(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:x}=t;_g(v&&x,e,"internal-error");const k=Jg.fromJSON(this.name,x);_g("string"==typeof v,e,"internal-error"),Zg(u,e.name),Zg(d,e.name),_g("boolean"==typeof b,e,"internal-error"),_g("boolean"==typeof _,e,"internal-error"),Zg(h,e.name),Zg(f,e.name),Zg(p,e.name),Zg(m,e.name),Zg(g,e.name),Zg(y,e.name);const S=new ey({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){const r=new Jg;r.updateFromServerResponse(t);const i=new ey({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Yg(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];_g(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Xg(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),a=new Jg;a.updateFromIdToken(n);const o=new ey({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Qg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(o,l),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;function ny(e){xg(e instanceof Function,"Expected a class definition");let t=ty.get(e);return t?(xg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ty.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ry.type="NONE";const iy=ry;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(e,t,n){return`firebase:${e}:${t}:${n}`}class ay{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=sy(this.userKey,r.apiKey,i),this.fullPersistenceKey=sy("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await $g(this.auth,{idToken:e}).catch(()=>{});return t?ey._fromGetAccountInfoResponse(this.auth,t,e):null}return ey._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ay(ny(iy),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ny(iy);const s=sy(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"==typeof t){const r=await $g(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ey._fromGetAccountInfoResponse(e,r,t)}else n=ey._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new ay(i,e,n)):new ay(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ly(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fy(t))return"Blackberry";if(py(t))return"Webos";if(cy(t))return"Safari";if((t.includes("chrome/")||uy(t))&&!t.includes("edge/"))return"Chrome";if(hy(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function ly(e=Ts()){return/firefox\//i.test(e)}function cy(e=Ts()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uy(e=Ts()){return/crios\//i.test(e)}function dy(e=Ts()){return/iemobile/i.test(e)}function hy(e=Ts()){return/android/i.test(e)}function fy(e=Ts()){return/blackberry/i.test(e)}function py(e=Ts()){return/webos/i.test(e)}function my(e=Ts()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gy(){return function(){const e=Ts();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function yy(e=Ts()){return my(e)||hy(e)||py(e)||fy(e)||/windows phone/i.test(e)||dy(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(e,t=[]){let n;switch(e){case"Browser":n=oy(Ts());break;case"Worker":n=`${oy(Ts())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(uD){r(uD)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uD){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==uD?void 0:uD.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ky(this),this.idTokenSubscription=new ky(this),this.beforeStateQueue=new by(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ny(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ay.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uD){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await $g(this,{idToken:e}),n=await ey._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xa(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(uD){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(uD))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _g(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uD){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yg(e)}catch(uD){if("auth/network-request-failed"!==(null==uD?void 0:uD.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xa(this.app))return Promise.reject(vg(this));const t=e?Fs(e):null;return t&&_g(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_g(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xa(this.app)?Promise.reject(vg(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xa(this.app)?Promise.reject(vg(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ny(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Og(e,"GET","/v2/passwordPolicy",Pg(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new _y(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new js("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Og(e,"POST","/v2/accounts:revokeToken",Pg(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ny(e)||this._popupRedirectResolver;_g(t,this,"argument-error"),this.redirectPersistenceManager=await ay.create(this,[ny(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_g(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _g(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Xa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){fg.logLevel<=Vs.WARN&&fg.warn(`Auth (${eo}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function xy(e){return Fs(e)}class ky{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ms(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return _g(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cy(e){return Sy.loadJS(e)}class Ey{constructor(){this.enterprise=new Ty}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ty{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ny="NO_RECAPTCHA";class Iy{constructor(e){this.type="recaptcha-enterprise",this.auth=xy(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{(async function(e,t){return Og(e,"GET","/v2/recaptchaConfig",Pg(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Bg(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;Ug(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ny)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ey).execute("siteKey",{action:"verify"})}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&Ug(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=Sy.recaptchaEnterpriseScript;0!==t.length&&(t+=n),Cy(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function jy(e,t,n,r=!1,i=!1){const s=new Iy(e);let a;if(i)a=Ny;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ay(e,t,n,r,i){var s;if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await jy(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await jy(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e,t,n){const r=xy(e);_g(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=Oy(t),{host:s,port:a}=function(e){const t=Oy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Dy(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Dy(t)}}}(t),o={url:`${i}//${s}${null===a?"":`:${a}`}/`},l=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator)return _g(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void _g(Ps(o,r.config.emulator)&&Ps(l,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=o,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Oy(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Dy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ly{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wg("not implemented")}_getIdTokenResponse(e){return wg("not implemented")}_linkToIdToken(e,t){return wg("not implemented")}_getReauthenticationResolver(e){return wg("not implemented")}}async function Ry(e,t){return Og(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(e,t){return Lg(e,"POST","/v1/accounts:signInWithPassword",Pg(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zy extends Ly{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new zy(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new zy(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ay(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",My);case"emailLink":return async function(e,t){return Lg(e,"POST","/v1/accounts:signInWithEmailLink",Pg(e,t))}(e,{email:this._email,oobCode:this._password});default:mg(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ay(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ry);case"emailLink":return async function(e,t){return Lg(e,"POST","/v1/accounts:signInWithEmailLink",Pg(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:mg(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(e,t){return Lg(e,"POST","/v1/accounts:signInWithIdp",Pg(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends Ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Uy(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mg("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=cg(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Uy(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Fy(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Fy(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fy(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ds(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){var t,n,r,i,s,a;const o=Ls(Rs(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);_g(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Ls(Rs(e)).link,n=t?Ls(Rs(t)).deep_link_id:null,r=Ls(Rs(e)).deep_link_id;return(r?Ls(Rs(r)).link:null)||r||n||t||e}(e);try{return new By(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.providerId=$y.PROVIDER_ID}static credential(e,t){return zy._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=By.parseLink(t);return _g(n,"argument-error"),zy._fromEmailAndCode(e,n.code,n.tenantId)}}$y.PROVIDER_ID="password",$y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$y.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends qy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends Vy{constructor(){super("facebook.com")}static credential(e){return Uy._fromParams({providerId:Hy.PROVIDER_ID,signInMethod:Hy.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hy.credentialFromTaggedObject(e)}static credentialFromError(e){return Hy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Hy.credential(e.oauthAccessToken)}catch(t){return null}}}Hy.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hy.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wy extends Vy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Uy._fromParams({providerId:Wy.PROVIDER_ID,signInMethod:Wy.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wy.credentialFromTaggedObject(e)}static credentialFromError(e){return Wy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Wy.credential(t,n)}catch(r){return null}}}Wy.GOOGLE_SIGN_IN_METHOD="google.com",Wy.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gy extends Vy{constructor(){super("github.com")}static credential(e){return Uy._fromParams({providerId:Gy.PROVIDER_ID,signInMethod:Gy.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gy.credentialFromTaggedObject(e)}static credentialFromError(e){return Gy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Gy.credential(e.oauthAccessToken)}catch(t){return null}}}Gy.GITHUB_SIGN_IN_METHOD="github.com",Gy.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ky extends Vy{constructor(){super("twitter.com")}static credential(e,t){return Uy._fromParams({providerId:Ky.PROVIDER_ID,signInMethod:Ky.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ky.credentialFromTaggedObject(e)}static credentialFromError(e){return Ky.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ky.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Qy(e,t){return Lg(e,"POST","/v1/accounts:signUp",Pg(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ky.TWITTER_SIGN_IN_METHOD="twitter.com",Ky.PROVIDER_ID="twitter.com";class Yy{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ey._fromIdTokenResponse(e,n,r),s=Xy(n);return new Yy({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Xy(n);return new Yy({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Xy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Is{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Jy.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Jy(e,t,n,r)}}function Zy(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Jy._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ev(e,t,n=!1){if(Xa(e.app))return Promise.reject(vg(e));const r="signIn",i=await Zy(e,r,t),s=await Yy._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function tv(e){const t=xy(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function nv(e,t,n){return Xa(e.app)?Promise.reject(vg(e)):async function(e,t){return ev(xy(e),t)}(Fs(e),$y.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tv(e),t})}const rv="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rv,"1"),this.storage.removeItem(rv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends iv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);gy()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sv.type="LOCAL";const av=sv;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends iv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ov.type="SESSION";const lv=ov;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new cv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function uv(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cv.receivers=[];class dv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=uv("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fv(){return void 0!==hv().WorkerGlobalScope&&"function"==typeof hv().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const pv="firebaseLocalStorageDb",mv="firebaseLocalStorage",gv="fbase_key";class yv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vv(e,t){return e.transaction([mv],t?"readwrite":"readonly").objectStore(mv)}function bv(){const e=indexedDB.open(pv,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(mv,{keyPath:gv})}catch(uD){n(uD)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(mv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(pv);return new yv(e).toPromise()}(),t(await bv()))})})}async function _v(e,t,n){const r=vv(e,!0).put({[gv]:t,value:n});return new yv(r).toPromise()}function wv(e,t){const n=vv(e,!0).delete(t);return new yv(n).toPromise()}class xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await bv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uD){if(t++>3)throw uD;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cv._getInstance(fv()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new dv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bv();return await _v(e,rv,"1"),await wv(e,rv),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_v(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=vv(e,!1).get(t),r=await new yv(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=vv(e,!1).getAll();return new yv(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xv.type="LOCAL";const kv=xv;
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Sv(e,t){return t?ny(t):(_g(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Eg(3e4,6e4);class Cv extends Ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fy(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ev(e){return ev(e.auth,new Cv(e),e.bypassAuthState)}function Tv(e){const{auth:t,user:n}=e;return _g(n,t,"internal-error"),
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t,n=!1){const{auth:r}=e;if(Xa(r.app))return Promise.reject(vg(r));const i="reauthenticate";try{const s=await Gg(e,Zy(r,i,t,e),n);_g(s.idToken,r,"internal-error");const a=Hg(s.idToken);_g(a,r,"internal-error");const{sub:o}=a;return _g(e.uid===o,r,"user-mismatch"),Yy._forOperation(e,i,s)}catch(uD){throw"auth/user-not-found"===(null==uD?void 0:uD.code)&&mg(r,"user-mismatch"),uD}}(n,new Cv(e),e.bypassAuthState)}async function Nv(e){const{auth:t,user:n}=e;return _g(n,t,"internal-error"),async function(e,t,n=!1){const r=await Gg(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yy._forOperation(e,"link",r)}(n,new Cv(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uD){this.reject(uD)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(uD){this.reject(uD)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ev;case"linkViaPopup":case"linkViaRedirect":return Nv;case"reauthViaPopup":case"reauthViaRedirect":return Tv;default:mg(this.auth,"internal-error")}}resolve(e){xg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Eg(2e3,1e4);async function Av(e,t,n){if(Xa(e.app))return Promise.reject(gg(e,"operation-not-supported-in-this-environment"));const r=xy(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&mg(e,"argument-error"),yg(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,qy);const i=Sv(r,n);return new Pv(r,"signInViaPopup",t,i).executeNotNull()}class Pv extends Iv{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Pv.currentPopupAction&&Pv.currentPopupAction.cancel(),Pv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _g(e,this.auth,"internal-error"),e}async onExecution(){xg(1===this.filter.length,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(gg(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(gg(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gg(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,jv.get())};e()}}Pv.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ov="pendingRedirect",Dv=new Map;class Lv extends Iv{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Dv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return sy(Ov,e.config.apiKey,e.name)}(t),r=function(e){return ny(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(uD){e=()=>Promise.reject(uD)}Dv.set(this.auth._key(),e)}return this.bypassAuthState||Dv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Rv(e,t){Dv.set(e._key(),t)}async function Mv(e,t,n=!1){if(Xa(e.app))return Promise.reject(vg(e));const r=xy(e),i=Sv(r,t),s=new Lv(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uv(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Uv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(gg(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Uv({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Bv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$v=/^https?/;async function qv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Og(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(Vv(r))return}catch(n){}mg(e,"unauthorized-domain")}function Vv(e){const t=kg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$v.test(n))return!1;if(Bv.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Eg(3e4,6e4);function Wv(){const e=hv().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Gv(e){return new Promise((t,n)=>{var r,i,s;function a(){Wv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(gg(e,"network-request-failed"))},timeout:Hv.get()})}if(null===(i=null===(r=hv().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=hv().gapi)||void 0===s?void 0:s.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return hv()[t]=()=>{gapi.load?a():n(gg(e,"network-request-failed"))},Cy(`${Sy.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Kv=null,e})}let Kv=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qv=new Eg(5e3,15e3),Yv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jv(e){const t=e.config;_g(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Tg(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:eo},i=Xv.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ds(r).slice(1)}`}async function Zv(e){const t=await function(e){return Kv=Kv||Gv(e),Kv}(e),n=hv().gapi;return _g(n,e,"internal-error"),t.open({where:document.body,url:Jv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yv,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=gg(e,"network-request-failed"),s=hv().setTimeout(()=>{r(i)},Qv.get());function a(){hv().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uD){}}}function nb(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},eb),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ts().toLowerCase();n&&(o=uy(c)?"_blank":n),ly(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Ts()){var t;return my(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",o),new tb(null);const d=window.open(t||"",o,u);_g(d,e,"popup-blocked");try{d.focus()}catch(uD){}return new tb(d)}const rb="__/auth/handler",ib="emulator/auth/handler",sb=encodeURIComponent("fac");async function ab(e,t,n,r,i,s){_g(e.config.authDomain,e,"auth-domain-config-required"),_g(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:eo,eventId:i};if(t instanceof qy){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof Vy){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${sb}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${rb}`;return Tg(e,ib)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Ds(o).slice(1)}${c}`}const ob="webStorageSupport";const lb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lv,this._completeRedirectFn=Mv,this._overrideRedirectResult=Rv}async _openPopup(e,t,n,r){var i;xg(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return nb(e,await ab(e,t,n,kg(),r),uv())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){hv().location.href=e}(await ab(e,t,n,kg(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xg(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Zv(e),n=new zv(e);return t.register("authEvent",t=>{_g(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ob,{type:ob},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ob];void 0!==i&&t(!!i),mg(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yy()||cy()||my()}};var cb="@firebase/auth",ub="1.10.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class db{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_g(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const hb=Cs("authIdTokenMaxAge")||300;let fb=null;var pb;Sy={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=gg("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},pb="Browser",Qa(new Us("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;_g(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:s,authDomain:a,clientPlatform:pb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vy(pb)},l=new wy(n,r,i,o);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ny);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Qa(new Us("auth-internal",e=>{const t=xy(e.getProvider("auth").getImmediate());return new db(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ro(cb,ub,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(pb)),ro(cb,ub,"esm2017");const mb=to({apiKey:"AIzaSyBPwtNs87fufXOjTBFIchkA-897GnFh2j4",authDomain:"originbythesea.firebaseapp.com",projectId:"originbythesea",storageBucket:"originbythesea.firebasestorage.app",messagingSenderId:"156608754022",appId:"1:156608754022:web:4e0bf895e39ae909b758a7"}),gb=function(e){const t="object"==typeof e?e:no(),n="string"==typeof e?e:Yl,r=Ya(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=ks(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Qp(r,...e)}return r}(mb),yb=function(e=no()){const t=Ya(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ya(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ps(n.getOptions(),null!=t?t:{}))return e;mg(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:lb,persistence:[kv,av,lv]}),r=Cs("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>hb)return;const r=null==t?void 0:t.token;fb!==r&&(fb=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Fs(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Fs(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=ks("auth");return s&&Py(n,`http://${s}`),n}(mb),vb=as("home/fetchHomePageData",async(e,{rejectWithValue:t})=>{try{console.log(" Starting centralized home page data fetch");const e={hero:null,collections:[],featuredProducts:[]};console.log(" Fetching hero section data");const t=await eg(em(gb,"settings","hero_section"));if(t.exists()){const n=t.data();e.hero={title:n.title||"Designed by Hands, Loved by Hearts.",buttonText:n.buttonText||"SHOP NOW",subtitle:n.subtitle||"Designed by Hands, Loved by Hearts.",description:n.description||"SHOP NOW",backgroundVideo:n.backgroundVideo||"",backgroundImage:n.backgroundImage||"/images/hero-banner.jpg"}}console.log(" Hero data fetched successfully"),console.log(" Fetching collections data");const n=Zp(gb,"collections"),r=await ng(n);e.collections=r.docs.map(e=>({id:e.id,...e.data()})),console.log(` Fetched ${e.collections.length} collections`),console.log(" Fetching featured products");const i=Rm(Zp(gb,"products"),Bm("created_at","desc"),qm(8)),s=await ng(i);return e.featuredProducts=s.docs.map(e=>{const t=e.data();return{id:e.id,...t,image:t.images&&t.images.length>0?t.images[0]:"/images/placeholder.jpg",hoverImage:t.images&&t.images.length>1?t.images[1]:t.images&&t.images.length>0?t.images[0]:"/images/placeholder.jpg",price:t.price?`AED ${t.price}`:"Price not available",rawPrice:t.price||0,name:t.name||"Product Name"}}),console.log(` Fetched ${e.featuredProducts.length} featured products`),console.log(" All home page data fetched successfully!"),e}catch(n){return console.error(" Error fetching home page data:",n),t(n.message)}}),bb=hs({name:"home",initialState:{hero:null,collections:[],featuredProducts:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(vb.pending,e=>{e.status="loading",console.log(" Home page data loading...")}).addCase(vb.fulfilled,(e,t)=>{e.status="succeeded",e.hero=t.payload.hero,e.collections=t.payload.collections,e.featuredProducts=t.payload.featuredProducts,console.log(" Home page data loaded into Redux store")}).addCase(vb.rejected,(e,t)=>{e.status="failed",e.error=t.payload,console.error(" Failed to load home page data:",t.payload)})}}).reducer,_b="_hero_rmz8i_1",wb="_heroVideo_rmz8i_15",xb="_heroImage_rmz8i_47",kb="_heroOverlay_rmz8i_75",Sb="_heroContent_rmz8i_99",Cb="_shopNowButton_rmz8i_143",Eb="_loading_rmz8i_241",Tb="_shimmerWrapper_rmz8i_257",Nb="_shimmerBg_rmz8i_285",Ib="_shimmerTitle_rmz8i_317",jb="_shimmerButton_rmz8i_337",Ab=as("hero/fetchHeroData",async()=>{const e=await eg(em(gb,"settings","hero_section"));if(e.exists()){const t=e.data();return{title:t.title||"Designed by Hands, Loved by Hearts.",buttonText:t.buttonText||"SHOP NOW",subtitle:t.subtitle||"Designed by Hands, Loved by Hearts.",description:t.description||"SHOP NOW",backgroundVideo:t.backgroundVideo||"",backgroundImage:t.backgroundImage||"/images/hero-banner.jpg"}}throw new Error("Hero section data not found")}),Pb=hs({name:"hero",initialState:{data:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Ab.pending,e=>{e.isLoading=!0}).addCase(Ab.fulfilled,(e,t)=>{e.data=t.payload,e.isLoading=!1}).addCase(Ab.rejected,(e,t)=>{e.error=t.error.message,e.isLoading=!1})}}).reducer,Ob="_luxurySection_1ykbt_1",Db="_container_1ykbt_11",Lb="_heading_1ykbt_29",Rb="_description_1ykbt_55",Mb=({subtitle:e,description:t})=>(console.log(`this is subtitle ${e} and descrition ${t}`),d.jsxs("section",{className:Ob,children:[d.jsx("h2",{className:Lb,children:e}),d.jsx("div",{className:Db,children:d.jsx("p",{className:Rb,children:t})})]})),zb=()=>{const e=g.useRef(null),t=g.useRef(null),[n,r]=g.useState(!1),i=$r(),{data:s,isLoading:a}=Hr(e=>e.hero);return g.useEffect(()=>{s?setTimeout(()=>{r(!0)},500):i(Ab())},[s,i]),g.useEffect(()=>{const n=e.current,r=t.current,i=()=>{r&&(r.style.display="block")};return n&&(n.addEventListener("error",i),n.addEventListener("stalled",i)),()=>{n&&(n.removeEventListener("error",i),n.removeEventListener("stalled",i))}},[]),a||!s?d.jsxs("div",{className:Eb,children:[d.jsx("div",{className:Nb}),d.jsxs("div",{className:Tb,children:[d.jsx("div",{className:Ib}),d.jsx("div",{className:jb})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:_b,children:[d.jsx("div",{className:kb}),s.backgroundVideo&&d.jsx("video",{ref:e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:wb,style:{opacity:n?void 0:0},onLoadedData:()=>r(!0),children:d.jsx("source",{src:s.backgroundVideo,type:"video/mp4"})}),d.jsx("img",{ref:t,src:s.backgroundImage,alt:"Hero banner",className:xb,style:{opacity:n?void 0:0},onLoad:()=>r(!0)}),d.jsxs("div",{className:Sb,style:{opacity:n?void 0:0},children:[d.jsx("h1",{children:s.title}),d.jsx(ft,{to:"/shop",className:Cb,children:s.buttonText})]})]}),d.jsx(Mb,{subtitle:s.subtitle,description:s.description})]})},Fb="_collectionsSection_672o7_1",Ub="_title_672o7_19",Bb="_sliderContainer_672o7_43",$b="_collectionsGrid_672o7_57",qb="_collectionCard_672o7_75",Vb="_collectionLink_672o7_103",Hb="_collectionImage_672o7_115",Wb="_overlay_672o7_127",Gb="_collectionTitle_672o7_145",Kb="_sliderButton_672o7_173",Qb="_prevButton_672o7_219",Yb="_nextButton_672o7_227",Xb="_shimmer_672o7_289";var Jb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zb=y.createContext&&y.createContext(Jb),e_=["attr","size","title"];function t_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n_.apply(this,arguments)}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(t){s_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s_(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_(e){return e&&e.map((e,t)=>y.createElement(e.tag,i_({key:t},e.attr),a_(e.child)))}function o_(e){return t=>y.createElement(l_,n_({attr:i_({},e.attr)},t),a_(e.child))}function l_(e){var t=t=>{var n,{attr:r,size:i,title:s}=e,a=t_(e,e_),o=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),y.createElement("svg",n_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:i_(i_({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&y.createElement("title",null,s),e.children)};return void 0!==Zb?y.createElement(Zb.Consumer,null,e=>t(e)):t(Jb)}function c_(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(e)}function u_(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(e)}function d_(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(e)}const h_=()=>{const e=Ee(),[t,n]=g.useState(0),[r,i]=g.useState(window.innerWidth<=900),{collections:s,status:a}=Hr(e=>e.home),o="loading"===a||"idle"===a;g.useEffect(()=>{const e=()=>{i(window.innerWidth<=900),n(0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);return o?d.jsxs("section",{className:Fb,children:[d.jsxs("h2",{className:Ub,children:["OUR ",d.jsx("span",{style:{color:"#E6994B"},children:"COLLECTIONS"})]}),d.jsx("div",{className:$b,children:[1,2,3].map((e,t)=>d.jsx("div",{className:`${qb} ${Xb}`},t))})]}):d.jsxs("section",{className:Fb,children:[d.jsxs("h2",{className:Ub,children:["OUR ",d.jsx("span",{style:{color:"#E6994B"},children:"COLLECTIONS"})]}),d.jsxs("div",{className:Bb,children:[!r&&t>0&&d.jsx("button",{className:`${Kb} ${Qb}`,onClick:()=>{t>0&&n(e=>e-1)},"aria-label":"Previous collections",children:d.jsx(c_,{})}),d.jsx("div",{className:$b,style:r?void 0:{transform:`translateX(-${t*(100/s.length)}%)`},children:s.map(t=>d.jsx("div",{className:qb,onClick:()=>{return n=t.id,e(`/shop?id=${n}`),void window.scrollTo(0,0);var n},children:d.jsxs("div",{className:Vb,children:[d.jsx("img",{src:t.image,alt:t.name,className:Hb}),d.jsx("div",{className:Wb}),d.jsx("h3",{className:Gb,children:t.name})]})},t.id))}),!r&&t<s.length-3&&d.jsx("button",{className:`${Kb} ${Yb}`,onClick:()=>{t<s.length-3&&n(e=>e+1)},"aria-label":"Next collections",children:d.jsx(u_,{})})]})]})},f_="_productSection_1ycky_1",p_="_title_1ycky_7",m_="_gridContainer_1ycky_14",g_="_viewMore_1ycky_20",y_="_viewMoreWrapper_1ycky_34",v_="_shimmerCard_1ycky_39",b_="_shimmerImage_1ycky_49",__="_shimmerTitle_1ycky_58",w_="_shimmerPrice_1ycky_67",x_="_container_h093e_1",k_="_navbarContainer_h093e_9",S_="_logo_h093e_33",C_="_navList_h093e_43",E_="_navItem_h093e_53",T_="_navLink_h093e_65";function N_(e){return o_({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5M3.14 5l1.25 5h8.22l1.25-5zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0m9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0"},child:[]}]})(e)}function I_(e){return o_({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"},child:[]}]})(e)}function j_(e){return o_({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(e)}function A_(e){return o_({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"User"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17.438,21.937H6.562a2.5,2.5,0,0,1-2.5-2.5V18.61c0-3.969,3.561-7.2,7.938-7.2s7.938,3.229,7.938,7.2v.827A2.5,2.5,0,0,1,17.438,21.937ZM12,12.412c-3.826,0-6.938,2.78-6.938,6.2v.827a1.5,1.5,0,0,0,1.5,1.5H17.438a1.5,1.5,0,0,0,1.5-1.5V18.61C18.938,15.192,15.826,12.412,12,12.412Z"},child:[]},{tag:"path",attr:{d:"M12,9.911a3.924,3.924,0,1,1,3.923-3.924A3.927,3.927,0,0,1,12,9.911Zm0-6.847a2.924,2.924,0,1,0,2.923,2.923A2.926,2.926,0,0,0,12,3.064Z"},child:[]}]}]}]})(e)}const P_=({size:e=20,color:t="currentColor",filled:n=!1})=>d.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:n?t:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),O_=()=>{const e=Ee(),t=(t,n)=>{t.ctrlKey||t.metaKey||(t.preventDefault(),e(n),window.scrollTo(0,0))};return d.jsx("nav",{className:x_,children:d.jsxs("div",{className:k_,children:[d.jsx(ft,{to:"/",onClick:e=>t(e,"/"),children:d.jsx("img",{className:S_,src:"/images/logo.png",alt:"logo"})}),d.jsxs("ul",{className:C_,children:[d.jsx("li",{className:E_,children:d.jsxs(ft,{to:"/account",className:T_,onClick:e=>t(e,"/account"),children:[d.jsx(A_,{size:20}),d.jsx("span",{children:"Account"})]})}),d.jsx("li",{className:E_,children:d.jsxs(ft,{to:"/favorites",className:T_,onClick:e=>t(e,"/favorites"),children:[d.jsx(P_,{size:20}),d.jsx("span",{children:"Favorites"})]})}),d.jsx("li",{className:E_,children:d.jsxs(ft,{to:"/cart",className:T_,onClick:e=>t(e,"/cart"),children:[d.jsx(N_,{size:20}),d.jsx("span",{children:"Cart"})]})})]})]})})};function D_(e){return o_({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h16v2H4zm4 5h12v2H8zm5 5h7v2h-7z"},child:[]}]})(e)}function L_(e){return o_({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(e)}const R_="_overlay_1e15d_3",M_="_menu_1e15d_41",z_="_menuHeader_1e15d_93",F_="_menuDivider_1e15d_109",U_="_closeButton_1e15d_127",B_="_menuLogo_1e15d_151",$_="_menuList_1e15d_165",q_="_menuLink_1e15d_185",V_=[{name:"Dresses",path:"/shop?id=3",category:""},{name:"Swimwear",path:"/shop?id=1",category:""},{name:"Crop Top",path:"/shop?id=2",category:""},{name:"Shop",path:"/shop",category:""},{name:"About",path:"/about",category:""},{name:"Favorites",path:"/favorites",category:""}],H_=({isOpen:e,toggleMenu:t})=>{const n=Ee();if(!e)return null;return d.jsx("div",{className:R_,onClick:t,children:d.jsxs("div",{className:M_,onClick:e=>e.stopPropagation(),children:[d.jsxs("div",{className:z_,children:[d.jsx(ft,{to:"/",onClick:()=>{t(),window.scrollTo(0,0)},children:d.jsx("img",{className:B_,src:"/images/logo.png",alt:"Origin by the Sea"})}),d.jsx("div",{className:U_,onClick:t,children:d.jsx(L_,{size:24})})]}),d.jsx("hr",{className:F_}),d.jsx("nav",{children:d.jsx("ul",{className:$_,children:V_.map((e,r)=>d.jsx("li",{children:d.jsxs("div",{className:q_,onClick:()=>((e,r)=>{const i=r?`${e}?category=${r}`:e;t(),n(i),window.scrollTo(0,0)})(e.path,e.category),children:[e.name," ",d.jsx("span",{children:""})]})},r))})})]})})},W_="_container_ju8bs_1",G_="_navbarContainer_ju8bs_9",K_="_logoContainer_ju8bs_18",Q_="_logo_ju8bs_18",Y_="_searchContainer_ju8bs_29",X_="_loginIcon_ju8bs_109",J_="_cartIcon_ju8bs_116",Z_="_menuButton_ju8bs_123",ew="_navList_ju8bs_128",tw="_navItem_ju8bs_138",nw="_navLink_ju8bs_142",rw="_favoriteIcon_ju8bs_187",iw=[{name:"Home",path:"/"},{name:"Shop",path:"/shop"},{name:"About",path:"/about"},{name:"Dresses",path:"/shop?id=3"},{name:"Swimwear",path:"/shop?id=1"},{name:"Crop Top",path:"/shop?id=2"}],sw=()=>{const[e,t]=g.useState(!1),n=Ee(),r=Hr(e=>e.favorites.favorites).length,i=Hr(e=>e.cart.cartItems).length,s=()=>t(!e),a=(e,t)=>{e.ctrlKey||e.metaKey||(e.preventDefault(),n(t),window.scrollTo(0,0))},o={position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#e6994b",color:"white",borderRadius:"50%",width:"16px",height:"16px",fontSize:"10px",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold"};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:W_,children:d.jsxs("div",{className:G_,children:[d.jsxs("div",{className:Y_,children:[d.jsx(ft,{to:"/favorites",className:rw,onClick:e=>a(e,"/favorites"),"aria-label":"Favorites",children:d.jsxs("div",{style:{position:"relative"},children:[d.jsx(P_,{size:22,color:"currentColor"}),r>0&&d.jsx("span",{style:o,children:r>99?"99+":r})]})}),d.jsx(ft,{to:"/account",className:X_,onClick:e=>a(e,"/account"),"aria-label":"Account",children:d.jsx(A_,{size:22})}),d.jsx(ft,{to:"/cart",className:J_,onClick:e=>a(e,"/cart"),"aria-label":"Cart",children:d.jsxs("div",{style:{position:"relative"},children:[d.jsx(N_,{size:22}),i>0&&d.jsx("span",{style:o,children:i>99?"99+":i})]})})]}),d.jsx(ft,{to:"/",className:K_,onClick:e=>a(e,"/"),children:d.jsx("img",{className:Q_,src:"/images/logo.png",alt:"Website Logo"})}),d.jsx("div",{className:Z_,onClick:s,children:d.jsx(D_,{size:28})}),d.jsx("ul",{className:ew,children:iw.map((e,t)=>d.jsx("li",{className:tw,children:d.jsx(pt,{to:e.path,end:"/"===e.path,className:nw,onClick:t=>a(t,e.path),children:e.name})},t))})]})}),d.jsx(H_,{isOpen:e,toggleMenu:s})]})},aw={footerContainer:"_footerContainer_1ywtd_1",footer:"_footer_1ywtd_1",footerTitle:"_footerTitle_1ywtd_35",quickLinks:"_quickLinks_1ywtd_69",contactInfo:"_contactInfo_1ywtd_71",quickLink:"_quickLink_1ywtd_69",getInTouch:"_getInTouch_1ywtd_117",inputContainer:"_inputContainer_1ywtd_131",subscribeButton:"_subscribeButton_1ywtd_167",socialIcons:"_socialIcons_1ywtd_215",icon:"_icon_1ywtd_231",footerDivider:"_footerDivider_1ywtd_259",bottomText:"_bottomText_1ywtd_275",company:"_company_1ywtd_289"};function ow(e){return o_({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function lw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function cw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(e)}function uw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function dw(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function hw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function fw(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function pw(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function mw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function gw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function yw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function vw(e){return o_({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function bw(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function _w(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function ww(e){return o_({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function xw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function kw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function Sw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function Cw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ew(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function Tw(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Nw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(e)}function Iw(e){return o_({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function jw(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Aw(e){return o_({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}const Pw=()=>{const e=Ee(),[t,n]=g.useState({}),[r,i]=g.useState({});g.useEffect(()=>{(async()=>{try{const e=em(gb,"settings","footer_section"),t=await eg(e);if(t.exists()){const e=t.data();n(e.contact||{}),i(e.social||{})}else console.warn("No footer content found!")}catch(e){console.error("Error fetching footer content:",e)}})()},[]);const s=(t,n)=>{t.ctrlKey||t.metaKey||(t.preventDefault(),e(n),window.scrollTo(0,0))};return d.jsxs("footer",{className:aw.footerContainer,children:[d.jsxs("div",{className:aw.footer,children:[d.jsxs("div",{className:`${aw.getInTouch} ${aw.footerContent}`,children:[d.jsx("h4",{className:aw.footerTitle,children:"STAY UPDATE"}),d.jsxs("div",{className:aw.inputContainer,children:[d.jsx("input",{type:"email",placeholder:"Email"}),d.jsx("button",{className:aw.subscribeButton,children:"SUBSCRIBE"})]})]}),d.jsxs("div",{className:`${aw.quickLinks} ${aw.footerContent}`,children:[d.jsx("h4",{className:aw.footerTitle,children:"QUICK LINKS"}),d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx(ft,{to:"/privacy-policy",className:aw.quickLink,onClick:e=>s(e,"/privacy-policy"),children:"Privacy Policy"})}),d.jsx("li",{children:d.jsx(ft,{to:"/terms-and-conditions",className:aw.quickLink,onClick:e=>s(e,"/terms-and-conditions"),children:"Terms & Conditions"})}),d.jsx("li",{children:d.jsx(ft,{to:"/faq",className:aw.quickLink,onClick:e=>s(e,"/faq"),children:"FAQ"})})]})]}),d.jsxs("div",{className:`${aw.contactInfo} ${aw.footerContent}`,children:[d.jsx("h4",{className:aw.footerTitle,children:"CONTACT US"}),d.jsx("ul",{children:d.jsx("li",{children:t.email1||"Loading..."})})]}),d.jsxs("div",{className:aw.footerContent,children:[d.jsx("h4",{className:aw.footerTitle,children:"SOCIAL MEDIA LINKS"}),d.jsxs("div",{className:aw.socialIcons,children:[r.facebook&&d.jsx("a",{href:r.facebook,target:"_blank",rel:"noopener noreferrer",children:d.jsx(ow,{size:40,className:aw.icon})}),r.instagram&&d.jsx("a",{href:r.instagram,target:"_blank",rel:"noopener noreferrer",children:d.jsx(lw,{size:40,className:aw.icon})}),r.linkedin&&d.jsx("a",{href:r.linkedin,target:"_blank",rel:"noopener noreferrer",children:d.jsx(cw,{size:40,className:aw.icon})})]})]})]}),d.jsx("hr",{className:aw.footerDivider}),d.jsxs("div",{className:`${aw.bottomText} ${aw.footerContent}`,children:[" ",(new Date).getFullYear()," Origins by the Sea. All rights reserved."]}),d.jsx("div",{className:`${aw.company} ${aw.footerContent}`,children:"Businesses by Infinite Market Solutions"})]})},Ow="_productCard_10blt_1",Dw="_productLink_10blt_21",Lw="_imageContainer_10blt_31",Rw="_productImage_10blt_43",Mw="_productName_10blt_57",zw="_productPrice_10blt_69",Fw={imageWrapper:"_imageWrapper_1g6bu_1",optimizedImage:"_optimizedImage_1g6bu_17",blurredImage:"_blurredImage_1g6bu_49",loadedImage:"_loadedImage_1g6bu_61",shimmer:"_shimmer_1g6bu_103",hiddenAlt:"_hiddenAlt_1g6bu_189"},Uw=({src:e,alt:t,className:n,placeholderSrc:r,width:i,height:s,onLoad:a,onError:o,lazy:l=!0,blur:c=!0,objectFit:u="cover",priority:h=!1,quality:f="medium",...p})=>{const[m,y]=g.useState(!1),[v,b]=g.useState(r||""),[_,w]=g.useState(!1),[x,k]=g.useState(""),S=g.useRef(null),C="/images/placeholder.jpg",{isCached:E,addToCache:T}=wr(),N=async e=>{if(!e)return C;if(e.startsWith("data:")||e.startsWith("blob:")||e.includes("firebasestorage.googleapis.com"))return e;try{return await(async(e,t={})=>{const{quality:n="medium",maxWidth:r=1200,maxHeight:i=1200}=t,s={low:.3,medium:.6,high:.85}[n]||.6;try{return await gr(e,{maxWidth:r,maxHeight:i,quality:s,format:"jpeg"})}catch(a){return console.error("Error optimizing image:",a),e}})(e,{quality:f,maxWidth:i||1200,maxHeight:s||1200})}catch(t){return console.error("Error optimizing image:",t),e}},I=async e=>{if(E(e))return!0;try{return await vr(e)}catch(t){return console.error("Error checking image cache:",t),!1}};g.useEffect(()=>{e&&I(e).then(t=>{t?N(e).then(e=>{b(e),y(!0),a&&a()}):!r&&c&&yr(e,20).then(e=>{e&&b(e)})})},[e,r,c]),g.useEffect(()=>{if(!m&&!h&&l&&"IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(j(),e.disconnect())})},{rootMargin:"200px"});return S.current&&e.observe(S.current),()=>{S.current&&e.disconnect()}}!h&&l||m||j()},[e,h,l,m]);const j=async()=>{if(e&&!_)try{if(e.includes("firebasestorage.googleapis.com")){const t=new Image;return t.crossOrigin="anonymous",t.src=e,t.onload=()=>{b(e),y(!0),T(e),a&&a()},void(t.onerror=t=>{console.error(`Failed to load Firebase image: ${e}`,t),w(!0),b(C),o&&o(t)})}const t=await I(e),n=await N(e);if(k(n),t)return b(n),y(!0),void(a&&a());const r=new Image;r.crossOrigin="anonymous",r.src=n,r.onload=()=>{b(n),y(!0),T(e),a&&a()},r.onerror=e=>{console.error(`Failed to load image: ${n}`,e),w(!0),b(C),o&&o(e)}}catch(t){console.error(`Error in loadImage for ${e}:`,t),w(!0),b(C),o&&o()}},A=[Fw.optimizedImage,n||"",!m&&c?Fw.blurredImage:"",m?Fw.loadedImage:""].filter(Boolean).join(" ");return d.jsxs("div",{className:Fw.imageWrapper,style:{width:i||"100%",height:s||"auto",aspectRatio:!s&&i?"auto":void 0},ref:S,children:[!m&&d.jsx("div",{className:Fw.shimmer}),d.jsx("img",{src:v||C,alt:t||"",className:`${A} ${m?"":Fw.hiddenAlt}`,loading:h?"eager":"lazy",onError:t=>{console.error(`Error displaying image: ${e}`),w(!0),b(C),o&&o(t)},style:{objectFit:u,opacity:m?1:0},...p})]})},Bw=({product:e})=>{const[t,n]=g.useState(!1),[r,i]=g.useState(!1),{addToCache:s,isCached:a}=wr();g.useEffect(()=>{e&&(e.image&&s(e.image),e.hoverImage&&s(e.hoverImage))},[e,s]);const o=t&&!r&&e.hoverImage?e.hoverImage:e.image,l=a(o);return d.jsx("div",{className:Ow,children:d.jsxs(ft,{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},to:`/product?id=${e.id}`,className:Dw,children:[d.jsx("div",{className:Lw,onMouseEnter:()=>n(!0),onMouseLeave:()=>{n(!1),i(!1)},children:d.jsx(Uw,{src:o,placeholderSrc:"/images/placeholder.jpg",alt:e.name,className:Rw,onError:()=>{i(!0)},lazy:!0,blur:!l,quality:"medium",objectFit:"cover"})}),d.jsx("h3",{className:Mw,children:null==e?void 0:e.name}),d.jsx("p",{className:zw,children:null==e?void 0:e.price})]})})},$w=()=>{const e=Ee(),{featuredProducts:t,status:n}=Hr(e=>e.home);return"loading"===n||"idle"===n?d.jsxs("div",{className:f_,children:[d.jsx("h2",{className:p_,children:"Top Picks"}),d.jsx("div",{className:m_,children:[...Array(8)].map((e,t)=>d.jsxs("div",{className:v_,children:[d.jsx("div",{className:b_}),d.jsx("div",{className:__}),d.jsx("div",{className:w_})]},t))})]}):d.jsxs("div",{className:f_,children:[d.jsx("h2",{className:p_,children:"Top Picks"}),d.jsx("div",{className:m_,children:t.map(e=>d.jsx(Bw,{product:e},e.id))}),d.jsx("div",{className:y_,children:d.jsx("button",{onClick:()=>{e("/shop"),window.scrollTo(0,0)},className:g_,children:"View All"})})]})},qw={showcase:"_showcase_qmsj0_1",heading:"_heading_qmsj0_21",gallery:"_gallery_qmsj0_39",card:"_card_qmsj0_55",image:"_image_qmsj0_67"},Vw=()=>{const e=Ee(),[t,n]=g.useState([]),[r,i]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const e=Rm(Zp(gb,"products"),Bm("created_at","desc"),qm(8)),t=(await ng(e)).docs.map(e=>({id:e.id,...e.data(),image:e.data().images&&e.data().images.length>0?e.data().images[0]:"/images/placeholder.jpg",hoverImage:e.data().images&&e.data().images.length>1?e.data().images[1]:e.data().images&&e.data().images.length>0?e.data().images[0]:"/images/placeholder.jpg",price:e.data().price?`AED ${e.data().price}`:"Price not available",name:e.data().name||"Product Name"}));n(t),i(!1)}catch(e){console.error("Error fetching products:",e),i(!1)}})()},[]),r?d.jsxs("div",{className:qw.productSection,children:[d.jsx("h2",{className:qw.title,children:"Top Picks"}),d.jsx("div",{className:qw.gridContainer,children:[...Array(8)].map((e,t)=>d.jsxs("div",{className:qw.shimmerCard,children:[d.jsx("div",{className:qw.shimmerImage}),d.jsx("div",{className:qw.shimmerTitle}),d.jsx("div",{className:qw.shimmerPrice})]},t))})]}):d.jsxs("section",{className:qw.showcase,children:[d.jsx("h2",{className:qw.heading,children:"Timeless Craftsmanship in Motion"}),"      ",d.jsx("div",{className:qw.gallery,children:t.slice(0,5).map(t=>d.jsx("div",{onClick:()=>{e(`/product?id=${t.id}`)},className:qw.card,children:d.jsx("img",{src:t.images[0],alt:"Craftsmanship",className:qw.image})},t.id))})]})},Hw=({title:e="Origin By The Sea | Handcrafted Sustainable Fashion",description:t="Discover elegantly handcrafted swimwear, dresses, and accessories inspired by the sea. Sustainable, ethical fashion designed with passion and purpose.",canonicalUrl:n="https://originsbythesea.com",schema:r=null,ogImage:i="https://originsbythesea.com/images/hero-banner.jpg",keywords:s="origin by the sea, swimwear, handmade dresses, sustainable fashion, ethical clothing, beach wear, crop tops, waterproof jewelry",type:a="website",publishedAt:o,modifiedAt:l,author:c="Origin By The Sea",section:u="",pageType:h="website"})=>{const f={"@context":"https://schema.org","@type":h,name:e,description:t,url:n,image:i};return"Article"===h&&(f.author={"@type":"Organization",name:c},f.publisher={"@type":"Organization",name:"Origin By The Sea",logo:{"@type":"ImageObject",url:"https://originsbythesea.com/images/logo.png"}},o&&(f.datePublished=o),l&&(f.dateModified=l)),d.jsxs(mr,{children:[d.jsx("title",{children:e}),d.jsx("meta",{name:"description",content:t}),d.jsx("meta",{name:"keywords",content:s}),d.jsx("link",{rel:"canonical",href:n}),d.jsx("meta",{property:"og:title",content:e}),d.jsx("meta",{property:"og:description",content:t}),d.jsx("meta",{property:"og:image",content:i}),d.jsx("meta",{property:"og:url",content:n}),d.jsx("meta",{property:"og:type",content:a}),d.jsx("meta",{property:"og:site_name",content:"Origin By The Sea"}),d.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),d.jsx("meta",{name:"twitter:title",content:e}),d.jsx("meta",{name:"twitter:description",content:t}),d.jsx("meta",{name:"twitter:image",content:i}),o&&d.jsx("meta",{property:"article:published_time",content:o}),l&&d.jsx("meta",{property:"article:modified_time",content:l}),u&&d.jsx("meta",{property:"article:section",content:u}),c&&d.jsx("meta",{property:"article:author",content:c}),d.jsx("script",{type:"application/ld+json",children:JSON.stringify(r||f)}),d.jsx("meta",{name:"robots",content:"index, follow"}),d.jsx("meta",{name:"googlebot",content:"index, follow"}),d.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),d.jsx("meta",{name:"theme-color",content:"#e6994b"}),d.jsx("meta",{name:"author",content:"Origin By The Sea"})]})},Ww=()=>{const e=$r(),{error:t,status:n}=Hr(e=>e.home),r={"@context":"https://schema.org","@type":"WebSite",url:"https://originsbythesea.com",name:"Origin By The Sea",description:"Handcrafted sustainable fashion inspired by the ocean",potentialAction:{"@type":"SearchAction",target:"https://originsbythesea.com/shop?search={search_term_string}","query-input":"required name=search_term_string"}};return g.useEffect(()=>{"idle"===n&&e(vb())},[e,n]),t&&console.error("Error loading homepage data:",t),d.jsxs("div",{children:[d.jsx(Hw,{title:"Origin By The Sea | Handcrafted Sustainable Fashion",description:"Discover elegantly handcrafted swimwear, dresses, and accessories inspired by the sea. Sustainable, ethical fashion designed with passion and purpose.",canonicalUrl:"https://originsbythesea.com",schema:r}),d.jsx(zb,{}),d.jsx(h_,{}),d.jsx($w,{}),d.jsx(Vw,{})]})},Gw=async(e,t={})=>{if(!e)return;const n=em(gb,"users",e.uid);if((await eg(n)).exists())console.log("User document already exists");else{const{email:i,displayName:s,photoURL:a,phoneNumber:o}=e,l=lg();try{await function(e,t,n){e=Vp(e,Xp);const r=Vp(e.firestore,im),i=Km(e.converter,t);return ag(r,[vm(ym(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zu.none())])}(n,{uid:e.uid,email:i,displayName:s||t.displayName||"",photoURL:a||"",phoneNumber:o||t.phoneNumber||"",createdAt:l,...t}),console.log("User document created successfully")}catch(r){console.error("Error creating user document",r)}}return n},Kw=async(e,t,n)=>{try{const r=await async function(e,t,n){if(Xa(e.app))return Promise.reject(vg(e));const r=xy(e),i=Ay(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qy),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tv(e),t}),a=await Yy._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(yb,e,t),i=r.user;return await Gw(i,n),{user:i}}catch(r){return{error:r}}},Qw=async(e,t)=>{try{return{user:(await nv(yb,e,t)).user}}catch(n){return{error:n}}},Yw=async()=>{try{const e=new Wy,t=(await Av(yb,e)).user;return await Gw(t),{user:t}}catch(e){return{error:e}}},Xw=async()=>{try{return await(e=yb,Fs(e).signOut()),{success:!0}}catch(t){return{error:t}}var e},Jw="_loadingContainer_198vm_1",Zw="_loading_198vm_1",ex="_authContainer_198vm_25",tx="_authForm_198vm_41",nx="_authTitle_198vm_59",rx="_nameFields_198vm_79",ix="_authFormInputContainer_198vm_89",sx="_authFormInput_198vm_89",ax="_loginBtn_198vm_127",ox="_googleBtn_198vm_169",lx="_registerBtn_198vm_233",cx="_errorMessage_198vm_281";function ux(e){return o_({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"},child:[]},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"},child:[]}]})(e)}const dx=as("products/fetchProducts",async(e,{rejectWithValue:t})=>{try{const e=Zp(gb,"products"),t=await ng(e);console.log("Fetched products from Firebase:",t.docs.length);const n=t.docs.map(e=>{const t=e.data();let n=t.collection_id||null;return null!==n&&"string"!=typeof n&&(n=String(n)),{id:e.id,...t,image:t.images&&t.images.length>0?t.images[0]:"/images/placeholder.jpg",hoverImage:t.images&&t.images.length>1?t.images[1]:t.images&&t.images.length>0?t.images[0]:"/images/placeholder.jpg",price:t.price?`AED ${t.price}`:"Price not available",rawPrice:t.price||0,name:t.name||"Product Name",sizes:t.sizes||["S","M","L"],colors:t.colors||[],collection_id:n,categories:t.categories||[],created_at:t.created_at?t.created_at.toDate?t.created_at.toDate().toISOString():t.created_at instanceof Date?t.created_at.toISOString():t.created_at:(new Date).toISOString()}});return console.log("Processed products data:",n.length),n}catch(n){return console.error("Error fetching products:",n),t(n.message)}}),hx=hs({name:"product",initialState:{products:[],currentPage:1,productsPerPage:8,status:"idle",error:null},reducers:{setPage:(e,t)=>{e.currentPage=t.payload}},extraReducers:e=>{e.addCase(dx.pending,e=>{e.status="loading"}).addCase(dx.fulfilled,(e,t)=>{e.status="succeeded",e.products=t.payload}).addCase(dx.rejected,(e,t)=>{e.status="failed",e.error=t.payload})}}),{setPage:fx}=hx.actions,px=hx.reducer,mx=async e=>{try{const t=Zp(gb,"users",e,"cart"),n=await ng(t);return{cartItems:n.docs.map(e=>({id:e.id,...e.data()}))}}catch(t){throw console.error("Error getting cart items:",t),Kt.error("Failed to load your cart. Please try again."),t}},gx=async(e,t)=>{try{const n=Rm(Zp(gb,"users",e,"cart"),zm("productId","==",t.id),zm("size","==",t.size),zm("color","==",t.color)),r=await ng(n);if(!r.empty){const n=r.docs[0],i=(n.data().quantity||0)+(t.quantity||1);return await rg(em(gb,"users",e,"cart",n.id),{quantity:i,updatedAt:new Date}),{cartItemId:n.id,updated:!0}}const i={productId:t.id,name:t.name,price:t.price,image:t.image,size:t.size,color:t.color,displayColor:t.displayColor,quantity:t.quantity||1,createdAt:new Date,updatedAt:new Date};return{cartItemId:(await sg(Zp(gb,"users",e,"cart"),i)).id}}catch(n){throw console.error("Error adding item to cart:",n),Kt.error("Failed to add item to cart. Please try again."),n}},yx=async(e,t,n,r,i)=>{try{const s=Rm(Zp(gb,"users",e,"cart"),zm("productId","==",t),zm("size","==",n),zm("color","==",r)),a=await ng(s);if(a.empty)return{error:"Cart item not found"};const o=a.docs[0];return await rg(em(gb,"users",e,"cart",o.id),{quantity:i,updatedAt:new Date}),{success:!0}}catch(s){throw console.error("Error updating cart item quantity:",s),Kt.error("Failed to update item quantity. Please try again."),s}},vx=e=>{localStorage.setItem("cartItems",JSON.stringify(e))},bx=as("cart/fetchUserCart",async(e,{rejectWithValue:t})=>{try{const n=await mx(e);if(n.error)return t(n.error);return n.cartItems.map(e=>({id:e.productId,name:e.name,price:e.price,image:e.image,size:e.size,color:e.color,displayColor:e.displayColor,quantity:e.quantity,firebaseId:e.id}))}catch(n){return t(n.message)}}),_x=as("cart/addToFirebaseCart",async({userId:e,item:t},{rejectWithValue:n})=>{try{const r=await gx(e,t);return r.error?n(r.error):t}catch(r){return n(r.message)}}),wx=as("cart/updateFirebaseQuantity",async({userId:e,id:t,size:n,color:r,quantity:i},{rejectWithValue:s})=>{try{const a=await yx(e,t,n,r,i);return a.error?s(a.error):{id:t,size:n,color:r,quantity:i}}catch(a){return s(a.message)}}),xx=as("cart/removeFromFirebaseCart",async({userId:e,id:t,size:n,color:r},{rejectWithValue:i})=>{try{const s=await(async(e,t,n,r)=>{try{const i=Rm(Zp(gb,"users",e,"cart"),zm("productId","==",t),zm("size","==",n),zm("color","==",r)),s=await ng(i);return s.empty?{error:"Cart item not found"}:(await ig(em(gb,"users",e,"cart",s.docs[0].id)),{success:!0})}catch(i){throw console.error("Error removing cart item:",i),Kt.error("Failed to remove item from cart. Please try again."),i}})(e,t,n,r);return s.error?i(s.error):{id:t,size:n,color:r}}catch(s){return i(s.message)}}),kx=as("cart/clearFirebaseCart",async(e,{rejectWithValue:t})=>{try{const n=await(async e=>{try{const t=Zp(gb,"users",e,"cart"),n=(await ng(t)).docs.map(e=>ig(e.ref));return await Promise.all(n),{success:!0}}catch(t){throw console.error("Error clearing cart:",t),Kt.error("Failed to clear your cart. Please try again."),t}})(e);return!n.error||t(n.error)}catch(n){return t(n.message)}}),Sx=as("cart/syncCart",async({userId:e,localCartItems:t},{rejectWithValue:n})=>{try{const r=await(async(e,t)=>{try{const{cartItems:n,error:r}=await mx(e);if(r)throw new Error(r);for(const i of t){const t=n.find(e=>e.productId===i.id&&e.size===i.size&&e.color===i.color);t?await yx(e,i.id,i.size,i.color,t.quantity+i.quantity):await gx(e,i)}return{success:!0}}catch(n){throw console.error("Error syncing cart with Firebase:",n),Kt.error("Failed to sync your cart. Please try again."),n}})(e,t);if(r.error)return n(r.error);const i=await mx(e);if(i.error)return n(i.error);return i.cartItems.map(e=>({id:e.productId,name:e.name,price:e.price,image:e.image,size:e.size,color:e.color,displayColor:e.displayColor,quantity:e.quantity,firebaseId:e.id}))}catch(r){return n(r.message)}}),Cx=hs({name:"cart",initialState:{cartItems:(()=>{try{const e=localStorage.getItem("cartItems");return e?JSON.parse(e):[]}catch(e){return console.error("Error loading cart from localStorage:",e),[]}})(),loading:!1,error:null,isFirebaseCart:!1,selectedCartItems:[]},reducers:{addToCart:(e,t)=>{const{id:n,size:r,color:i}=t.payload,s=e.cartItems.find(e=>e.id===n&&e.size===r&&e.color===i);s?s.quantity+=t.payload.quantity:e.cartItems.push(t.payload),e.isFirebaseCart||vx(e.cartItems)},removeFromCart:(e,t)=>{const{id:n,size:r,color:i}=t.payload;e.cartItems=e.cartItems.filter(e=>!(e.id===n&&e.size===r&&e.color===i)),e.isFirebaseCart||vx(e.cartItems)},updateQuantity:(e,t)=>{const{id:n,size:r,color:i,quantity:s}=t.payload,a=e.cartItems.find(e=>e.id===n&&e.size===r&&e.color===i);a&&(a.quantity=s),e.isFirebaseCart||vx(e.cartItems)},clearCart:e=>{e.cartItems=[],e.isFirebaseCart||localStorage.removeItem("cartItems")},setFirebaseCartStatus:(e,t)=>{e.isFirebaseCart=t.payload},addToSelectedCart:(e,t)=>{e.selectedCartItems.push(t.payload)},removeFromSelectedCart:(e,t)=>{const{id:n,size:r,color:i}=t.payload;e.selectedCartItems=e.selectedCartItems.filter(e=>!(e.id===n&&e.size===r&&e.color===i))},updateSelectedQuantity:(e,t)=>{const{id:n,size:r,color:i,quantity:s}=t.payload,a=e.selectedCartItems.find(e=>e.id===n&&e.size===r&&e.color===i);a&&(a.quantity=s);const o=e.cartItems.find(e=>e.id===n&&e.size===r&&e.color===i);o&&(o.quantity=s,e.isFirebaseCart||vx(e.cartItems))},clearSelectedCart:e=>{e.selectedCartItems=[]}},extraReducers:e=>{e.addCase(bx.pending,e=>{e.loading=!0,e.error=null}).addCase(bx.fulfilled,(e,t)=>{e.loading=!1,e.cartItems=t.payload,e.isFirebaseCart=!0,localStorage.removeItem("cartItems")}).addCase(bx.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(_x.pending,e=>{e.loading=!0,e.error=null}).addCase(_x.fulfilled,e=>{e.loading=!1}).addCase(_x.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(wx.pending,e=>{e.loading=!0,e.error=null}).addCase(wx.fulfilled,e=>{e.loading=!1}).addCase(wx.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(xx.pending,e=>{e.loading=!0,e.error=null}).addCase(xx.fulfilled,e=>{e.loading=!1}).addCase(xx.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(kx.pending,e=>{e.loading=!0,e.error=null}).addCase(kx.fulfilled,e=>{e.loading=!1,e.cartItems=[]}).addCase(kx.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Sx.pending,e=>{e.loading=!0,e.error=null}).addCase(Sx.fulfilled,(e,t)=>{e.loading=!1,e.cartItems=t.payload,e.isFirebaseCart=!0,localStorage.removeItem("cartItems")}).addCase(Sx.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{addToCart:Ex,removeFromCart:Tx,updateQuantity:Nx,clearCart:Ix,setFirebaseCartStatus:jx,addToSelectedCart:Ax,removeFromSelectedCart:Px,updateSelectedQuantity:Ox,clearSelectedCart:Dx}=Cx.actions,Lx=Cx.reducer,Rx=async(e,t)=>{try{const n=Rm(Zp(gb,"users",e,"favorites"),zm("productId","==",t.id)),r=await ng(n);if(!r.empty)return{favoriteId:r.docs[0].id,exists:!0};const i={productId:t.id,name:t.name,price:t.price,image:t.image||t.images&&t.images[0]||"",createdAt:new Date};return{favoriteId:(await sg(Zp(gb,"users",e,"favorites"),i)).id}}catch(n){return console.error("Error adding to favorites:",n),{error:n.message||"Failed to add to favorites"}}},Mx=async e=>{try{const t=Zp(gb,"users",e,"favorites"),n=await ng(t);return{favorites:n.docs.map(e=>({id:e.id,...e.data()}))}}catch(t){return console.error("Error getting favorites:",t),{error:t.message||"Failed to get favorites"}}},zx=e=>{localStorage.setItem("favorites",JSON.stringify(e))},Fx=as("favorites/fetchUserFavorites",async(e,{rejectWithValue:t})=>{try{const n=await Mx(e);return n.error?t(n.error):n.favorites}catch(n){return t(n.message)}}),Ux=as("favorites/addProductToFavorites",async({userId:e,product:t},{rejectWithValue:n})=>{try{const r=await Rx(e,t);return r.error?n(r.error):{...t,favoriteId:r.favoriteId}}catch(r){return n(r.message)}}),Bx=as("favorites/removeProductFromFavorites",async({userId:e,productId:t},{rejectWithValue:n})=>{try{const r=await(async(e,t)=>{try{const n=Rm(Zp(gb,"users",e,"favorites"),zm("productId","==",t)),r=await ng(n);return r.empty?{error:"Favorite not found"}:(await ig(em(gb,"users",e,"favorites",r.docs[0].id)),{success:!0})}catch(n){return console.error("Error removing from favorites:",n),{error:n.message||"Failed to remove from favorites"}}})(e,t);return r.error?n(r.error):t}catch(r){return n(r.message)}}),$x=as("favorites/syncFavorites",async({userId:e,localFavorites:t},{rejectWithValue:n})=>{try{const r=await(async(e,t)=>{try{const{favorites:n,error:r}=await Mx(e);if(r)throw new Error(r);for(const i of t)n.find(e=>e.productId===i.id)||await Rx(e,i);return{success:!0}}catch(n){throw console.error("Error syncing favorites with Firebase:",n),Kt.error("Failed to sync your favorites. Please try again."),n}})(e,t);if(r.error)return n(r.error);const i=await Mx(e);return i.error?n(i.error):i.favorites}catch(r){return n(r.message)}}),qx=hs({name:"favorites",initialState:{favorites:(()=>{try{const e=localStorage.getItem("favorites");return e?JSON.parse(e):[]}catch(e){return console.error("Error loading favorites from localStorage:",e),[]}})(),loading:!1,error:null,isFirebaseFavorites:!1},reducers:{addFavorite:(e,t)=>{-1===e.favorites.findIndex(e=>e.id===t.payload.id)&&(e.favorites.push(t.payload),e.isFirebaseFavorites||zx(e.favorites))},removeFavorite:(e,t)=>{e.favorites=e.favorites.filter(e=>e.id!==t.payload),e.isFirebaseFavorites||zx(e.favorites)},clearFavorites:e=>{e.favorites=[],e.isFirebaseFavorites||localStorage.removeItem("favorites")},setFirebaseFavoritesStatus:(e,t)=>{e.isFirebaseFavorites=t.payload}},extraReducers:e=>{e.addCase(Fx.pending,e=>{e.loading=!0,e.error=null}).addCase(Fx.fulfilled,(e,t)=>{e.loading=!1,e.favorites=t.payload,e.isFirebaseFavorites=!0,localStorage.removeItem("favorites")}).addCase(Fx.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Ux.pending,e=>{e.loading=!0,e.error=null}).addCase(Ux.fulfilled,(e,t)=>{e.loading=!1;-1===e.favorites.findIndex(e=>e.id===t.payload.id)&&e.favorites.push(t.payload)}).addCase(Ux.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Bx.pending,e=>{e.loading=!0,e.error=null}).addCase(Bx.fulfilled,(e,t)=>{e.loading=!1,e.favorites=e.favorites.filter(e=>e.productId!==t.payload)}).addCase(Bx.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase($x.pending,e=>{e.loading=!0,e.error=null}).addCase($x.fulfilled,(e,t)=>{e.loading=!1,e.favorites=t.payload,e.isFirebaseFavorites=!0,localStorage.removeItem("favorites")}).addCase($x.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{addFavorite:Vx,removeFavorite:Hx,clearFavorites:Wx,setFirebaseFavoritesStatus:Gx}=qx.actions,Kx=qx.reducer,Qx=hs({name:"guest",initialState:{isGuestCheckout:!1},reducers:{setGuestCheckout:(e,t)=>{e.isGuestCheckout=t.payload},resetGuestCheckout:e=>{e.isGuestCheckout=!1}}}),{setGuestCheckout:Yx,resetGuestCheckout:Xx}=Qx.actions,Jx=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let s=new Ki;return t&&("boolean"==typeof t?s.push(Vi):s.push(Hi(t.extraArgument))),s},{reducer:n,middleware:r,devTools:i=!0,preloadedState:s,enhancers:a}=e||{};let o,l;if("function"==typeof n)o=n;else{if(!Yr(n))throw new Error(ps(1));o=Jr(n)}l="function"==typeof r?r(t):t();let c=Zr;i&&(c=Wi({trace:!1,..."object"==typeof i&&i}));const u=function(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Wr(15))};const a={getState:i.getState,dispatch:(e,...t)=>s(e,...t)},o=e.map(e=>e(a));return s=Zr(...o)(i.dispatch),{...i,dispatch:s}}}(...l),d=Ji(u);return Xr(o,s,c(..."function"==typeof a?a(d):d()))}({reducer:{product:px,cart:Lx,favorites:Kx,hero:Pb,home:bb,guest:Qx.reducer}}),Zx=()=>{try{Jx.dispatch(jx(!1)),Jx.dispatch(Gx(!1))}catch(e){console.error("Error handling user data on logout:",e)}},ek=g.createContext(),tk=()=>g.useContext(ek);function nk({children:e}){const[t,n]=g.useState(null),[r,i]=g.useState(null),[s,a]=g.useState(!0),[o,l]=g.useState(null);g.useEffect(()=>{const e=(r=async e=>{const r=t;if(n(e),!r&&e&&(async e=>{try{if(!e)return;const t=Jx.getState(),{cartItems:n}=t.cart,{favorites:r}=t.favorites;n.length>0?await Jx.dispatch(Sx({userId:e,localCartItems:n})):await Jx.dispatch(bx(e)),r.length>0?await Jx.dispatch($x({userId:e,localFavorites:r})):await Jx.dispatch(Fx(e))}catch(s){console.error("Error syncing user data on login:",s)}})(e.uid),r&&!e&&Zx(),a(!1),e)try{const t=function(e,...t){var n,r,i;e=Fs(e);let s={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[a]||rm(t[a])||(s=t[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(rm(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,c,u;if(e instanceof Xp)c=Vp(e.firestore,im),u=Qc(e._key.path),l={next:n=>{t[a]&&t[a](og(c,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Vp(e,Yp);c=Vp(n.firestore,im),u=n._query;const r=new tg(c);l={next:e=>{t[a]&&t[a](new Jm(c,r,n,e))},error:t[a+1],complete:t[a+2]},Om(e._query)}return function(e,t,n,r){const i=new Ap(r),s=new Jf(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Hf(await Mp(e),s)),()=>{i.su(),e.asyncQueue.enqueueAndForget(async()=>Wf(await Mp(e),s))}}(sm(c),u,o,l)}(em(gb,"users",e.uid),e=>{e.exists()?i(e.data()):i(null)},e=>{console.error("Error fetching user data:",e),l(e)});return()=>t()}catch(s){console.error("Error setting up user data listener:",s),l(s)}else i(null)},Fs(yb).onAuthStateChanged(r,s,o));var r,s,o;return()=>e()},[t]);const c={currentUser:t,userData:r,loading:s,authError:o,isAuthenticated:!!t,logout:async()=>{try{Zx(),await Xw()}catch(e){throw console.error("Error during logout:",e),e}}};return d.jsx(ek.Provider,{value:c,children:e})}const rk=()=>{const e=Ee(),[t,n]=g.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phoneNumber:""}),[r,i]=g.useState(""),[s,a]=g.useState(!1),o=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))};return d.jsxs("section",{className:ex,children:[d.jsx("div",{children:d.jsxs("form",{className:tx,onSubmit:async n=>{if(n.preventDefault(),t.password===t.confirmPassword)if(t.password.length<6)i("Password must be at least 6 characters");else try{a(!0),i("");const{user:n,error:r}=await Kw(t.email,t.password,{displayName:`${t.firstName} ${t.lastName}`,firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber,createdMethod:"email"});r?i(r.message||"Failed to create account"):n&&e("/")}catch(r){i("An error occurred during signup"),console.error(r)}finally{a(!1)}else i("Passwords do not match")},children:[d.jsx("h1",{className:nx,children:"Create Account"}),r&&d.jsx("div",{className:cx,children:r}),d.jsxs("div",{className:rx,children:[d.jsxs("div",{className:ix,children:[d.jsx("label",{htmlFor:"firstName",children:"First Name"}),d.jsx("input",{type:"text",id:"firstName",name:"firstName",placeholder:"First Name",className:sx,value:t.firstName,onChange:o,required:!0})]}),d.jsxs("div",{className:ix,children:[d.jsx("label",{htmlFor:"lastName",children:"Last Name"}),d.jsx("input",{type:"text",id:"lastName",name:"lastName",placeholder:"Last Name",className:sx,value:t.lastName,onChange:o,required:!0})]})]}),d.jsxs("div",{className:ix,children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Email",className:sx,value:t.email,onChange:o,required:!0})]}),d.jsxs("div",{className:ix,children:[d.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number (Optional)"}),d.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",placeholder:"Phone Number",className:sx,value:t.phoneNumber,onChange:o})]}),d.jsxs("div",{className:ix,children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Password",className:sx,value:t.password,onChange:o,required:!0,minLength:6})]}),d.jsxs("div",{className:ix,children:[d.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),d.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm Password",className:sx,value:t.confirmPassword,onChange:o,required:!0})]}),d.jsx("button",{type:"submit",className:ax,disabled:s,children:s?"Creating Account...":"Create Account"}),d.jsxs("button",{type:"button",onClick:async()=>{try{a(!0),i("");const{user:t,error:n}=await Yw();n?i(n.message||"Failed to sign in with Google"):t&&e("/")}catch(t){i("An error occurred during Google sign in"),console.error(t)}finally{a(!1)}},className:ox,disabled:s,children:[d.jsx(ux,{size:20}),d.jsx("span",{children:"Sign up with Google"})]})]})}),d.jsx("button",{onClick:()=>e("/login"),className:lx,disabled:s,children:"already have an account?"})]})},ik=()=>{const e=Ee(),t=tk()||{},{isAuthenticated:n=!1,loading:r=!1}=t;return g.useEffect(()=>{!r&&n&&e("/")},[n,r,e]),r?d.jsx("div",{className:Jw,children:d.jsx("div",{className:Zw,children:"Loading..."})}):d.jsxs("div",{children:[d.jsx(O_,{}),d.jsx(rk,{})]})},sk="_authForm_1l1ad_1",ak="_authTiltle_1l1ad_19",ok="_authFormInputContainer_1l1ad_39",lk="_authFormInput_1l1ad_39",ck="_forgotPassword_1l1ad_75",uk="_loginBtn_1l1ad_97",dk="_googleBtn_1l1ad_139",hk="_guestBtn_1l1ad_187",fk="_registerBtn_1l1ad_245",pk="_errorMessage_1l1ad_293",mk="_authContainer_1l1ad_311",gk="_divider_1l1ad_327",yk=()=>{const e=Ee(),t=$r(),[n,r]=g.useState({email:"",password:""}),[i,s]=g.useState(""),[a,o]=g.useState(!1),l=e=>{const{name:t,value:i}=e.target;r({...n,[t]:i})};return d.jsxs("section",{className:mk,children:[d.jsx("div",{children:d.jsxs("form",{className:sk,onSubmit:async t=>{t.preventDefault(),o(!0),s("");try{const{user:t,error:r}=await Qw(n.email,n.password);r?s(r.message):t&&e("/")}catch(r){s("Failed to sign in. Please check your credentials and try again."),console.error(r)}finally{o(!1)}},children:[d.jsx("h1",{className:ak,children:"Login"}),i&&d.jsx("div",{className:pk,children:i}),d.jsxs("div",{className:ok,children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{type:"email",name:"email",placeholder:"Email",className:lk,value:n.email,onChange:l,required:!0})]}),d.jsxs("div",{className:ok,children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsx("input",{type:"password",name:"password",placeholder:"Password",className:lk,value:n.password,onChange:l,required:!0}),d.jsx(ft,{to:"/forgot-password",className:ck,children:"forgot password?"})]}),d.jsx("button",{type:"submit",className:uk,disabled:a,children:a?"Signing in...":"Sign in"}),d.jsxs("button",{type:"button",onClick:async t=>{t.preventDefault(),o(!0),s("");try{const{user:t,error:n}=await Yw();n?s(n.message):t&&e("/")}catch(n){s("Failed to sign in with Google. Please try again."),console.error(n)}finally{o(!1)}},className:dk,disabled:a,children:[d.jsx(ux,{size:20}),d.jsx("span",{children:"Sign in with Google"})]}),d.jsx("div",{className:gk,children:d.jsx("span",{children:"OR"})}),d.jsx("button",{type:"button",onClick:()=>{localStorage.setItem("isGuestUser","true"),t(Yx(!0)),e("/")},className:hk,disabled:a,children:"Continue as Guest"})]})}),d.jsx("button",{onClick:()=>e("/signup"),className:fk,disabled:a,children:"create account"})]})},vk="_loadingContainer_18kzu_1",bk="_loading_18kzu_1",_k=()=>{const e=Ee(),t=tk()||{},{isAuthenticated:n=!1,loading:r=!1}=t;return g.useEffect(()=>{!r&&n&&e("/")},[n,r,e]),r?d.jsx("div",{className:vk,children:d.jsx("div",{className:bk,children:"Loading..."})}):d.jsxs("div",{children:[d.jsx(O_,{}),d.jsx(yk,{})]})},wk="_aboutContainer_1l98c_1",xk="_errorContainer_1l98c_11",kk="_heroSection_1l98c_87",Sk="_overlay_1l98c_109",Ck="_heroContent_1l98c_129",Ek="_tagline_1l98c_189",Tk="_storySection_1l98c_203",Nk="_storyContainer_1l98c_213",Ik="_sectionTitle_1l98c_223",jk="_storyContent_1l98c_259",Ak="_storyText_1l98c_271",Pk="_storyImage_1l98c_303",Ok="_valuesSection_1l98c_347",Dk="_valuesContainer_1l98c_357",Lk="_valuesGrid_1l98c_367",Rk="_valueCard_1l98c_381",Mk="_iconContainer_1l98c_415",zk="_craftSection_1l98c_465",Fk="_craftContainer_1l98c_475",Uk="_craftText_1l98c_491",Bk="_shopButton_1l98c_513",$k="_craftImageContainer_1l98c_545",qk="_craftGallery_1l98c_567",Vk="_teamSection_1l98c_589",Hk="_teamContainer_1l98c_599",Wk="_teamIntro_1l98c_609",Gk="_commitment_1l98c_627",Kk="_signature_1l98c_673";function Qk(e){return o_({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function Yk(e){return o_({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(e)}function Xk(e){return o_({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3c-4.8 0-9 3.86-9 9 0 2.12.74 4.07 1.97 5.61L3 19.59 4.41 21l1.97-1.97A9.012 9.012 0 0 0 12 21c2.3 0 4.61-.88 6.36-2.64A8.95 8.95 0 0 0 21 12V3h-9zm7 9c0 1.87-.73 3.63-2.05 4.95A6.96 6.96 0 0 1 12 19c-3.86 0-7-3.14-7-7 0-1.9.74-3.68 2.1-4.99A6.94 6.94 0 0 1 12 5h7v7z"},child:[]},{tag:"path",attr:{d:"m8.46 12.63 4.05.4-2.44 3.33c-.11.16-.1.38.04.52.15.15.4.16.56.01l5.16-4.63c.33-.3.15-.85-.3-.89l-4.05-.4 2.44-3.33c.11-.16.1-.38-.04-.52a.405.405 0 0 0-.56-.01l-5.16 4.63c-.32.3-.14.85.3.89z"},child:[]}]})(e)}function Jk(e){return o_({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.22 19.85c-.18.18-.5.21-.71 0a.504.504 0 0 1 0-.71l3.39-3.39-1.41-1.41-3.39 3.39c-.19.2-.51.19-.71 0a.504.504 0 0 1 0-.71l3.39-3.39-1.41-1.41-3.39 3.39c-.18.18-.5.21-.71 0a.513.513 0 0 1 0-.71l3.39-3.39-1.42-1.41-3.39 3.39c-.18.18-.5.21-.71 0a.513.513 0 0 1 0-.71L9.52 8.4l1.87 1.86c.95.95 2.59.94 3.54 0 .98-.98.98-2.56 0-3.54l-1.86-1.86.28-.28c.78-.78 2.05-.78 2.83 0l4.24 4.24c.78.78.78 2.05 0 2.83l-8.2 8.2zm9.61-6.78a4.008 4.008 0 0 0 0-5.66l-4.24-4.24a4.008 4.008 0 0 0-5.66 0l-.28.28-.28-.28a4.008 4.008 0 0 0-5.66 0L2.17 6.71a3.992 3.992 0 0 0-.4 5.19l1.45-1.45a2 2 0 0 1 .37-2.33l3.54-3.54c.78-.78 2.05-.78 2.83 0l3.56 3.56c.18.18.21.5 0 .71-.21.21-.53.18-.71 0L9.52 5.57l-5.8 5.79c-.98.97-.98 2.56 0 3.54.39.39.89.63 1.42.7a2.458 2.458 0 0 0 2.12 2.12 2.458 2.458 0 0 0 2.12 2.12c.07.54.31 1.03.7 1.42.47.47 1.1.73 1.77.73.67 0 1.3-.26 1.77-.73l8.21-8.19z"},child:[]}]})(e)}function Zk(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M56.813 18.438c-.47-.005-.938.014-1.407.03-.625.023-1.252.066-1.875.126-7.468.72-14.682 4.148-22.31 11.125-9.985 9.128-12.863 17.66-11.407 27.718 1.455 10.056 8.353 22.236 21.125 34.906 2.895 2.872 6.126 5.737 9.593 8.625 1.27 1.055 2.565 2.13 3.907 3.186 1.122.882 2.266 1.775 3.438 2.656.232.175.454.358.688.532C74.71 119.38 95.558 131.28 120.25 142.22c159.723 161.31 288.815 297.553 374.594 352.124-51.11-85.624-187.432-214.62-350-375.531-10.23-23.802-21.115-43.71-32.094-59.282 35.46-10.19 82.517-2.294 125.75 40.94 40.243 40.242 52.642 90.776 41.375 128.343 4.89 4.914 9.883 9.913 14.688 14.75 19.07-46.1 4.573-108.895-42.844-156.313-35.694-35.693-75.48-50.324-111.032-50.22-1.147.005-2.3.03-3.438.064-21.844.65-41.957 6.898-58.344 17.187-2.884 1.812-5.663 3.757-8.312 5.814 1.33 3.094 2.758 5.884 4.406 8.218 1.92 2.72 4.004 4.936 6.906 6.688 2.202-1.717 4.498-3.375 6.938-4.906 1.063-.668 2.145-1.34 3.25-1.97 8.196 10.088 15.465 24.624 25.47 47.25-23.907-10.568-38.822-18.04-49.033-27 .024-.03.04-.063.064-.093-.433-.33-.867-.655-1.28-1-.013-.008-.022-.02-.033-.03-11.215-10.375-16.532-22.934-22.31-44.5 5.988 1.605 11.256 3.19 16 4.844 8.53-6.46 17.51-11.71 26.81-15.875-9.5-7.738-18.552-11.93-26.686-12.97-1.443-.185-2.87-.3-4.282-.313zM493.28 64.374c-77.985 0-125.587 28.886-146.124 69.406-20.536 40.52-13.994 90.39 9.688 131.407 11.385 19.72 17.807 40.687 19.187 61.22 6.27 6.475 12.425 12.867 18.47 19.187 2.31-29.955-5.072-61.35-21.47-89.75-21.13-36.602-26.155-80.112-9.186-113.594 16.97-33.481 55.94-59.188 129.437-59.188V64.376zM37.907 114.938c-2.894 23.925 6.18 50.21 29.532 73.562l13.218-13.188c-15.97-15.97-23.188-31.833-24.437-46.593-6.646-4.51-12.754-9.102-18.314-13.782zM124.062 277c-24.466-.028-45.04 4.92-61.343 13.656-24.842 13.31-39.363 35.865-40.75 60.47-2.78 49.207 44.38 102.65 140.405 118.28 101.63 16.544 170.303-9.184 205.406-54.062 1.01-1.29 1.988-2.59 2.94-3.906-4.552-4.232-9.148-8.52-13.783-12.875-1.233 1.79-2.52 3.55-3.875 5.28-29.97 38.315-90.355 62.97-187.687 47.126-90.394-14.715-126.796-62.527-124.75-98.783 1.023-18.127 10.982-34.37 30.938-45.062 19.955-10.692 50.267-15.364 90.5-7.47 34.077 6.69 62.938 3.47 85.437-6.936-4.72-4.65-9.49-9.33-14.28-14.064-17.545 6.452-39.89 8.088-67.564 2.656-14.895-2.923-28.778-4.297-41.594-4.312z"},child:[]}]})(e)}const eS=({lines:e=1,width:t="100%"})=>d.jsx(d.Fragment,{children:[...Array(e)].map((e,n)=>d.jsx("div",{className:"shimmer-text",style:{width:"object"==typeof t?t[n]||"100%":t,marginBottom:"8px"}},n))}),tS=({height:e="300px",width:t="100%",className:n=""})=>d.jsx("div",{className:`shimmer-image ${n}`,style:{height:e,width:t}}),nS=({height:e="250px",width:t="100%"})=>d.jsxs("div",{className:"shimmer-card",style:{height:e,width:t},children:[d.jsx("div",{className:"shimmer-card-icon"}),d.jsx("div",{className:"shimmer-card-title"}),d.jsx(eS,{lines:3})]}),rS=({type:e="default"})=>{switch(e){case"hero":return d.jsxs("div",{className:"shimmer-hero-section",children:[d.jsx(eS,{width:"60%",height:"40px"}),d.jsx(eS,{width:"80%",height:"24px"})]});case"story":return d.jsxs("div",{className:"shimmer-story-section",children:[d.jsx(eS,{width:"40%",height:"32px"}),d.jsxs("div",{className:"shimmer-story-content",children:[d.jsx("div",{className:"shimmer-story-text",children:d.jsx(eS,{lines:4})}),d.jsx(tS,{height:"400px",width:"100%"})]})]});case"values":return d.jsxs("div",{className:"shimmer-values-section",children:[d.jsx(eS,{width:"30%",height:"32px"}),d.jsxs("div",{className:"shimmer-values-grid",children:[d.jsx(nS,{}),d.jsx(nS,{}),d.jsx(nS,{})]})]});case"craftsmanship":return d.jsxs("div",{className:"shimmer-craftsmanship-section",children:[d.jsxs("div",{className:"shimmer-craft-content",children:[d.jsx(eS,{width:"40%",height:"32px"}),d.jsx(eS,{lines:3}),d.jsx(eS,{width:"25%",height:"40px"})]}),d.jsxs("div",{className:"shimmer-craft-gallery",children:[d.jsxs("div",{className:"shimmer-gallery-row",children:[d.jsx(tS,{height:"200px",width:"48%"}),d.jsx(tS,{height:"200px",width:"48%"})]}),d.jsxs("div",{className:"shimmer-gallery-row",children:[d.jsx(tS,{height:"200px",width:"48%"}),d.jsx(tS,{height:"200px",width:"48%"})]})]})]});case"team":return d.jsxs("div",{className:"shimmer-team-section",children:[d.jsx(eS,{width:"50%",height:"32px"}),d.jsx(eS,{lines:2,width:"90%"}),d.jsxs("div",{className:"shimmer-commitment",children:[d.jsx(eS,{width:"40%",height:"24px"}),d.jsx(eS,{lines:3}),d.jsx("div",{className:"shimmer-signature",children:d.jsx(eS,{width:"20%",height:"20px"})})]})]});default:return d.jsxs("div",{className:"shimmer-default-section",children:[d.jsx(eS,{width:"40%",height:"32px"}),d.jsx(eS,{lines:3})]})}},iS=()=>{var e;const[t,n]=g.useState(null),[r,i]=g.useState(!0),[s,a]=g.useState(null);if(g.useEffect(()=>{window.scrollTo(0,0);(async()=>{try{const e=await(async()=>{try{const e=em(gb,"AboutUs","content"),t=await eg(e);if(t.exists()){const e=t.data();return console.log("Fetched about content data:",e),e}return console.log("No about content found"),null}catch(s){throw console.error("Error fetching about content:",s),new Error(`Failed to fetch about content: ${s.message}`)}})();if(console.log("Fetched about content:",e),!e)throw new Error("No content received from Firebase");n(e)}catch(e){console.error("Failed to fetch about content:",e),a("Failed to load content. Please try again later.")}finally{i(!1)}})()},[]),s)return d.jsxs("div",{className:xk,children:[d.jsx("h2",{children:"Oops!"}),d.jsx("p",{children:s}),d.jsx("button",{onClick:()=>window.location.reload(),children:"Try Again"})]});const o={title:(null==t?void 0:t.heroTitle)?`${t.heroTitle} | Origin By The Sea`:"About Us | Origin By The Sea",description:(null==t?void 0:t.heroSubtitle)||"Learn about our passion for sustainable fashion, our commitment to craftsmanship, and our journey to create beautiful, ethical clothing.",ogImage:(null==t?void 0:t.heroBackgroundImage)||"https://originsbythesea.com/images/hero-banner.jpg",canonicalUrl:"https://originsbythesea.com/about",keywords:"sustainable fashion, ethical clothing, handcrafted fashion, about origin by the sea, fashion craftsmanship, eco-friendly fashion",type:"website",pageType:"AboutPage",schema:{"@context":"https://schema.org","@type":"AboutPage",name:(null==t?void 0:t.heroTitle)||"About Origin By The Sea",description:(null==t?void 0:t.heroSubtitle)||"Learn about our sustainable fashion journey",publisher:{"@type":"Organization",name:"Origin By The Sea",logo:{"@type":"ImageObject",url:"https://originsbythesea.com/images/logo.png"}},image:(null==t?void 0:t.heroBackgroundImage)||"https://originsbythesea.com/images/hero-banner.jpg",url:"https://originsbythesea.com/about",mainEntityOfPage:{"@type":"WebPage","@id":"https://originsbythesea.com/about"}}};return d.jsxs("div",{className:wk,children:[d.jsx(Hw,{...o}),d.jsx("section",{className:kk,style:(null==t?void 0:t.heroBackgroundImage)?{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${t.heroBackgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{},children:d.jsx("div",{className:Sk,children:d.jsx("div",{className:Ck,children:r?d.jsx(rS,{type:"hero"}):d.jsxs(d.Fragment,{children:[(null==t?void 0:t.heroTitle)&&d.jsx("h1",{children:t.heroTitle}),(null==t?void 0:t.heroSubtitle)&&d.jsx("p",{className:Ek,children:t.heroSubtitle})]})})})}),d.jsx("section",{className:Tk,children:d.jsx("div",{className:Nk,children:r?d.jsx(rS,{type:"story"}):d.jsxs(d.Fragment,{children:[(null==t?void 0:t.storyTitle)&&d.jsx("h2",{className:Ik,children:t.storyTitle}),d.jsxs("div",{className:jk,children:[(null==t?void 0:t.story)&&d.jsx("div",{className:Ak,children:d.jsx("div",{dangerouslySetInnerHTML:{__html:t.story}})}),(null==t?void 0:t.storyImage)&&d.jsx("div",{className:Pk,children:d.jsx("img",{src:t.storyImage,alt:"Our Story",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",maxHeight:"500px"},onError:e=>{console.error("Error loading story image:",t.storyImage),e.target.src="/images/brand-intro.png"}})})]})]})})}),d.jsx("section",{className:Ok,children:d.jsx("div",{className:Dk,children:r?d.jsx(rS,{type:"values"}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:Ik,children:"Our Values"}),d.jsx("div",{className:Lk,children:null==(e=null==t?void 0:t.values)?void 0:e.map((e,t)=>{var n,r;let i=Zk;return(null==(n=e.title)?void 0:n.toLowerCase().includes("sustainability"))?i=Xk:(null==(r=e.title)?void 0:r.toLowerCase().includes("community"))&&(i=Jk),d.jsxs("div",{className:Rk,children:[d.jsx("div",{className:Mk,children:d.jsx(i,{size:40})}),d.jsx("h3",{children:e.title}),d.jsx("p",{children:e.description})]},t)})})]})})}),d.jsx("section",{className:zk,children:d.jsx("div",{className:Fk,children:r?d.jsx(rS,{type:"craftsmanship"}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:Uk,children:[(null==t?void 0:t.craftsmanshipTitle)&&d.jsx("h2",{className:Ik,children:t.craftsmanshipTitle}),(null==t?void 0:t.craftsmanship)&&d.jsx("div",{dangerouslySetInnerHTML:{__html:t.craftsmanship}}),d.jsx("button",{className:Bk,onClick:()=>window.location.href="/shop",children:"View all Collections"})]}),(null==t?void 0:t.craftsmanshipImage)&&d.jsx("div",{className:$k,children:d.jsx("img",{className:qk,src:t.craftsmanshipImage,alt:"Craftsmanship",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",maxHeight:"600px"},onError:e=>{console.error("Error loading craftsmanship image:",t.craftsmanshipImage),e.target.src="/images/crafts-man-ship-1.png"}})})]})})}),d.jsx("section",{className:Vk,children:d.jsx("div",{className:Hk,children:r?d.jsx(rS,{type:"team"}):d.jsxs(d.Fragment,{children:[(null==t?void 0:t.teamTitle)&&d.jsx("h2",{className:Ik,children:t.teamTitle}),d.jsx("div",{className:Wk,children:d.jsx("p",{children:t.team})}),((null==t?void 0:t.commitmentTitle)||(null==t?void 0:t.commitmentDescription)||(null==t?void 0:t.companyName))&&d.jsxs("div",{className:Gk,children:[(null==t?void 0:t.commitmentTitle)&&d.jsx("h3",{children:t.commitmentTitle}),(null==t?void 0:t.commitmentDescription)&&d.jsx("div",{dangerouslySetInnerHTML:{__html:t.commitmentDescription}}),(null==t?void 0:t.companyName)&&d.jsxs("p",{className:Kk,children:["With gratitude,",d.jsx("br",{}),d.jsx("span",{children:t.companyName})]})]})]})})})]})};function sS(e){return o_({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}const aS="_shopContainer_14837_2",oS="_shopContent_14837_11",lS="_mobileFilterHeader_14837_19",cS="_filterToggle_14837_28",uS="_filtersPanel_14837_41",dS="_filterHeader_14837_52",hS="_filterActions_14837_66",fS="_resetButton_14837_72",pS="_closeFilters_14837_82",mS="_filterBody_14837_90",gS="_filterSection_14837_95",yS="_filterHeading_14837_106",vS="_expanded_14837_124",bS="_filterOptions_14837_129",_S="_filterOption_14837_129",wS="_sizeOptions_14837_154",xS="_sizeOption_14837_154",kS="_active_14837_177",SS="_colorOptions_14837_184",CS="_colorOption_14837_184",ES="_activeColor_14837_204",TS="_colorCheck_14837_208",NS="_customColorSection_14837_218",IS="_customColorOption_14837_222",jS="_customColorIcon_14837_229",AS="_colorPickerContainer_14837_236",PS="_colorPickerInput_14837_249",OS="_colorPickerControls_14837_257",DS="_colorPreview_14837_263",LS="_addCustomColorBtn_14837_270",RS="_sortOptions_14837_286",MS="_sortOption_14837_286",zS="_productsArea_14837_309",FS="_productsHeader_14837_313",US="_title_14837_320",BS="_resultsInfo_14837_328",$S="_productsGrid_14837_334",qS="_searchInputContainer_14837_341",VS="_searchInput_14837_341",HS="_searchIcon_14837_354",WS="_clearSearch_14837_362",GS="_sortSelectContainer_14837_372",KS="_sortSelect_14837_372",QS="_desktopSearch_14837_399",YS="_applyFilters_14837_404",XS="_applyButton_14837_409",JS="_clearAllFiltersButton_14837_422",ZS="_paginationContainer_14837_445",eC="_paginationButtons_14837_451",tC="_pageNumbers_14837_457",nC="_pageButton_14837_462",rC="_activePage_14837_463",iC="_nextButton_14837_464",sC="_noResults_14837_496",aC="_filterOverlay_14837_522",oC="_visible_14837_535",lC="_filterOpen_14837_566",cC="_mobileSearch_14837_584",uC="_desktopSort_14837_593",dC="_activeFilterTags_14837_640",hC="_filterTag_14837_650",fC="_removeTag_14837_672",pC="_categoryOptions_14837_684",mC="_categoryLink_14837_715",gC="_loadingContainer_14837_734",yC="_shimmerProductGrid_14837_739",vC="_shimmerProduct_14837_739",bC="_shimmerImage_14837_753",_C="_shimmerTitle_14837_762",wC="_shimmerPrice_14837_771",xC=e=>{if(null==e)return console.error("Received null or undefined color code"),"#000000";const t=String(e).trim();if(t.startsWith("#"))return t;try{const n=parseInt(t);if(isNaN(n))return console.error("Invalid color code:",t),"#000000";const r=n>>8&255,i=255&n,s=`#${(n>>16&255).toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`;return console.log(`Converted color code ${e} to hex: ${s}`),s}catch(uD){return console.error("Error parsing color code",uD),"#000000"}},kC=e=>{if(null==e)return"Unknown";return{"#ff0000":"Red","#00ff00":"Green","#0000ff":"Blue","#ffff00":"Yellow","#00ffff":"Cyan","#ff00ff":"Magenta","#000000":"Black","#ffffff":"White","#ffa500":"Orange","#800080":"Purple","#a52a2a":"Brown","#ffc0cb":"Pink","#808080":"Gray","#00aaff":"Sky Blue","#ffd700":"Gold","#f08080":"Light Coral","#e6994b":"Amber"}[xC(e).toLowerCase()]||String(e)},SC=e=>{const{r:t,g:n,b:r}=(e=>{const t=e.startsWith("#")?e:`#${e}`;return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16)}})(e);if(Math.abs(t-n)<=30&&Math.abs(n-r)<=30&&Math.abs(t-r)<=30)return t+n+r<150?"black":t+n+r>600?"white":"gray";if(t>n&&t>r){if(n>150&&r<100)return"orange";if(n<100&&r<100)return"red";if(n>150&&r>150)return"pink"}if(n>t&&n>r){if(t>150&&r<100)return"lime";if(t<100&&r<100)return"green";if(t<100&&r>150)return"teal"}if(r>t&&r>n){if(t>150&&n<100)return"purple";if(t<100&&n<100)return"blue";if(t<100&&n>150)return"cyan"}return t>180&&n>180&&r<100?"yellow":"unknown"},CC=e=>{if(!e)return"AE";return{"united arab emirates":"AE",uae:"AE","saudi arabia":"SA",qatar:"QA",kuwait:"KW",bahrain:"BH",oman:"OM",jordan:"JO",lebanon:"LB",egypt:"EG",india:"IN",pakistan:"PK","united states":"US",usa:"US","united kingdom":"GB",uk:"GB"}[e.toLowerCase().trim()]||"AE"},EC=[{id:1,label:"Under AED 1,000",min:0,max:1e3},{id:2,label:"AED 1,000 - AED 2,000",min:1e3,max:2e3},{id:3,label:"AED 2,000 - AED 3,000",min:2e3,max:3e3},{id:4,label:"AED 3,000 - AED 5,000",min:3e3,max:5e3},{id:5,label:"Over AED 5,000",min:5e3,max:1/0}],TC=["XS","S","M","L","XL","XXL"],NC=[{name:"Red",value:"#ff0000"},{name:"Blue",value:"#00aaff"},{name:"Green",value:"#32cd32"},{name:"Black",value:"#000000"},{name:"White",value:"#ffffff"},{name:"Navy",value:"#000080"},{name:"Purple",value:"#800080"},{name:"Pink",value:"#ff69b4"},{name:"Brown",value:"#8b4513"},{name:"Gray",value:"#808080"}],IC=[{id:"newest",label:"Newest"},{id:"popularity",label:"Most Popular"},{id:"priceAsc",label:"Price: Low to High"},{id:"priceDesc",label:"Price: High to Low"}],jC=()=>{const e=$r(),t=Ee(),[n]=gt(),{categoryId:r,collectionId:i}=function(){let{matches:e}=g.useContext(_e),t=e[e.length-1];return t?t.params:{}}(),s=(i||n.get("id")||"").toString(),a=(r||n.get("category")||"").toString(),[o,l]=g.useState([]),[c,u]=g.useState([]),[h,f]=g.useState([]),[p,m]=g.useState([]),[y,v]=g.useState("#ffffff"),[b,_]=g.useState(!1),w=g.useRef(null),[x,k]=g.useState(s?[s]:[]),[S,C]=g.useState(""),[E,T]=g.useState("newest"),[N,I]=g.useState(!1),[j,A]=g.useState(""),[P,O]=g.useState([]),[D,L]=g.useState(!0),{products:R,currentPage:M,productsPerPage:z,status:F}=Hr(e=>e.product),[U,B]=g.useState({category:!0,price:!0,size:!0,color:!0,sort:!0});g.useEffect(()=>{(async()=>{try{const e=Zp(gb,"collections"),t=(await ng(e)).docs.map(e=>{String(e.id).trim();return{id:e.data().id,label:e.data().name||"Unknown Collection"}});console.log("All categories:",t.map(e=>`${e.label} (${e.id})`)),O(t)}catch(e){console.error("Error fetching categories:",e)}})()},[]);g.useEffect(()=>{"idle"===F&&e(dx())},[F,e]),g.useEffect(()=>{console.log("URL parameters changed, updating filters:",{collectionId:s,categoryParam:a});const e=[];if(s&&s.length>0){const t=String(s).trim();e.includes(t)||e.push(t);(async()=>{try{const e=em(gb,"collections",t),n=await eg(e);if(n.exists()){const e=n.data();A(e.name||"Collection"),console.log("Found collection name:",e.name)}else{console.warn("Collection not found for ID:",t);const e=Zp(gb,"collections"),n=await ng(e);for(const r of n.docs)if(String(r.id).trim()===t){const e=r.data();A(e.name||"Collection"),console.log("Found collection by string matching:",e.name);break}}}catch(e){console.error("Error fetching collection name:",e)}})()}else A("");if(a&&a.length>0){const t=String(a).trim();e.includes(t)||e.push(t)}console.log("Setting category filters to:",e),k(e)},[s,a]);const $=e=>{B({...U,[e]:!U[e]})};g.useEffect(()=>{const e=e=>{w.current&&!w.current.contains(e.target)&&_(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const q=e=>{T(e)},V=e=>{C(e.target.value)},H=()=>{u([]),f([]),m([]),k([]),C(""),T("newest"),t("/shop")},W=()=>{I(!N)};g.useEffect(()=>{if("succeeded"!==F||!R.length)return;L(!0);let t=[...R];if(console.log("Filtering from total products:",R.length),console.log("Category filters:",x),x.length>0){console.log("Before category filtering, products count:",t.length),console.log("Applying category filters:",x.map(e=>`"${e}"`).join(", "));const e=x.map(e=>String(e).trim()),n=[];if(R.forEach(e=>{if(e.collection_id){const t=String(e.collection_id).trim();n.includes(t)||n.push(t)}}),console.log("Available collection IDs in products:",n),t=t.filter(t=>{if(!t)return!1;if(t.collection_id){const n=String(t.collection_id).trim();if(e.includes(n))return console.log(` Product "${t.name}" (${t.id}) matches collection "${n}"`),!0}if(t.categories&&Array.isArray(t.categories)&&t.categories.length>0)for(const n of t.categories){const r="object"==typeof n?String(n.id).trim():String(n).trim();if(e.includes(r))return console.log(` Product "${t.name}" (${t.id}) matches via categories array with "${r}"`),!0}return console.log(` Product "${t.name}" (${t.id}) doesn't match any selected categories`),!1}),console.log("After filtering by collection/category, products count:",t.length),0===t.length){console.warn("No products match the selected categories. Debug info:"),console.warn("- Selected category filters:",e),console.warn("- Available collection IDs in products:",n);const t=R.slice(0,3);console.warn("Sample product data:",t.map(e=>({id:e.id,name:e.name,collection_id:e.collection_id?String(e.collection_id):"null",categories:e.categories||[]})))}}switch(S&&(t=t.filter(e=>e.name.toLowerCase().includes(S.toLowerCase()))),c.length>0&&(t=t.filter(e=>{const t=void 0!==e.rawPrice?e.rawPrice:"string"==typeof e.price?Number(e.price.replace(/[^0-9.-]+/g,"")):Number(e.price||0);return c.some(e=>{const n=EC.find(t=>t.id===e);return t>=n.min&&t<=n.max})})),h.length>0&&(t=t.filter(e=>e.sizes&&h.some(t=>e.sizes.map(e=>e.toUpperCase()).includes(t)))),p.length>0&&(t=t.filter(e=>!(!e.colors||!Array.isArray(e.colors))&&p.some(t=>e.colors.some(e=>{const n=xC(e),r=xC(t);return n.toLowerCase()===r.toLowerCase()||((e,t)=>{const n=xC(e),r=xC(t),i=SC(n),s=SC(r);return i===s&&"unknown"!==i&&console.log(`Color match: ${n} and ${r} are both in the ${i} family`),i===s&&"unknown"!==i})(n,r)})))),E){case"priceAsc":t.sort((e,t)=>(void 0!==e.rawPrice?e.rawPrice:"string"==typeof e.price?Number(e.price.replace(/[^0-9.-]+/g,"")):Number(e.price||0))-(void 0!==t.rawPrice?t.rawPrice:"string"==typeof t.price?Number(t.price.replace(/[^0-9.-]+/g,"")):Number(t.price||0)));break;case"priceDesc":t.sort((e,t)=>{const n=void 0!==e.rawPrice?e.rawPrice:"string"==typeof e.price?Number(e.price.replace(/[^0-9.-]+/g,"")):Number(e.price||0);return(void 0!==t.rawPrice?t.rawPrice:"string"==typeof t.price?Number(t.price.replace(/[^0-9.-]+/g,"")):Number(t.price||0))-n});break;case"popularity":t.sort((e,t)=>(t.stock||0)-(e.stock||0));break;default:t.sort((e,t)=>{const n=e.created_at?new Date(e.created_at):new Date(0);return(t.created_at?new Date(t.created_at):new Date(0))-n})}l(t),L(!1),e(fx(1))},[R,S,c,h,p,E,e,x,F]);const G=Math.ceil(o.length/z),K=o.slice((M-1)*z,M*z),Q=t=>{e(fx(t)),document.querySelector(`.${$S}`).scrollIntoView({behavior:"smooth"})},Y=c.length+h.length+p.length+(x.length-(s&&s.length>0?1:0));return"loading"===F||"idle"===F&&!R.length?d.jsx("div",{className:aS,children:d.jsx("div",{className:gC,children:d.jsx("div",{className:yC,children:[...Array(8)].map((e,t)=>d.jsxs("div",{className:vC,children:[d.jsx("div",{className:bC}),d.jsx("div",{className:_C}),d.jsx("div",{className:wC})]},t))})})}):d.jsxs("div",{className:aS,children:[d.jsxs("div",{className:lS,children:[d.jsxs("div",{className:cS,onClick:W,children:[d.jsx(I_,{size:24}),d.jsxs("span",{children:["Filters ",Y>0&&`(${Y})`]})]}),d.jsx("div",{className:cC,children:d.jsxs("div",{className:qS,children:[d.jsx(j_,{className:HS}),d.jsx("input",{type:"text",placeholder:"Search products...",value:S,onChange:V,className:VS}),S&&d.jsx(d_,{className:WS,onClick:()=>C("")})]})}),d.jsx("div",{className:GS,children:d.jsxs("select",{value:E,onChange:e=>q(e.target.value),className:KS,children:[d.jsx("option",{value:"",disabled:!0,children:"Sort by"}),IC.map(e=>d.jsx("option",{value:e.id,children:e.label},e.id))]})})]}),d.jsxs("div",{className:oS,children:[d.jsxs("aside",{className:`${uS} ${N?lC:""}`,children:[d.jsxs("div",{className:dS,children:[d.jsx("h3",{children:"Filters"}),d.jsxs("div",{className:hS,children:[Y>0&&d.jsx("button",{className:fS,onClick:H,children:"Clear All"}),d.jsx("button",{className:pS,onClick:W,children:d.jsx(d_,{size:24})})]})]}),d.jsxs("div",{className:mS,children:[d.jsx("button",{className:JS,onClick:H,children:"Clear All Filters"}),d.jsx("div",{className:QS,children:d.jsxs("div",{className:qS,children:[d.jsx(j_,{className:HS}),d.jsx("input",{type:"text",placeholder:"Search products...",value:S,onChange:V,className:VS}),S&&d.jsx(d_,{className:WS,onClick:()=>C("")})]})}),Y>0&&d.jsxs("div",{className:dC,children:[x.filter(e=>e!==s).map(e=>{const t=P.find(t=>String(t.id).trim()===String(e).trim());if(!t)return null;const n=t.label.replace(/\s*\(\d+\)$/,"");return d.jsxs("div",{className:hC,children:[d.jsx("span",{children:n}),d.jsx(d_,{className:fC,size:14,onClick:()=>k(x.filter(t=>String(t).trim()!==String(e).trim()))})]},`cat-${e}`)}),c.map(e=>{const t=EC.find(t=>t.id===e);return d.jsxs("div",{className:hC,children:[d.jsx("span",{children:null==t?void 0:t.label}),d.jsx(d_,{className:fC,size:14,onClick:()=>u(c.filter(t=>t!==e))})]},`price-${e}`)}),h.map(e=>d.jsxs("div",{className:hC,children:[d.jsxs("span",{children:["Size: ",e]}),d.jsx(d_,{className:fC,size:14,onClick:()=>f(h.filter(t=>t!==e))})]},`size-${e}`)),p.map(e=>{const t=NC.find(t=>t.value===e)||{name:kC(e)};return SC(xC(e)),d.jsxs("div",{className:hC,children:[d.jsxs("span",{children:["Color: ",t.name]}),d.jsx(d_,{className:fC,size:14,onClick:()=>m(p.filter(t=>t!==e))})]},`color-${e}`)})]}),d.jsx("div",{className:uC,children:d.jsxs("div",{className:gS,children:[d.jsxs("div",{className:yS,onClick:()=>$("sort"),children:[d.jsx("h4",{children:"Sort By"}),d.jsx(sS,{className:U.sort?vS:""})]}),U.sort&&d.jsx("div",{className:RS,children:IC.map(e=>d.jsx("div",{className:`${MS} ${E===e.id?kS:""}`,onClick:()=>q(e.id),children:e.label},e.id))})]})}),d.jsxs("div",{className:gS,children:[d.jsxs("div",{className:yS,onClick:()=>$("category"),children:[d.jsx("h4",{children:"Category"}),d.jsx(sS,{className:U.category?vS:""})]}),U.category&&d.jsx("div",{className:pC,children:P.map(e=>d.jsx("div",{className:`${mC} ${x.includes(String(e.id).trim())?kS:""}`,onClick:()=>(e=>{t(`/shop?id=${e.id}`),window.scrollTo(0,0)})(e),style:{cursor:"pointer"},children:e.label},e.id))})]}),d.jsxs("div",{className:gS,children:[d.jsxs("div",{className:yS,onClick:()=>$("price"),children:[d.jsx("h4",{children:"Price"}),d.jsx(sS,{className:U.price?vS:""})]}),U.price&&d.jsx("div",{className:bS,children:EC.map(e=>d.jsxs("label",{className:_S,children:[d.jsx("input",{type:"checkbox",checked:c.includes(e.id),onChange:()=>(e=>{c.includes(e.id)?u(c.filter(t=>t!==e.id)):u([...c,e.id])})(e)}),d.jsx("span",{children:e.label})]},e.id))})]}),d.jsxs("div",{className:gS,children:[d.jsxs("div",{className:yS,onClick:()=>$("size"),children:[d.jsx("h4",{children:"Size"}),d.jsx(sS,{className:U.size?vS:""})]}),U.size&&d.jsx("div",{className:wS,children:TC.map(e=>d.jsx("div",{className:`${xS} ${h.includes(e)?kS:""}`,onClick:()=>(e=>{h.includes(e)?f(h.filter(t=>t!==e)):f([...h,e])})(e),children:e},e))})]}),d.jsxs("div",{className:gS,children:[d.jsxs("div",{className:yS,onClick:()=>$("color"),children:[d.jsx("h4",{children:"Color"}),d.jsx(sS,{className:U.color?vS:""})]}),U.color&&d.jsxs("div",{className:SS,children:[NC.map(e=>d.jsx("div",{className:`${CS} ${p.includes(e.value)?ES:""}`,onClick:()=>(e=>{p.includes(e.value)?m(p.filter(t=>t!==e.value)):m([...p,e.value])})(e),style:{backgroundColor:e.value},title:`${e.name} (includes similar shades)`,children:p.includes(e.value)&&d.jsx("span",{className:TS,children:""})},e.value)),d.jsxs("div",{className:NS,ref:w,children:[d.jsx("div",{className:`${CS} ${IS}`,onClick:()=>_(!b),style:{background:"linear-gradient(135deg, red, orange, yellow, green, blue, indigo, violet)",position:"relative"},title:"Choose custom color",children:d.jsx("span",{className:jS,children:"+"})}),b&&d.jsxs("div",{className:AS,children:[d.jsx("input",{type:"color",value:y,onChange:e=>v(e.target.value),className:PS}),d.jsxs("div",{className:OS,children:[d.jsx("div",{className:DS,style:{backgroundColor:y}}),d.jsx("button",{className:LS,onClick:()=>{p.includes(y)||m([...p,y]),_(!1)},children:"Add Color"})]})]})]}),p.filter(e=>!NC.some(t=>t.value===e)).map(e=>d.jsx("div",{className:`${CS} ${ES}`,onClick:()=>m(p.filter(t=>t!==e)),style:{backgroundColor:e},title:`Custom color (${e})`,children:d.jsx("span",{className:TS,children:""})},e))]})]}),d.jsx("div",{className:YS,children:d.jsx("button",{className:XS,onClick:W,children:"Apply Filters"})})]})]}),d.jsxs("div",{className:zS,children:[d.jsxs("div",{className:FS,children:[d.jsx("h2",{className:US,children:S?`Search results for "${S}"`:j||"All Products"}),d.jsxs("div",{className:BS,children:["Showing ",K.length," of ",o.length," ","products"]})]}),D?d.jsx("div",{className:yC,children:[...Array(8)].map((e,t)=>d.jsxs("div",{className:vC,children:[d.jsx("div",{className:bC}),d.jsx("div",{className:_C}),d.jsx("div",{className:wC})]},t))}):d.jsx("div",{className:$S,children:K.length>0?K.map(e=>d.jsx(Bw,{product:e},e.id)):d.jsxs("div",{className:sC,children:[d.jsx("h3",{children:"No products found"}),d.jsx("p",{children:"Try adjusting your filters or search terms"}),d.jsx("button",{className:fS,onClick:H,children:"Clear All Filters"})]})}),o.length>0&&!D&&d.jsx("div",{className:ZS,children:d.jsxs("div",{className:eC,children:[d.jsx("span",{className:tC,children:[...Array(G)].map((e,t)=>d.jsx("button",{onClick:()=>Q(t+1),className:M===t+1?rC:nC,children:t+1},t+1))}),d.jsx("button",{onClick:()=>Q(M+1),disabled:M===G,className:iC,"aria-label":"Next page",children:""})]})})]})]}),d.jsx("div",{className:`${aC} ${N?oC:""}`,onClick:W})]})},AC=()=>{const e=ke(),[t]=gt();return g.useEffect(()=>{console.log("Shop component detected URL change:",e.pathname,e.search),(t.has("id")||e.pathname.includes("/collection/"))&&window.scrollTo(0,0)},[e,t]),d.jsxs($e,{children:[d.jsx(Ue,{index:!0,element:d.jsx(jC,{})}),d.jsx(Ue,{path:"category/:categoryId",element:d.jsx(jC,{})}),d.jsx(Ue,{path:"collection/:collectionId",element:d.jsx(jC,{})}),d.jsx(Ue,{path:"/",element:d.jsx(jC,{})}),d.jsx(Ue,{path:"*",element:d.jsx(ze,{to:"/shop",replace:!0})})]})},PC={container:"_container_p69qi_1",imageSection:"_imageSection_p69qi_11",detailsSection:"_detailsSection_p69qi_19",mainImageContainer:"_mainImageContainer_p69qi_28",mainImage:"_mainImage_p69qi_28",slideControlButton:"_slideControlButton_p69qi_42",thumbnailContainer:"_thumbnailContainer_p69qi_64",thumbnail:"_thumbnail_p69qi_64",active:"_active_p69qi_88",title:"_title_p69qi_94",price:"_price_p69qi_103",optionGroup:"_optionGroup_p69qi_110",sizes:"_sizes_p69qi_117",colorButton:"_colorButton_p69qi_124",colors:"_colors_p69qi_162",sizeButton:"_sizeButton_p69qi_168",selected:"_selected_p69qi_168",quantitySelector:"_quantitySelector_p69qi_174",actionButtons:"_actionButtons_p69qi_193",addToCart:"_addToCart_p69qi_203",carouselOverlay:"_carouselOverlay_p69qi_233",carouselImage:"_carouselImage_p69qi_246",carouselImageContainer:"_carouselImageContainer_p69qi_259",closeButton:"_closeButton_p69qi_272",navButton:"_navButton_p69qi_289",prevButton:"_prevButton_p69qi_305",nextButton:"_nextButton_p69qi_309",imageZoom:"_imageZoom_p69qi_399",enlargedImage:"_enlargedImage_p69qi_406",shimmer:"_shimmer_p69qi_433",errorContainer:"_errorContainer_p69qi_451",backButton:"_backButton_p69qi_472",favoriteButton:"_favoriteButton_p69qi_487"};function OC(e){return o_({attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"7 2 17 12 7 22"},child:[]}]})(e)}function DC(e){return o_({attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"7 2 17 12 7 22",transform:"matrix(-1 0 0 1 24 0)"},child:[]}]})(e)}function LC(e){return o_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}var RC,MC={},zC={};var FC,UC={};var BC,$C={};var qC,VC,HC={};const WC=i(function(){if(VC)return MC;VC=1,Object.defineProperty(MC,"__esModule",{value:!0});var e=i(function(){if(RC)return zC;RC=1,Object.defineProperty(zC,"__esModule",{value:!0});var e={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(e.hover=window.matchMedia("(hover: hover)").matches,e.none=window.matchMedia("(hover: none)").matches||window.matchMedia("(hover: on-demand)").matches,e.anyHover=window.matchMedia("(any-hover: hover)").matches,e.anyNone=window.matchMedia("(any-hover: none)").matches||window.matchMedia("(any-hover: on-demand)").matches)}};return e.update(),zC.default=e,zC}()),t=i(function(){if(FC)return UC;FC=1,Object.defineProperty(UC,"__esModule",{value:!0});var e={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(e.fine=window.matchMedia("(pointer: fine)").matches,e.coarse=window.matchMedia("(pointer: coarse)").matches,e.none=window.matchMedia("(pointer: none)").matches,e.anyFine=window.matchMedia("(any-pointer: fine)").matches,e.anyCoarse=window.matchMedia("(any-pointer: coarse)").matches,e.anyNone=window.matchMedia("(any-pointer: none)").matches)}};return e.update(),UC.default=e,UC}()),n=i(function(){if(BC)return $C;BC=1,Object.defineProperty($C,"__esModule",{value:!0});var e={update:function(){"undefined"!=typeof window&&(e.hasSupport="ontouchstart"in window,e.browserSupportsApi=Boolean(window.TouchEvent))}};return e.update(),$C.default=e,$C}()),r=i(function(){if(qC)return HC;qC=1,Object.defineProperty(HC,"__esModule",{value:!0});var e={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}}),r=function(){};window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e.hasSupport=t}}};return e.update(),HC.default=e,HC}());function i(e){return e&&e.__esModule?e:{default:e}}var s={state:{detectHover:e.default,detectPointer:t.default,detectTouchEvents:n.default,detectPassiveEvents:r.default},update:function(){s.state.detectHover.update(),s.state.detectPointer.update(),s.state.detectTouchEvents.update(),s.state.detectPassiveEvents.update(),s.updateOnlyOwnProperties()},updateOnlyOwnProperties:function(){var e,t,n,r;"undefined"!=typeof window&&(s.passiveEvents=s.state.detectPassiveEvents.hasSupport||!1,s.hasTouch=s.state.detectTouchEvents.hasSupport||!1,s.deviceType=(e=s.hasTouch,t=s.state.detectHover.anyHover,n=s.state.detectPointer.anyFine,r=s.state,e&&(t||n)?"hybrid":e&&Object.keys(r.detectHover).filter(function(e){return"update"!==e}).every(function(e){return!1===r.detectHover[e]})&&Object.keys(r.detectPointer).filter(function(e){return"update"!==e}).every(function(e){return!1===r.detectPointer[e]})?window.navigator&&/android/.test(window.navigator.userAgent.toLowerCase())?"touchOnly":"hybrid":e?"touchOnly":"mouseOnly"),s.hasMouse="touchOnly"!==s.deviceType,s.primaryInput=("mouseOnly"===s.deviceType?"mouse":"touchOnly"===s.deviceType&&"touch")||s.state.detectHover.hover&&"mouse"||s.state.detectHover.none&&"touch"||"mouse",/windows/.test(window.navigator.userAgent.toLowerCase())&&/chrome/.test(window.navigator.userAgent.toLowerCase())&&parseInt(/Chrome\/([0-9.]+)/.exec(navigator.userAgent)[1],10)>=59&&s.hasTouch&&(s.deviceType="hybrid",s.hasMouse=!0,s.primaryInput="mouse"))}};return s.updateOnlyOwnProperties(),MC.default=s,MC}());
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var GC,KC;const QC=i(function(){if(KC)return GC;KC=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;return GC=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(r,i){for(var s,a,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(r),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))t.call(s,c)&&(o[c]=s[c]);if(e){a=e(s);for(var u=0;u<a.length;u++)n.call(s,a[u])&&(o[a[u]]=s[a[u]])}}return o}}());var YC,XC,JC,ZC,eE,tE,nE,rE,iE,sE={exports:{}};function aE(){if(rE)return nE;rE=1;var e=function(){if(XC)return YC;function e(e){return function(){return e}}XC=1;var t=function(){};return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},YC=t}(),t=ZC?JC:(ZC=1,JC=function(e,t,n,r,i,s,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,a,o],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}),n=tE?eE:(tE=1,eE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");return nE=function(){function r(e,r,i,s,a,o){o!==n&&t(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function i(){return r}r.isRequired=r;var s={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i};return s.checkPropTypes=e,s.PropTypes=s,s}}const oE=i((iE||(iE=1,sE.exports=aE()()),sE.exports));
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var lE,cE,uE,dE,hE,fE,pE,mE;function gE(){if(dE)return uE;dE=1;var e=cE?lE:(cE=1,lE=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)});function t(t){return!0===e(t)&&"[object Object]"===Object.prototype.toString.call(t)}return uE=function(e){var n,r;return!1!==t(e)&&("function"==typeof(n=e.constructor)&&(!1!==t(r=n.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}}
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */const yE=i(function(){if(mE)return pE;mE=1;var e=function(){if(fE)return hE;fE=1;var e=gE();return hE=function(t){return e(t)||"function"==typeof t||Array.isArray(t)}}
/*!
 * object.omit <https://github.com/jonschlinkert/object.omit>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */();return pE=function(t,n,r){if(!e(t))return{};"function"==typeof n&&(r=n,n=[]),"string"==typeof n&&(n=[n]);for(var i="function"==typeof r,s=Object.keys(t),a={},o=0;o<s.length;o++){var l=s[o],c=t[l];n&&(-1!==n.indexOf(l)||i&&!r(c,l,t))||(a[l]=c)}return a}}());var vE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var bE=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t}return vE(e,[{key:"getDocumentRelativeElementOffset",value:function(e){var t=this.getRootOfEl(e).getBoundingClientRect(),n=t.left,r=t.top,i=e.getBoundingClientRect(),s=i.left,a=i.top;return{x:Math.abs(n)+s,y:Math.abs(r)+a}}},{key:"getRootOfEl",value:function(e){return e.parentElement?this.getRootOfEl(e.parentElement):e}},{key:"getComputedElementRelativeCursorPosition",value:function(e,t){this.lastEvent=e;var n=this.getDocumentRelativeCursorPosition(e),r=n.x,i=n.y,s=t.x,a=t.y;return{x:Math.round(r-s),y:Math.round(i-a)}}},{key:"getDocumentRelativeCursorPosition",value:function(e){return{x:e.pageX,y:e.pageY}}},{key:"getCursorPosition",value:function(e){return this.getComputedElementRelativeCursorPosition(e,this.documentRelativeElementOffset)}},{key:"documentRelativeElementOffset",get:function(){return this.elementOffset||(this.elementOffset=this.getDocumentRelativeElementOffset(this.el)),this.elementOffset}}]),e}();function _E(e,t,n,r){return e.addEventListener(t,n,r),{removeEventListener:function(){e.removeEventListener(t,n,r)}}}var wE="pressEvent",xE="setHovering",kE="unsetHovering";const SE=function(){};var CE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var EE=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return IE.call(n),n.state={detectedEnvironment:{isMouseDetected:!1,isTouchDetected:!1},elementDimensions:{width:0,height:0},isActive:!1,isPositionOutside:!0,position:{x:0,y:0}},n.shouldGuardAgainstMouseEmulationByDevices=!1,n.eventListeners=[],n.timers=[],n.elementOffset={x:0,y:0},n.onTouchStart=n.onTouchStart.bind(n),n.onTouchMove=n.onTouchMove.bind(n),n.onTouchEnd=n.onTouchEnd.bind(n),n.onTouchCancel=n.onTouchCancel.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,y.Component),CE(e,[{key:"onTouchStart",value:function(e){this.init(),this.onTouchDetected(),this.setShouldGuardAgainstMouseEmulationByDevices();var t=this.core.getCursorPosition(this.getTouchEvent(e));if(this.setPositionState(t),this.props.isActivatedOnTouch)return e.preventDefault(),void this.activate();this.initPressEventCriteria(t),this.setPressEventTimer()}},{key:"onTouchMove",value:function(e){if(this.isCoreReady){var t=this.core.getCursorPosition(this.getTouchEvent(e));this.state.isActive?(this.setPositionState(t),e.preventDefault(),this.props.shouldStopTouchMovePropagation&&e.stopPropagation()):this.setPressEventCriteria(t)}}},{key:"onTouchEnd",value:function(){this.deactivate(),this.unsetShouldGuardAgainstMouseEmulationByDevices()}},{key:"onTouchCancel",value:function(){this.deactivate(),this.unsetShouldGuardAgainstMouseEmulationByDevices()}},{key:"onMouseEnter",value:function(e){this.shouldGuardAgainstMouseEmulationByDevices||(this.init(),this.onMouseDetected(),this.setPositionState(this.core.getCursorPosition(e)),this.clearActivationTimers(),this.schedulActivation(this.props.hoverDelayInMs))}},{key:"onMouseMove",value:function(e){this.isCoreReady&&this.setPositionState(this.core.getCursorPosition(e))}},{key:"onMouseLeave",value:function(){this.clearActivationTimers(),this.scheduleDeactivation(this.props.hoverOffDelayInMs),this.setState({isPositionOutside:!0})}},{key:"onTouchDetected",value:function(){var e={isTouchDetected:!0,isMouseDetected:!1};this.setState({detectedEnvironment:e}),this.props.onDetectedEnvironmentChanged(e)}},{key:"onMouseDetected",value:function(){var e={isTouchDetected:!1,isMouseDetected:!0};this.setState({detectedEnvironment:e}),this.props.onDetectedEnvironmentChanged(e)}},{key:"componentDidMount",value:function(){this.props.isEnabled&&this.enable()}},{key:"componentWillReceiveProps",value:function(e){var t=e.isEnabled;this.props.isEnabled!==t&&(t?this.enable():this.disable())}},{key:"componentWillUnmount",value:function(){this.clearTimers(),this.disable()}},{key:"enable",value:function(){this.addEventListeners()}},{key:"disable",value:function(){this.removeEventListeners()}},{key:"init",value:function(){this.core=new bE(this.el),this.setElementDimensionsState(this.getElementDimensions(this.el))}},{key:"reset",value:function(){var e=this.core,t=(e=void 0===e?{}:e).lastEvent;this.init(),t&&this.setPositionState(this.core.getCursorPosition(t))}},{key:"activate",value:function(){this.setState({isActive:!0}),this.props.onActivationChanged({isActive:!0})}},{key:"deactivate",value:function(){var e=this;this.clearTimer(wE),this.setState({isActive:!1},function(){var t=e.state,n=t.isPositionOutside,r=t.position;e.props.onPositionChanged({isPositionOutside:n,position:r}),e.props.onActivationChanged({isActive:!1})})}},{key:"setPositionState",value:function(e){var t=this.getIsPositionOutside(e);this.setState({isPositionOutside:t,position:e},this.onPositionChanged)}},{key:"setElementDimensionsState",value:function(e){this.setState({elementDimensions:e})}},{key:"schedulActivation",value:function(e){var t=this,n=setTimeout(function(){t.activate()},e);this.timers.push({id:n,name:xE})}},{key:"scheduleDeactivation",value:function(e){var t=this,n=setTimeout(function(){t.deactivate()},e);this.timers.push({id:n,name:kE})}},{key:"clearActivationTimers",value:function(){this.clearTimer(xE),this.clearTimer(kE)}},{key:"setPressEventTimer",value:function(){var e=this,t=this.props,n=t.pressDuration,r=t.pressMoveThreshold;this.timers.push({name:wE,id:setTimeout(function(){Math.abs(e.currentElTop-e.initialElTop)<r&&e.activate()},n)})}},{key:"setPressEventCriteria",value:function(e){this.currentElTop=e.y}},{key:"initPressEventCriteria",value:function(e){var t=e.y;this.initialElTop=t,this.currentElTop=t}},{key:"setShouldGuardAgainstMouseEmulationByDevices",value:function(){this.shouldGuardAgainstMouseEmulationByDevices=!0}},{key:"unsetShouldGuardAgainstMouseEmulationByDevices",value:function(){var e=this;this.timers.push({name:"mouseEmulation",id:setTimeout(function(){e.shouldGuardAgainstMouseEmulationByDevices=!1},0)})}},{key:"clearTimers",value:function(){for(var e=this.timers;e.length;){var t=e.pop();clearTimeout(t.id)}}},{key:"clearTimer",value:function(e){this.timers.forEach(function(t){t.name===e&&clearTimeout(t.id)})}},{key:"getElementDimensions",value:function(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}},{key:"getIsPositionOutside",value:function(e){var t=e.x,n=e.y,r=this.state.elementDimensions,i=r.width,s=r.height;return t<0||n<0||t>i||n>s}},{key:"getTouchEvent",value:function(e){return e.touches[0]}},{key:"getIsReactComponent",value:function(e){return"function"==typeof e.type}},{key:"shouldDecorateChild",value:function(e){return!!e&&this.getIsReactComponent(e)&&this.props.shouldDecorateChildren}},{key:"decorateChild",value:function(e,t){return g.cloneElement(e,t)}},{key:"decorateChildren",value:function(e,t){var n=this;return g.Children.map(e,function(e){return n.shouldDecorateChild(e)?n.decorateChild(e,t):e})}},{key:"addEventListeners",value:function(){this.eventListeners.push(_E(this.el,"touchstart",this.onTouchStart,{passive:!1}),_E(this.el,"touchmove",this.onTouchMove,{passive:!1}),_E(this.el,"touchend",this.onTouchEnd),_E(this.el,"touchcancel",this.onTouchCancel),_E(this.el,"mouseenter",this.onMouseEnter),_E(this.el,"mousemove",this.onMouseMove),_E(this.el,"mouseleave",this.onMouseLeave))}},{key:"removeEventListeners",value:function(){for(;this.eventListeners.length;)this.eventListeners.pop().removeEventListener()}},{key:"getPassThroughProps",value:function(){var e=Object.keys(this.constructor.propTypes);return yE(this.props,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,i=t.mapChildProps,s=t.style,a=QC({},i(this.state),this.getPassThroughProps());return y.createElement("div",{className:r,ref:function(t){return e.el=t},style:QC({},s,{WebkitUserSelect:"none"})},this.decorateChildren(n,a))}},{key:"isCoreReady",get:function(){return!!this.core}}]),e}();EE.displayName="ReactCursorPosition",EE.propTypes={children:oE.any,className:oE.string,hoverDelayInMs:oE.number,hoverOffDelayInMs:oE.number,isActivatedOnTouch:oE.bool,isEnabled:oE.bool,mapChildProps:oE.func,onActivationChanged:oE.func,onPositionChanged:oE.func,onDetectedEnvironmentChanged:oE.func,pressDuration:oE.number,pressMoveThreshold:oE.number,shouldDecorateChildren:oE.bool,shouldStopTouchMovePropagation:oE.bool,style:oE.object},EE.defaultProps={isActivatedOnTouch:!1,isEnabled:!0,hoverDelayInMs:0,hoverOffDelayInMs:0,mapChildProps:function(e){return e},onActivationChanged:SE,onPositionChanged:SE,onDetectedEnvironmentChanged:SE,pressDuration:500,pressMoveThreshold:5,shouldDecorateChildren:!0,shouldStopTouchMovePropagation:!1};var TE,NE,IE=function(){var e=this;this.onPositionChanged=function(){(0,e.props.onPositionChanged)(e.state)}};const jE=i(NE?TE:(NE=1,TE=function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}));function AE(e,t){return{x:t.width/e.width,y:t.height/e.height}}function PE(e,t){return{x:-1*(t.width-e.width),y:-1*(t.height-e.height)}}function OE(e){var t=e.containerDimensions,n=e.cursorOffset,r=e.largeImage,i=e.position,s=e.smallImage,a=function(e,t){return{x:e.x-t.x,y:e.y-t.y}}(i,n),o=function(e,t){return AE(e,t)}(s,r);return LE({x:-1*Math.round(a.x*o.x),y:-1*Math.round(a.y*o.y)},PE(t,r),{x:0,y:0})}function DE(e){var t,n,r=e.containerDimensions,i=e.largeImage,s=e.position,a=PE(r,i),o={x:0,y:0},l=AE(t=r,{width:(n=i).width-t.width,height:n.height-t.height});return LE({x:-1*Math.round(s.x*l.x),y:-1*Math.round(s.y*l.y)},a,o)}function LE(e,t,n){return{x:jE(e.x,t.x,n.x),y:jE(e.y,t.y,n.y)}}var RE,ME;const zE=i((ME||(ME=1,RE=function(e,t){return function(n){return(t(n)?e.isRequired:e).apply(this,arguments)}}),RE));var FE={alt:oE.string,src:oE.string.isRequired,srcSet:oE.string,sizes:oE.string,onLoad:oE.func,onError:oE.func},UE=oE.shape(QC({},FE,{width:oE.number.isRequired,height:oE.number.isRequired})),BE=oE.shape(QC({},FE,{isFluidWidth:oE.bool,width:zE(oE.number,function(e){return!e.isFluidWidth}),height:zE(oE.number,function(e){return!e.isFluidWidth})})),$E="mouse",qE="touch",VE="over",HE="beside",WE=oE.oneOf([HE,VE]),GE=oE.shape({width:oE.oneOfType([oE.number,oE.string]),height:oE.oneOfType([oE.number,oE.string])}),KE=oE.shape({width:oE.number,height:oE.number});function QE(){}const YE=oE.shape({x:oE.number.isRequired,y:oE.number.isRequired});var XE,JE;const ZE=i(JE?XE:(JE=1,XE=function e(t,n){if(t===n)return!0;var r,i=Array.isArray(t),s=Array.isArray(n);if(i&&s){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(i!=s)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;var o=t instanceof Date,l=n instanceof Date;if(o&&l)return t.getTime()==n.getTime();if(o!=l)return!1;var c=t instanceof RegExp,u=n instanceof RegExp;if(c&&u)return t.toString()==n.toString();if(c!=u)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!e(t[a[r]],n[a[r]]))return!1;return!0}return!1}));function eT(e,t){var n=e.isFluidWidth,r=e.width,i=e.height;return QC({cursor:"crosshair"},t,n?{width:"auto",height:"auto",fontSize:"0px",position:"relative"}:{width:r+"px",height:i+"px",position:"relative"})}function tT(e,t){var n=e.isFluidWidth,r=e.width,i=e.height;return QC({},t,n?{width:"100%",height:"auto",display:"block",pointerEvents:"none"}:{width:r+"px",height:i+"px",pointerEvents:"none"})}var nT={};function rT(e){var t=nT,n=t.params,r=void 0===n?{}:n,i=t.compositStyle;if(ZE(r,e))return i;var s=e.containerDimensions,a=e.containerStyle,o=e.fadeDurationInMs,l=e.isTransitionActive,c=function(e,t){var n={overflow:"hidden"};return t?n:QC(n,{position:"absolute",top:"0px"},e?{left:"0px"}:{left:"100%",marginLeft:"10px",border:"1px solid #d6d6d6"})}(e.isInPlaceMode,e.isPortalRendered),u=function(e){var t=e.containerDimensions,n=e.fadeDurationInMs,r=e.isTransitionActive;return{width:t.width,height:t.height,opacity:r?1:0,transition:"opacity "+n+"ms ease-in",pointerEvents:"none"}}({containerDimensions:s,fadeDurationInMs:o,isTransitionActive:l});return t.compositStyle=QC({},c,a,u),t.params=e,t.compositStyle}var iT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var sT=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={isTransitionEntering:!1,isTransitionActive:!1,isTransitionLeaving:!1,isTransitionDone:!1},n.timers=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,y.Component),iT(e,[{key:"componentWillReceiveProps",value:function(e){this.scheduleCssTransition(e)}},{key:"componentWillUnmount",value:function(){this.timers.forEach(function(e){clearTimeout(e)})}},{key:"scheduleCssTransition",value:function(e){var t=this,n=this.props,r=n.fadeDurationInMs,i=n.isActive,s=n.isPositionOutside,a=i!==e.isActive,o=s!==e.isPositionOutside;(a||o)&&(e.isActive&&!e.isPositionOutside?(this.setState({isTrainsitionDone:!1,isTransitionEntering:!0}),this.timers.push(setTimeout(function(){t.setState({isTransitionEntering:!1,isTransitionActive:!0})},0))):(this.setState({isTransitionLeaving:!0,isTransitionActive:!1}),this.timers.push(setTimeout(function(){t.setState({isTransitionDone:!0,isTransitionLeaving:!1})},r))))}},{key:"getImageCoordinates",value:function(){var e=this.props,t=e.cursorOffset,n=e.largeImage,r=e.containerDimensions,i=e.position,s=e.smallImage;return e.isInPlaceMode?DE({containerDimensions:r,largeImage:n,position:i}):OE({containerDimensions:r,cursorOffset:t,largeImage:n,position:i,smallImage:s})}},{key:"render",value:function(){var e=this.props,t=e.containerClassName,n=e.imageClassName,r=e.isLazyLoaded,i=e.largeImage,s=e.largeImage,a=s.alt,o=void 0===a?"":a,l=s.onLoad,c=void 0===l?QE:l,u=s.onError,d=void 0===u?QE:u,h=y.createElement("div",{className:t,style:this.containerStyle},y.createElement("img",{alt:o,className:n,src:i.src,srcSet:i.srcSet,sizes:i.sizes,style:this.imageStyle,onLoad:c,onError:d}));return r?this.isVisible?h:null:h}},{key:"isVisible",get:function(){var e=this.state,t=e.isTransitionEntering,n=e.isTransitionActive,r=e.isTransitionLeaving;return t||n||r}},{key:"containerStyle",get:function(){var e=this.props,t=e.containerStyle,n=e.containerDimensions,r=e.fadeDurationInMs,i=e.isPortalRendered,s=e.isInPlaceMode;return rT({containerDimensions:n,containerStyle:t,fadeDurationInMs:r,isTransitionActive:this.state.isTransitionActive,isInPlaceMode:s,isPortalRendered:i})}},{key:"imageStyle",get:function(){var e=this.props,t=e.imageStyle,n=e.largeImage;return function(e){var t=e.imageCoordinates,n=e.imageStyle,r=e.largeImage,i="translate("+t.x+"px, "+t.y+"px)",s={width:r.width,height:r.height,transform:i,WebkitTransform:i,msTransform:i,pointerEvents:"none"};return QC({},n,s)}({imageCoordinates:this.getImageCoordinates(),imageStyle:t,largeImage:n})}}]),e}();sT.displayName="EnlargedImage",sT.defaultProps={fadeDurationInMs:0,isLazyLoaded:!0},sT.propTypes={containerClassName:oE.string,containerStyle:oE.object,cursorOffset:YE,position:YE,fadeDurationInMs:oE.number,imageClassName:oE.string,imageStyle:oE.object,isActive:oE.bool,isLazyLoaded:oE.bool,largeImage:UE,containerDimensions:KE,isPortalRendered:oE.bool,isInPlaceMode:oE.bool};var aT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function oT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var lT=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=r=oT(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),r.state={isMounted:!1},oT(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,g.Component),aT(e,[{key:"componentDidMount",value:function(){if(this.setState({isMounted:!0}),this.isPortalRendered){var e=this.props.portalId;this.portalElement=document.getElementById(e)}}},{key:"render",value:function(){if(!this.isMounted)return null;var e=this.compositProps;return this.isPortalRendered?bt.createPortal(y.createElement(sT,e),this.portalElement):y.createElement(sT,e)}},{key:"isPortalIdImplemented",get:function(){return!!this.props.portalId}},{key:"isPortalRendered",get:function(){var e=this.props,t=e.isPortalEnabledForTouch,n=e.isTouchDetected;return!!this.isPortalIdImplemented&&(!n||!!t)}},{key:"isMounted",get:function(){return this.state.isMounted}},{key:"compositProps",get:function(){return QC({},this.props,{isPortalRendered:this.isPortalRendered})}}]),e}();lT.propTypes={isPortalEnabledForTouch:oE.bool.isRequired,isTouchDetected:oE.bool.isRequired,portalId:oE.string};var cT=function(e){var t=e.fadeDurationInMs,n=e.isActive,r=e.isPositionOutside,i=e.style,s=QC({},{width:"auto",height:"auto",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"block"},i,{position:"absolute",opacity:n&&!r?1:0,transition:"opacity "+t+"ms ease-in"});return y.createElement("div",{style:s})};cT.propTypes={style:oE.object,fadeDurationInMs:oE.number,isActive:oE.bool,translateX:oE.number,translateY:oE.number,userStyle:oE.object},cT.defaultProps={isActive:!1,fadeDurationInMs:0,translateX:0,translateY:0};const uT={cursorOffset:YE,fadeDurationInMs:oE.number,isActive:oE.bool,isPositionOutside:oE.bool,position:YE,smallImage:BE,style:oE.object};var dT=function(e){var t=e.cursorOffset,n=e.position,r=e.fadeDurationInMs,i=e.isActive,s=e.isPositionOutside,a=e.smallImage,o=e.style,l=2*t.y,c=a.height-l,u={height:jE(n.y-t.y,0,c)+"px",width:"100%",top:"0px"};return y.createElement(cT,{fadeDurationInMs:r,isActive:i,isPositionOutside:s,style:QC({},o,u)})};dT.propTypes=uT;var hT=function(e){var t=e.cursorOffset,n=e.position,r=e.fadeDurationInMs,i=e.isActive,s=e.isPositionOutside,a=e.smallImage,o=e.style,l=2*t.y,c=2*t.x,u=a.height-l,d=a.width-c,h={height:l+"px",width:jE(n.x-t.x,0,d)+"px",top:jE(n.y-t.y,0,u)+"px",left:"0px"};return y.createElement(cT,{fadeDurationInMs:r,isActive:i,isPositionOutside:s,style:QC({},o,h)})};hT.propTypes=uT;var fT=function(e){var t=e.cursorOffset,n=e.position,r=e.fadeDurationInMs,i=e.isActive,s=e.isPositionOutside,a=e.smallImage,o=e.style,l=2*t.y,c=2*t.x,u=a.height-l,d=a.width-c,h={height:l+"px",width:jE(a.width-n.x-t.x,0,d)+"px",top:jE(n.y-t.y,0,u)+"px",right:"0px"};return y.createElement(cT,{fadeDurationInMs:r,isActive:i,isPositionOutside:s,style:QC({},o,h)})};fT.propTypes=uT;var pT=function(e){var t=e.cursorOffset,n=e.position,r=e.fadeDurationInMs,i=e.isActive,s=e.isPositionOutside,a=e.smallImage,o=e.style,l=2*t.y,c=a.height-n.y-t.y,u=a.height-l,d=jE(c,0,u),h=n.y+t.y,f={height:d+"px",width:"100%",top:Math.max(h,l)+"px"};return y.createElement(cT,{fadeDurationInMs:r,isActive:i,isPositionOutside:s,style:QC({},o,f)})};function mT(e){var t=e.style,n=QC({backgroundColor:"rgba(0,0,0,.4)"},t),r=QC({},e,{style:n});return y.createElement("div",null,y.createElement(dT,r),y.createElement(hT,r),y.createElement(fT,r),y.createElement(pT,r))}pT.propTypes=uT,mT.propTypes=uT;var gT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yT=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,g.Component),gT(e,[{key:"render",value:function(){return y.createElement("div",{style:this.compositStyle})}},{key:"dimensions",get:function(){var e=this.props.cursorOffset;return{width:2*e.x,height:2*e.y}}},{key:"positionOffset",get:function(){var e=this.props,t=e.cursorOffset,n=t.x,r=t.y,i=e.position,s=i.x,a=i.y,o=e.smallImage,l=o.height,c=o.width,u=this.dimensions,d=u.width,h=u.height,f=s-n,p=c-d;return{top:jE(a-r,0,l-h),left:jE(f,0,p)}}},{key:"defaultStyle",get:function(){return{transition:"opacity "+this.props.fadeDurationInMs+"ms ease-in",backgroundImage:"url(data:image/gif;base64,R0lGODlhZABkAPABAHOf4fj48yH5BAEAAAEALAAAAABkAGQAAAL+jI+py+0PowOB2oqvznz7Dn5iSI7SiabqWrbj68bwTLL2jUv0Lvf8X8sJhzmg0Yc8mojM5kmZjEKPzqp1MZVqs7Cr98rdisOXr7lJHquz57YwDV8j3XRb/C7v1vcovD8PwicY8VcISDGY2GDIKKf4mNAoKQZZeXg5aQk5yRml+dgZ2vOpKGraQpp4uhqYKsgKi+H6iln7N8sXG4u7p2s7ykvnyxos/DuMWtyGfKq8fAwd5nzGHN067VUtiv2lbV3GDfY9DhQu7p1pXoU+rr5ODk/j7sSePk9Ub33PlN+4jx8v4JJ/RQQa3EDwzcGFiBLi6AfN4UOGCyXegGjIoh0fisQ0rsD4y+NHjgZFqgB5y2Qfks1UPmEZ0OVLlIcKAAA7)"}}},{key:"userSpecifiedStyle",get:function(){return this.props.style}},{key:"isVisible",get:function(){var e=this.props,t=e.isActive,n=e.isPositionOutside;return t&&!n}},{key:"priorityStyle",get:function(){var e=this.dimensions,t=e.width,n=e.height,r=this.positionOffset;return{position:"absolute",top:r.top+"px",left:r.left+"px",width:t+"px",height:n+"px",opacity:this.isVisible?1:0}}},{key:"compositStyle",get:function(){return QC(this.defaultStyle,this.userSpecifiedStyle,this.priorityStyle)}}]),e}();yT.propTypes=uT,yT.defaultProps={style:{}};var vT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var bT=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.hasShown=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,y.Component),vT(e,[{key:"setHasShown",value:function(){this.hasShown=!0}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isActive,r=e.shouldHideAfterFirstActivation,i=this.hasShown,s=!(n||i&&r);return n&&!i&&this.setHasShown(),s?t:null}}]),e}();function _T(e){var t=e.isTouchDetected,n=e.hintTextMouse,r=e.hintTextTouch;return y.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",position:"absolute",bottom:"25px"}},y.createElement("div",{style:{display:"flex",alignItems:"center",padding:"5px 10px",backgroundColor:"#333",borderRadius:"10px",opacity:"0.90"}},y.createElement("img",{style:{width:"25px",height:"25px"},src:"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ5MC4yIDQ5MC4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OTAuMiA0OTAuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTQxOC41LDQxOC41Yzk1LjYtOTUuNiw5NS42LTI1MS4yLDAtMzQ2LjhzLTI1MS4yLTk1LjYtMzQ2LjgsMHMtOTUuNiwyNTEuMiwwLDM0Ni44UzMyMi45LDUxNC4xLDQxOC41LDQxOC41eiBNODksODkgICAgYzg2LjEtODYuMSwyMjYuMS04Ni4xLDMxMi4yLDBzODYuMSwyMjYuMSwwLDMxMi4ycy0yMjYuMSw4Ni4xLTMxMi4yLDBTMywxNzUuMSw4OSw4OXoiIGZpbGw9IiNGRkZGRkYiLz4KCQk8cGF0aCBkPSJNMjQ1LjEsMzM2LjljMy40LDAsNi40LTEuNCw4LjctMy42YzIuMi0yLjIsMy42LTUuMywzLjYtOC43di02Ny4zaDY3LjNjMy40LDAsNi40LTEuNCw4LjctMy42YzIuMi0yLjIsMy42LTUuMywzLjYtOC43ICAgIGMwLTYuOC01LjUtMTIuMy0xMi4yLTEyLjJoLTY3LjN2LTY3LjNjMC02LjgtNS41LTEyLjMtMTIuMi0xMi4yYy02LjgsMC0xMi4zLDUuNS0xMi4yLDEyLjJ2NjcuM2gtNjcuM2MtNi44LDAtMTIuMyw1LjUtMTIuMiwxMi4yICAgIGMwLDYuOCw1LjUsMTIuMywxMi4yLDEyLjJoNjcuM3Y2Ny4zQzIzMi44LDMzMS40LDIzOC4zLDMzNi45LDI0NS4xLDMzNi45eiIgZmlsbD0iI0ZGRkZGRiIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=",alt:""}),y.createElement("span",{style:{padding:"2px 0 0 5px",fontFamily:"Arial, sans-serif",fontSize:"14px",color:"white"}},t?r:n)))}function wT(e,t){return Math.round(e*t/2)}function xT(e){var t,n=e.containerDimension,r=e.smallImageDimension;return e.isInPlaceMode?r:"string"==typeof(t=n)&&/^\d+%$/.test(t)?r*(parseInt(n)/100):n}bT.propTypes={children:oE.element,isActive:oE.bool,shouldHideAfterFirstActivation:oE.bool},bT.defaultProps={shouldHideAfterFirstActivation:!0},_T.displayName="DefaultHint",_T.propTypes={isTouchDetected:oE.bool,hintTextMouse:oE.string,hintTextTouch:oE.string};var kT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ST=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=WC.primaryInput,i=$E,s=qE;return n.state={smallImageWidth:0,smallImageHeight:0,detectedInputType:{isMouseDeteced:r===i,isTouchDetected:r===s}},n.onSmallImageLoad=n.onSmallImageLoad.bind(n),n.setSmallImageDimensionState=n.setSmallImageDimensionState.bind(n),n.onDetectedInputTypeChanged=n.onDetectedInputTypeChanged.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,y.Component),kT(e,[{key:"componentDidMount",value:function(){this.props.smallImage.isFluidWidth&&(this.setSmallImageDimensionState(),window.addEventListener("resize",this.setSmallImageDimensionState))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setSmallImageDimensionState)}},{key:"onSmallImageLoad",value:function(e){var t=this.props.smallImage,n=t.onLoad,r=void 0===n?QE:n,i=t.isFluidWidth;r(e),i&&this.setSmallImageDimensionState()}},{key:"onDetectedInputTypeChanged",value:function(e){this.setState({detectedInputType:e})}},{key:"setSmallImageDimensionState",value:function(){var e=this.smallImageEl,t=e.offsetWidth,n=e.offsetHeight;this.setState({smallImageWidth:t,smallImageHeight:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.style,i=t.hoverDelayInMs,s=t.hoverOffDelayInMs,a=t.isActivatedOnTouch,o=t.pressDuration,l=t.pressMoveThreshold,c=t.smallImage.onError,u=void 0===c?QE:c,d=t.imageClassName,h=t.imageStyle,f=t.lensStyle,p=t.largeImage,m=t.enlargedImageContainerClassName,g=t.enlargedImageContainerStyle,v=t.enlargedImageClassName,b=t.enlargedImageStyle,_=t.enlargedImagePortalId,w=t.isEnlargedImagePortalEnabledForTouch,x=t.fadeDurationInMs,k=t.hintComponent,S=t.isHintEnabled,C=t.hintTextMouse,E=t.hintTextTouch,T=t.shouldHideHintAfterFirstActivation,N=this.smallImage,I=this.state.detectedInputType.isTouchDetected,j=function(e,t,n){var r=function(e,t){return{x:e.width/t.width,y:e.height/t.height}}(e,t);return{x:wT(n.width,r.x),y:wT(n.height,r.y)}}(N,p,this.enlargedImageContainerDimensions),A=this.lensComponent;return y.createElement(EE,{className:n,hoverDelayInMs:i,hoverOffDelayInMs:s,isActivatedOnTouch:a,onDetectedInputTypeChanged:this.onDetectedInputTypeChanged,pressDuration:o,pressMoveThreshold:l,shouldStopTouchMovePropagation:!0,style:eT(N,r)},y.createElement("img",{src:N.src,srcSet:N.srcSet,sizes:N.sizes,alt:N.alt,className:d,style:tT(N,h),ref:function(t){return e.smallImageEl=t},onLoad:this.onSmallImageLoad,onError:u}),S&&y.createElement(bT,{shouldHideAfterFirstActivation:T},y.createElement(k,{isTouchDetected:I,hintTextMouse:C,hintTextTouch:E})),this.shouldShowLens&&y.createElement(A,{cursorOffset:j,fadeDurationInMs:x,smallImage:N,style:f}),y.createElement(lT,{containerClassName:m,containerDimensions:this.enlargedImageContainerDimensions,containerStyle:g,cursorOffset:j,fadeDurationInMs:x,imageClassName:v,imageStyle:b,largeImage:p,smallImage:N,portalId:_,isPortalEnabledForTouch:w,isTouchDetected:this.isTouchDetected,isInPlaceMode:this.isInPlaceMode}))}},{key:"smallImage",get:function(){var e=this.props,t=e.smallImage;if(!e.smallImage.isFluidWidth)return t;var n=this.state,r=n.smallImageWidth,i=n.smallImageHeight;return QC({},t,{width:r,height:i})}},{key:"enlargedImagePlacement",get:function(){var e=this.props.enlargedImagePosition,t=this.state.detectedInputType.isTouchDetected;return e||(t?VE:HE)}},{key:"isInPlaceMode",get:function(){var e=VE;return this.enlargedImagePlacement===e}},{key:"enlargedImageContainerDimensions",get:function(){var e=this.props.enlargedImageContainerDimensions,t=e.width,n=e.height,r=this.smallImage,i=r.width,s=r.height,a=this.isInPlaceMode;return{width:xT({containerDimension:t,smallImageDimension:i,isInPlaceMode:a}),height:xT({containerDimension:n,smallImageDimension:s,isInPlaceMode:a})}}},{key:"isTouchDetected",get:function(){return this.state.detectedInputType.isTouchDetected}},{key:"shouldShowLens",get:function(){return!this.isInPlaceMode&&!this.isTouchDetected}},{key:"lensComponent",get:function(){var e=this.props,t=e.shouldUsePositiveSpaceLens,n=e.lensComponent;return n||(t?yT:mT)}}]),e}();ST.propTypes={className:oE.string,style:oE.object,hoverDelayInMs:oE.number,hoverOffDelayInMs:oE.number,fadeDurationInMs:oE.number,pressDuration:oE.number,pressMoveThreshold:oE.number,isActivatedOnTouch:oE.bool,imageClassName:oE.string,imageStyle:oE.object,lensStyle:oE.object,lensComponent:oE.func,shouldUsePositiveSpaceLens:oE.bool,smallImage:BE,largeImage:UE,enlargedImageContainerClassName:oE.string,enlargedImageContainerStyle:oE.object,enlargedImageClassName:oE.string,enlargedImageStyle:oE.object,enlargedImageContainerDimensions:GE,enlargedImagePosition:WE,enlargedImagePortalId:oE.string,isEnlargedImagePortalEnabledForTouch:oE.bool,hintComponent:oE.func,hintTextMouse:oE.string,hintTextTouch:oE.string,isHintEnabled:oE.bool,shouldHideHintAfterFirstActivation:oE.bool},ST.defaultProps={enlargedImageContainerDimensions:{width:"100%",height:"100%"},isEnlargedImagePortalEnabledForTouch:!1,fadeDurationInMs:300,hintComponent:_T,shouldHideHintAfterFirstActivation:!0,isHintEnabled:!1,hintTextMouse:"Hover to Zoom",hintTextTouch:"Long-Touch to Zoom",hoverDelayInMs:250,hoverOffDelayInMs:150,shouldUsePositiveSpaceLens:!1};const CT="_productTabs_7yo0z_1",ET="_tabButtons_7yo0z_15",TT="_active_7yo0z_55",NT="_tabContent_7yo0z_65",IT="_collapsed_7yo0z_73",jT="_expanded_7yo0z_93",AT="_fadeEffect_7yo0z_143",PT="_tabTitle_7yo0z_185",OT=({descriptionText:e,featuresText:t})=>{const[n,r]=g.useState("description"),[i,s]=g.useState(!1);return d.jsxs("div",{className:CT,children:[d.jsxs("div",{className:ET,children:[d.jsx("button",{className:"description"===n?TT:"",onClick:()=>{r("description"),s(!1)},children:"Description"}),d.jsx("button",{className:"features"===n?TT:"",onClick:()=>{r("features"),s(!1)},children:"Features"})]}),d.jsxs("div",{className:NT,children:[d.jsxs("h3",{className:PT,children:["Product ","description"===n?"Description":"Features",":"]}),d.jsx("p",{className:i?jT:IT,children:"description"===n?e:t}),d.jsx("div",{className:AT,children:d.jsx("button",{onClick:()=>s(!i),children:i?"See less":"See more"})})]})]})},DT={closeButton:"_closeButton_1n59y_51",modalContent:"_modalContent_1n59y_91",googleButton:"_googleButton_1n59y_143",guestButton:"_guestButton_1n59y_149",emailButton:"_emailButton_1n59y_151",divider:"_divider_1n59y_285"},LT=({isOpen:e,onClose:t})=>{const n=$r(),[r,i]=g.useState(!1),[s,a]=g.useState("");return e?d.jsx("div",{className:DT.modalOverlay,children:d.jsxs("div",{className:DT.modalContent,children:[d.jsx("button",{className:DT.closeButton,onClick:t,children:""}),d.jsx("h2",{children:"Sign In to Continue"}),d.jsx("p",{children:"Please sign in to complete your purchase"}),s&&d.jsx("div",{className:DT.errorMessage,children:s}),d.jsxs("button",{className:DT.googleButton,onClick:async()=>{i(!0),a("");try{const{user:e,error:n}=await Yw();n?(a(n.message),Kt.error(n.message||"Failed to sign in with Google. Please try again.")):e&&t()}catch(e){const t="Failed to sign in with Google. Please try again.";a(t),Kt.error(t),console.error(e)}finally{i(!1)}},disabled:r,children:[d.jsx(ux,{size:20}),d.jsx("span",{children:"Continue with Google"})]}),d.jsx("div",{className:DT.divider,children:d.jsx("span",{children:"or"})}),d.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),a("");const n=e.target.email.value,r=e.target.password.value;try{const{user:e,error:i}=await Qw(n,r);i?(a(i.message),Kt.error(i.message||"Failed to sign in. Please check your credentials.")):e&&t()}catch(s){const e="Failed to sign in. Please check your credentials and try again.";a(e),Kt.error(e),console.error(s)}finally{i(!1)}},children:[d.jsx("input",{type:"email",name:"email",placeholder:"Email",required:!0,disabled:r}),d.jsx("input",{type:"password",name:"password",placeholder:"Password",required:!0,disabled:r}),d.jsx("button",{type:"submit",className:DT.emailButton,disabled:r,children:r?"Signing in...":"Sign In with Email"})]}),d.jsx("div",{className:DT.divider,children:d.jsx("span",{children:"or"})}),d.jsx("button",{className:DT.guestButton,onClick:()=>{localStorage.setItem("isGuestUser","true"),n(Yx(!0)),t()},disabled:r,children:"Continue as Guest"})]})}):null},RT="_overlay_18fvz_1",MT="_hidden_18fvz_25",zT="_visible_18fvz_35",FT="_sidebar_18fvz_45",UT="_header_18fvz_95",BT="_title_18fvz_113",$T="_cartIcon_18fvz_131",qT="_cartCount_18fvz_141",VT="_closeButton_18fvz_163",HT="_cartItemsContainer_18fvz_211",WT="_cartItem_18fvz_211",GT="_imageContainer_18fvz_287",KT="_itemImage_18fvz_305",QT="_itemDetails_18fvz_329",YT="_itemHeader_18fvz_347",XT="_itemName_18fvz_363",JT="_itemPrice_18fvz_387",ZT="_itemMeta_18fvz_405",eN="_itemColor_18fvz_461",tN="_colorLabel_18fvz_475",nN="_colorSwatch_18fvz_491",rN="_itemActions_18fvz_507",iN="_removeButton_18fvz_521",sN="_itemCheckoutButton_18fvz_561",aN="_emptyCart_18fvz_599",oN="_emptyCartIcon_18fvz_619",lN="_emptyCartMessage_18fvz_633",cN="_emptyCartDesc_18fvz_649",uN="_footer_18fvz_665",dN="_subtotal_18fvz_677",hN="_buttonGroup_18fvz_697",fN="_checkoutButton_18fvz_709",pN="_viewCartButton_18fvz_751",mN="_quantityControl_18fvz_789",gN="_quantityAdjuster_18fvz_801",yN="_quantityBtn_18fvz_821",vN="_quantityValue_18fvz_867",bN=({isOpen:e,onClose:t})=>{const n=$r(),r=Ee(),{cartItems:i}=Hr(e=>e.cart);g.useEffect(()=>{const n=n=>{27===n.keyCode&&e&&t()};return document.addEventListener("keydown",n),document.body.style.overflow=e?"hidden":"auto",()=>{document.removeEventListener("keydown",n),document.body.style.overflow="auto"}},[e,t]);const s=i.reduce((e,t)=>e+Number(null==t?void 0:t.price.replace(/AED\s?|,/g,""))*Number(null==t?void 0:t.quantity),0),a=(e,t,r,i)=>{i>=1&&n(Nx({id:e,size:t,color:r,quantity:i}))};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`${RT} ${e?zT:MT}`,onClick:t}),d.jsxs("div",{className:`${FT} ${e?zT:MT}`,children:[d.jsxs("div",{className:UT,children:[d.jsxs("h2",{className:BT,children:[d.jsx(Iw,{className:$T})," Cart",d.jsxs("span",{className:qT,children:[i.length," ",1===i.length?"item":"items"]})]}),d.jsx("button",{onClick:t,className:VT,"aria-label":"Close cart",children:d.jsx(d_,{})})]}),d.jsx("div",{className:HT,children:i.length>0?i.map(e=>d.jsxs("div",{className:WT,children:[d.jsx("div",{className:GT,children:d.jsx("img",{src:e.image,alt:e.name,className:KT})}),d.jsxs("div",{className:QT,children:[d.jsxs("div",{className:YT,children:[d.jsx("h3",{className:XT,children:e.name}),d.jsxs("p",{className:JT,children:["AED"," ",Number(null==e?void 0:e.price.replace(/AED\s?|,/g,"")).toLocaleString()]})]}),d.jsxs("div",{className:ZT,children:[d.jsxs("p",{children:[d.jsx("span",{children:"Size:"}),"",d.jsx("span",{children:e.size})]}),d.jsxs("div",{className:mN,children:[d.jsx("span",{children:"Qty:"}),"",d.jsxs("div",{className:gN,children:[d.jsx("button",{className:yN,onClick:()=>a(e.id,e.size,e.color,e.quantity-1),disabled:e.quantity<=1,"aria-label":"Decrease quantity",children:d.jsx(xw,{size:8})}),d.jsx("span",{className:vN,children:e.quantity}),d.jsx("button",{className:yN,onClick:()=>a(e.id,e.size,e.color,e.quantity+1),"aria-label":"Increase quantity",children:d.jsx(Cw,{size:8})})]})]})]}),e.displayColor&&d.jsxs("div",{className:eN,children:[d.jsx("span",{className:tN,children:"Color:"}),e.displayColor.startsWith("linear-gradient")?d.jsx("span",{className:nN,style:{background:e.displayColor},title:e.color}):d.jsx("span",{className:nN,style:{backgroundColor:e.displayColor},title:e.color})]}),d.jsxs("div",{className:rN,children:[d.jsxs("button",{type:"button",className:iN,onClick:()=>{return t=e.id,r=e.size,i=e.color,void n(Tx({id:t,size:r,color:i}));var t,r,i},title:"Remove from cart",children:[d.jsx(Aw,{size:10,style:{marginRight:"3px"}}),"Remove"]}),d.jsxs("button",{onClick:()=>(e=>{n(Dx()),n(Ax(e)),t(),r("/buy"),window.scrollTo(0,0)})(e),className:sN,title:"Proceed to checkout with this item",children:["Checkout",d.jsx(uw,{size:10,style:{marginLeft:"3px"}})]})]})]})]},`${e.id}-${e.size}-${e.color}-sidebar`)):d.jsxs("div",{className:aN,children:[d.jsx(Iw,{className:oN}),d.jsx("p",{className:lN,children:"Your cart is empty"}),d.jsx("p",{className:cN,children:"Add items to your cart to see them here"}),d.jsx("button",{onClick:()=>{t()},className:fN,children:"Continue Shopping"})]})}),i.length>0&&d.jsxs("div",{className:uN,children:[d.jsxs("div",{className:dN,children:[d.jsx("p",{children:"Subtotal"}),d.jsxs("p",{children:["AED ",s.toLocaleString()]})]}),d.jsxs("div",{className:hN,children:[d.jsx("button",{onClick:()=>{n(Dx()),i.forEach(e=>{n(Ax(e))}),t(),r("/buy"),window.scrollTo(0,0)},className:fN,children:"Checkout All"}),d.jsx("button",{onClick:()=>{t(),r("/cart"),window.scrollTo(0,0)},className:pN,children:"View Cart"})]})]})]})]})},_N=({onBuyNow:e})=>{const t=$r(),n=Ee(),{search:r}=ke(),i=new URLSearchParams(r).get("id"),s=tk()||{},{isAuthenticated:a=!1,currentUser:o=null}=s,l=Hr(e=>e.favorites.favorites),{isCached:c,addToCache:u,preloadImages:h}=wr(),[f,p]=g.useState(""),[m,v]=g.useState(""),[b,_]=g.useState(""),[w,x]=g.useState(1),[k,S]=g.useState(!1),[C,E]=g.useState(0),[T,N]=g.useState(null),[I,j]=g.useState(!1),[A,P]=g.useState(!1),[O,D]=g.useState(null),[L,R]=g.useState(!0),[M,z]=g.useState(!1),F=g.useCallback(()=>{const e=window.innerWidth<=768;j(e)},[]);g.useEffect(()=>(F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)),[F]),g.useEffect(()=>{i&&(async()=>{try{R(!0);const e=await eg(em(gb,"products",i));if(e.exists()){const t={id:e.id,...e.data(),price:e.data().price?`AED ${e.data().price}`:"Price not available",images:e.data().images||["/images/placeholder.jpg"],sizes:e.data().sizes||["S","M","L"],colors:e.data().colors||["4293673269"],description:e.data().description||"",features:e.data().features||"",image_descriptions:e.data().image_descriptions||["Product Image"],color_palettes:e.data().color_palettes?e.data().color_palettes.map(e=>e.split(",").map(e=>parseInt(e.trim()))):[]};t.images&&t.images.length>0&&h(t.images),N(t),p(t.images[0]),v(t.sizes[0]),t.colors.length>0&&_(t.colors[0]),R(!1)}else R(!1)}catch(e){console.error("Error fetching product:",e),R(!1)}})()},[i]),g.useEffect(()=>{if(A&&T&&T.images&&T.images.length>1){const e=setInterval(()=>{const e=(T.images.indexOf(f)+1)%T.images.length;p(T.images[e])},3e3);return D(e),()=>clearInterval(e)}O&&(clearInterval(O),D(null))},[A,T,f,O]),g.useEffect(()=>()=>{O&&clearInterval(O)},[O]),g.useEffect(()=>{(async()=>{if(i)if(a&&o){const{isFavorite:e}=await(async(e,t)=>{try{const n=Rm(Zp(gb,"users",e,"favorites"),zm("productId","==",t)),r=await ng(n);return{isFavorite:!r.empty,favoriteId:r.empty?null:r.docs[0].id}}catch(n){return console.error("Error checking favorite status:",n),{error:n.message||"Failed to check favorite status",isFavorite:!1}}})(o.uid,i);z(e)}else{const e=l.some(e=>e.id===i||e.productId===i);z(e)}})()},[i,a,o,l]),g.useEffect(()=>{const t=localStorage.getItem("pendingBuyProduct");if(t&&(a||"true"===localStorage.getItem("isGuestUser"))){const n=JSON.parse(t);e(n),localStorage.removeItem("pendingBuyProduct"),localStorage.removeItem("isGuestUser")}},[a,e]);const[U,B]=y.useState(!1),$=e=>{E(e),S(!0),P(!1)};return L?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:PC.container,children:[d.jsxs("div",{className:PC.imageSection,children:[d.jsx("div",{className:PC.thumbnailContainer,children:[1,2,3,4].map((e,t)=>d.jsx("div",{className:`${PC.thumbnail} ${PC.shimmer}`},t))}),d.jsx("div",{className:PC.mainImageContainer,children:d.jsx("div",{className:`${PC.mainImage} ${PC.shimmer}`})})]}),d.jsxs("div",{className:PC.detailsSection,children:[d.jsx("div",{className:`${PC.title} ${PC.shimmer}`,style:{width:"70%",height:"32px"}}),d.jsx("div",{className:`${PC.price} ${PC.shimmer}`,style:{width:"30%",height:"24px",marginTop:"10px"}}),d.jsxs("div",{className:PC.optionGroup,style:{marginTop:"20px"},children:[d.jsx("div",{className:`${PC.shimmer}`,style:{width:"40%",height:"18px"}}),d.jsx("div",{className:PC.sizes,style:{marginTop:"10px"},children:[1,2,3,4].map((e,t)=>d.jsx("div",{className:`${PC.shimmer}`,style:{width:"40px",height:"40px",borderRadius:"50%",display:"inline-block",margin:"0 5px"}},t))})]}),d.jsxs("div",{className:PC.optionGroup,style:{marginTop:"20px"},children:[d.jsx("div",{className:`${PC.shimmer}`,style:{width:"40%",height:"18px"}}),d.jsx("div",{className:PC.colors,style:{marginTop:"10px"},children:[1,2,3].map((e,t)=>d.jsx("div",{className:`${PC.shimmer}`,style:{width:"30px",height:"30px",borderRadius:"50%",display:"inline-block",margin:"0 5px"}},t))})]}),d.jsxs("div",{className:PC.optionGroup,style:{marginTop:"20px"},children:[d.jsx("div",{className:`${PC.shimmer}`,style:{width:"40%",height:"18px"}}),d.jsx("div",{className:`${PC.shimmer}`,style:{width:"120px",height:"25px",marginTop:"10px"}})]}),d.jsxs("div",{className:PC.actionButtons,children:[d.jsx("div",{className:`${PC.shimmer}`,style:{width:"100%",height:"50px",marginTop:"20px"}}),d.jsx("div",{className:`${PC.shimmer}`,style:{width:"100%",height:"50px",marginTop:"10px"}})]})]})]}),d.jsx("div",{style:{maxWidth:"1280px",margin:"0 auto",width:"90%",padding:"20px 0"},children:d.jsx("div",{className:PC.shimmer,style:{width:"100%",height:"200px",borderRadius:"4px"}})})]}):T?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:PC.container,children:[d.jsxs("div",{className:PC.imageSection,children:[d.jsx("div",{className:PC.thumbnailContainer,children:T.images.map((e,t)=>d.jsx(Uw,{src:e,alt:T.image_descriptions[t]??T.name,className:`${PC.thumbnail} ${f===e?PC.active:""}`,onClick:()=>(e=>{p(e),A&&P(!1)})(e),onError:e=>{e.target.src="/images/placeholder.jpg"},lazy:!0,quality:"medium"},t))}),d.jsxs("div",{className:PC.mainImageContainer,children:[I?d.jsx("img",{src:f,alt:T.image_descriptions[T.images.indexOf(f)]??T.name,className:PC.mainImage,onClick:()=>$(T.images.indexOf(f)),onError:e=>{e.target.src="/images/placeholder.jpg"}}):d.jsx("div",{onClick:()=>{$(T.images.indexOf(f))},style:{width:"120%",height:"100%"},children:d.jsx(ST,{smallImage:{alt:T.image_descriptions[T.images.indexOf(f)]??T.name,isFluidWidth:!0,src:f,className:"magnifyImage",onError:e=>{console.error(`Error loading small image: ${f}`),e.target.src="/images/placeholder.jpg"},onLoad:()=>{c(f)||u(f)},crossOrigin:"anonymous"},largeImage:{src:f,width:1800,height:2400,crossOrigin:"anonymous"},enlargedImageContainerDimensions:{width:"120%",height:"100%"},enlargedImageContainerStyle:{zIndex:999,boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},enlargedImagePosition:"over",hoverDelayInMs:0,hoverOffDelayInMs:0,shouldHideHintAfterFirstActivation:!0,isHintEnabled:!0,hintTextMouse:"Hover to zoom",style:{cursor:"crosshair",width:"100%",height:"100%"},className:PC.imageZoom,enlargedImageClassName:PC.enlargedImage,lensStyle:{border:"1px solid #E6994B",backgroundColor:"rgba(230, 153, 75, 0.15)"},pressDuration:0,enlargedImageContainerClassName:PC.enlargedImageContainer})}),d.jsx("button",{className:PC.slideControlButton,onClick:()=>{P(e=>!e)},title:A?"Pause slideshow":"Play slideshow",children:A?d.jsx(kw,{}):d.jsx(Sw,{})})]})]}),d.jsxs("div",{className:PC.detailsSection,children:[d.jsx("h1",{className:PC.title,children:null==T?void 0:T.name}),d.jsx("p",{className:PC.price,children:null==T?void 0:T.price}),d.jsxs("div",{className:PC.optionGroup,children:[d.jsx("p",{children:"Size:"}),d.jsx("div",{className:PC.sizes,children:T.sizes.map(e=>d.jsx("button",{className:`${PC.sizeButton} ${m===e?PC.selected:""}`,onClick:()=>v(e),children:e},e))})]}),d.jsxs("div",{className:PC.optionGroup,children:[d.jsx("p",{children:"Colors:"}),d.jsxs("div",{className:PC.colors,children:[T.colors.map(e=>{let t;const n=String(e);if(n.startsWith("#"))t=n;else try{const e=parseInt(n),r=e>>8&255,i=255&e;t=`#${(e>>16&255).toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}catch(uD){t="#000000",console.error("Error parsing color code:",uD)}return d.jsx("button",{className:`${PC.colorButton} ${b===e?PC.selected:""}`,style:{backgroundColor:t},onClick:()=>_(e)},e)}),T.color_palettes&&T.color_palettes.length>0&&T.color_palettes.map((e,t)=>{const n=`linear-gradient(90deg, ${e.map(e=>{const t=String(e);if(t.startsWith("#"))return t;try{const e=parseInt(t),n=e>>8&255,r=255&e;return`#${(e>>16&255).toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`}catch{return"#000000"}}).join(", ")})`,r=JSON.stringify(e.map(String));return d.jsx("button",{className:`${PC.colorButton} ${b===r?PC.selected:""}`,style:{background:n},onClick:()=>_(r)},r)})]})]}),d.jsxs("div",{className:PC.optionGroup,children:[d.jsx("p",{children:"Quantity:"}),d.jsxs("div",{className:PC.quantitySelector,children:[d.jsx("button",{onClick:()=>x(e=>Math.max(1,e-1)),children:"-"}),d.jsx("span",{children:w}),d.jsx("button",{onClick:()=>x(e=>e+1),children:"+"})]})]}),d.jsxs("div",{className:PC.actionButtons,children:[d.jsx("button",{className:PC.addToCart,onClick:()=>{if(!m||!b)return void Kt.error("Please select both size and color",{style:{fontWeight:500}});let e=b;const n=String(b);if(n.startsWith("["))try{const t=JSON.parse(n).map(String);e=`linear-gradient(90deg, ${t.map(e=>{const t=String(e);if(t.startsWith("#"))return t;const n=parseInt(t),r=n>>8&255,i=255&n;return`#${(n>>16&255).toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}).join(", ")})`}catch(uD){e="#000000"}else if(!n.startsWith("#"))try{const t=parseInt(n),r=t>>8&255,i=255&t;e=`#${(t>>16&255).toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}catch(uD){console.error("Error parsing color code",uD)}const r={id:T.id,name:T.name,price:T.price,image:f,size:m,color:b,displayColor:e,quantity:w};t(Ex(r)),B(!0),Kt.success(`${T.name} has been added to your cart${w>1?` (${w})`:""}`,{style:{fontWeight:500}})},children:"ADD TO CART"}),d.jsxs("button",{onClick:()=>{T&&(a&&o?M?(t(Bx({userId:o.uid,productId:i})),Kt.success("Removed from favorites"),console.log(`Removed product ${i} from favorites`)):(t(Ux({userId:o.uid,product:{id:T.id,name:T.name,price:T.price,image:T.images[0]}})),Kt.success("Added to favorites"),console.log("Added product to favorites:",T)):M?(t(Hx(i)),Kt.success("Removed from favorites"),console.log(`Removed product ${i} from favorites`)):(t(Vx({id:T.id,name:T.name,price:T.price,image:T.images[0],productId:T.id})),Kt.success("Added to favorites"),console.log("Added product to favorites:",T)),console.log("Current favorites:",l),z(!M))},className:`${PC.favoriteButton}`,title:M?"Remove from favorites":"Add to favorites",children:[d.jsx(P_,{size:18,filled:M,color:M?"#e6994b":"currentColor"}),d.jsx("span",{children:M?"REMOVE FAVORITE":"ADD TO FAVORITE"})]})]})]}),k&&d.jsxs("div",{className:PC.carouselOverlay,children:[d.jsx("button",{className:PC.closeButton,onClick:()=>{S(!1)},children:d.jsx(LC,{size:40})}),d.jsx("button",{className:`${PC.navButton} ${PC.prevButton}`,onClick:()=>{E(e=>0===e?T.images.length-1:e-1)},children:d.jsx(DC,{size:40})}),d.jsx("div",{className:PC.carouselImageContainer,children:d.jsx("img",{src:T.images[C],alt:T.image_descriptions[C]??T.name,className:PC.carouselImage,onError:e=>{e.target.src="/images/placeholder.jpg"},priority:!0,quality:"high",blur:!1,style:{maxHeight:"90vh",width:"auto",objectFit:"contain",margin:"0 auto",display:"block",backgroundColor:"transparent",boxShadow:"none",border:"none"}})}),d.jsx("button",{className:`${PC.navButton} ${PC.nextButton}`,onClick:()=>{E(e=>e===T.images.length-1?0:e+1)},children:d.jsx(OC,{size:40})})]})]}),d.jsx(OT,{descriptionText:T.description||"",featuresText:T.features||""}),d.jsx(bN,{isOpen:U,onClose:()=>{B(!1)}})]}):d.jsx("div",{className:PC.container,children:d.jsxs("div",{className:PC.errorContainer,children:[d.jsx("h2",{children:"Product Not Found"}),d.jsx("p",{children:"The product you are looking for does not exist."}),d.jsx("button",{className:PC.backButton,onClick:()=>n("/shop"),children:"Back to Shop"})]})})},wN="_relatedProductsContainer_1xxrz_1",xN="_relatedProductsTitle_1xxrz_15",kN="_relatedProducts_1xxrz_1",SN="_shimmerCard_1xxrz_97",CN="_shimmerImage_1xxrz_115",EN="_shimmerTitle_1xxrz_133",TN="_shimmerPrice_1xxrz_151",NN=()=>{const{search:e}=ke(),t=new URLSearchParams(e).get("id"),[n,r]=g.useState([]),[i,s]=g.useState(!0);return g.useEffect(()=>{t&&(async()=>{try{let e=null;const n=await ng(Rm(Zp(gb,"products"),zm("__name__","==",t)));let i;n.empty||(e=n.docs[0].data().collection_id),i=e?Rm(Zp(gb,"products"),zm("collection_id","==",e),zm("__name__","!=",t),qm(4)):Rm(Zp(gb,"products"),zm("__name__","!=",t),qm(4));const a=await ng(i);if(a.empty&&e){const e=Rm(Zp(gb,"products"),zm("__name__","!=",t),qm(4)),n=(await ng(e)).docs.map(e=>({id:e.id,...e.data(),image:e.data().images&&e.data().images.length>0?e.data().images[0]:"/images/placeholder.jpg",hoverImage:e.data().images&&e.data().images.length>1?e.data().images[1]:e.data().images&&e.data().images.length>0?e.data().images[0]:"/images/placeholder.jpg",price:e.data().price?`AED ${e.data().price}`:"Price not available"}));r(n)}else{const e=a.docs.map(e=>({id:e.id,...e.data(),image:e.data().images&&e.data().images.length>0?e.data().images[0]:"/images/placeholder.jpg",hoverImage:e.data().images&&e.data().images.length>1?e.data().images[1]:e.data().images&&e.data().images.length>0?e.data().images[0]:"/images/placeholder.jpg",price:e.data().price?`AED ${e.data().price}`:"Price not available"}));r(e)}s(!1)}catch(e){console.error("Error fetching related products:",e),s(!1)}})()},[t]),i?d.jsxs("div",{className:wN,children:[d.jsx("h1",{className:xN,children:"Similar Products"}),d.jsx("div",{className:kN,children:[...Array(4)].map((e,t)=>d.jsxs("div",{className:SN,children:[d.jsx("div",{className:CN}),d.jsx("div",{className:EN}),d.jsx("div",{className:TN})]},t))})]}):0===n.length?null:d.jsxs("div",{className:wN,children:[d.jsx("h1",{className:xN,children:"Similar Products"}),d.jsx("div",{className:kN,children:n.map(e=>d.jsx(Bw,{product:e},e.id))})]})},IN="_productContainer_ppllp_1",jN=()=>{const e=$r(),t=Ee();return d.jsxs("div",{className:IN,children:[d.jsx(_N,{onBuyNow:n=>{e(Ex({...n,quantity:1})),t("/buy")}}),d.jsx(NN,{})]})},AN={cartProductContainer:"_cartProductContainer_11k7w_1",cartProduct:"_cartProduct_11k7w_1",imagePlaceholder:"_imagePlaceholder_11k7w_51",productDetailsContainer:"_productDetailsContainer_11k7w_83",productDetails:"_productDetails_11k7w_83",productName:"_productName_11k7w_113",productInfo:"_productInfo_11k7w_135",priceInfo:"_priceInfo_11k7w_159",priceDetails:"_priceDetails_11k7w_175",priceLabel:"_priceLabel_11k7w_189",price:"_price_11k7w_159",totalDetails:"_totalDetails_11k7w_229",totalLabel:"_totalLabel_11k7w_243",total:"_total_11k7w_229",removeButton:"_removeButton_11k7w_269",removeButtonIcon:"_removeButtonIcon_11k7w_301",itemCheckoutButton:"_itemCheckoutButton_11k7w_311",emptyCartContainer:"_emptyCartContainer_11k7w_383",emptyCartIcon:"_emptyCartIcon_11k7w_437",emptyCartText:"_emptyCartText_11k7w_453",emptyCartSubText:"_emptyCartSubText_11k7w_469",shopNowButton:"_shopNowButton_11k7w_487",cartFooter:"_cartFooter_11k7w_615",cartCheckout:"_cartCheckout_11k7w_633",cartTotal:"_cartTotal_11k7w_635",checkoutBtn:"_checkoutBtn_11k7w_667",delBtn:"_delBtn_11k7w_669",cartFooterDivider:"_cartFooterDivider_11k7w_739",continueShopping:"_continueShopping_11k7w_787",mobileCartGrid:"_mobileCartGrid_11k7w_809",mobileCartProduct:"_mobileCartProduct_11k7w_825",mobileImageContainer:"_mobileImageContainer_11k7w_849",mobileProductImage:"_mobileProductImage_11k7w_861",mobileProductHeader:"_mobileProductHeader_11k7w_873",mobileProductName:"_mobileProductName_11k7w_887",mobileRemoveButton:"_mobileRemoveButton_11k7w_901",mobileDivider:"_mobileDivider_11k7w_915",mobileProductDetails:"_mobileProductDetails_11k7w_931",mobileSpecRow:"_mobileSpecRow_11k7w_945",mobilePriceRow:"_mobilePriceRow_11k7w_959",mobileTotalRow:"_mobileTotalRow_11k7w_969",mobileCartActions:"_mobileCartActions_11k7w_987",checkoutButtonContainer:"_checkoutButtonContainer_11k7w_1039",mobileCheckoutBtn:"_mobileCheckoutBtn_11k7w_1053",quantityControl:"_quantityControl_11k7w_1145",quantityLabel:"_quantityLabel_11k7w_1159",quantityAdjuster:"_quantityAdjuster_11k7w_1173",quantityBtn:"_quantityBtn_11k7w_1189",quantityValue:"_quantityValue_11k7w_1235",mobileQuantityRow:"_mobileQuantityRow_11k7w_1257"},PN=()=>{const e=Ee(),t=$r(),{cartItems:n}=Hr(e=>e.cart),[r,i]=g.useState(window.innerWidth>920);g.useEffect(()=>{const e=()=>{i(window.innerWidth>920)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const s=(e,n,r)=>{t(Tx({id:e,size:n,color:r}))},a=(e,n,r,i)=>{i>=1&&t(Nx({id:e,size:n,color:r,quantity:i}))},o=n.reduce((e,t)=>e+Number(null==t?void 0:t.price.replace(/AED\s?|,/g,""))*Number(null==t?void 0:t.quantity),0),l=n=>{console.log(`this is the item ${JSON.stringify(n)}`),t(Dx()),t(Ax(n)),e("/buy"),window.scrollTo(0,0)},{selectedCartItems:c}=Hr(e=>e.cart);console.log(`this is the selectedCartItems ${c}`);return d.jsxs("div",{className:AN.cartProductContainer,children:[n.length>0?d.jsx(d.Fragment,{children:r?n.map(e=>(e=>d.jsxs("div",{className:AN.cartProduct,children:[d.jsx("div",{className:AN.imagePlaceholder,children:d.jsx(Uw,{src:e.image,alt:e.name,className:AN.productImage,lazy:!0,quality:"medium"})}),d.jsxs("div",{className:AN.productDetailsContainer,children:[d.jsxs("div",{className:AN.productDetails,children:[d.jsx("p",{className:AN.productName,children:e.name}),d.jsxs("div",{className:AN.productInfo,children:[d.jsxs("p",{children:["Color:",e.displayColor&&e.displayColor.startsWith("linear-gradient")?d.jsx("span",{style:{display:"inline-block",width:"18px",height:"18px",marginLeft:"5px",borderRadius:"50%",background:e.displayColor,border:"1px solid #ccc",verticalAlign:"middle"},title:e.color}):e.displayColor?d.jsx("span",{style:{display:"inline-block",width:"18px",height:"18px",marginLeft:"5px",borderRadius:"50%",backgroundColor:e.displayColor,border:"1px solid #ccc",verticalAlign:"middle"},title:e.color}):e.color||"Blue"]}),d.jsxs("p",{children:["Size: ",e.size]})]})]}),d.jsxs("div",{className:AN.priceInfo,children:[d.jsxs("div",{className:AN.priceDetails,children:[d.jsx("p",{className:AN.priceLabel,children:"Price"}),d.jsxs("p",{className:AN.price,children:["AED ",null==e?void 0:e.price]}),d.jsxs("div",{className:AN.quantityControl,children:[d.jsx("p",{className:AN.quantityLabel,children:"Quantity"}),d.jsxs("div",{className:AN.quantityAdjuster,children:[d.jsx("button",{className:AN.quantityBtn,onClick:()=>a(e.id,e.size,e.color,e.quantity-1),disabled:e.quantity<=1,"aria-label":"Decrease quantity",children:d.jsx(xw,{size:10})}),d.jsx("span",{className:AN.quantityValue,children:e.quantity}),d.jsx("button",{className:AN.quantityBtn,onClick:()=>a(e.id,e.size,e.color,e.quantity+1),"aria-label":"Increase quantity",children:d.jsx(Cw,{size:10})})]})]})]}),d.jsxs("div",{className:AN.totalDetails,children:[d.jsx("p",{className:AN.totalLabel,children:"Total"}),d.jsxs("p",{className:AN.total,children:["AED"," ",(Number(null==e?void 0:e.price.replace(/AED\s?|,/g,""))*Number(null==e?void 0:e.quantity)).toLocaleString()]})]}),d.jsx("div",{className:AN.checkoutButtonContainer,children:d.jsx("button",{className:AN.itemCheckoutButton,onClick:()=>l(e),children:"Checkout"})})]})]}),d.jsx("button",{className:AN.removeButton,onClick:()=>s(e.id,e.size,e.color),children:d.jsx("img",{className:AN.removeButtonIcon,src:"/images/delete-icon.png",alt:"Remove"})})]},`${e.id}-${e.size}-${e.color}-desktop`))(e)):d.jsx("div",{className:AN.mobileCartGrid,children:n.map(e=>(e=>d.jsxs("div",{className:AN.mobileCartProduct,children:[d.jsx("div",{className:AN.mobileImageContainer,children:d.jsx(Uw,{src:e.image,alt:e.name,className:AN.mobileProductImage,lazy:!0,quality:"medium"})}),d.jsxs("div",{className:AN.mobileProductHeader,children:[d.jsx("h3",{className:AN.mobileProductName,children:e.name}),d.jsx("button",{className:AN.mobileRemoveButton,onClick:()=>s(e.id,e.size,e.color),children:d.jsx("img",{className:AN.removeButtonIcon,src:"/images/delete-icon.png",alt:"Remove"})})]}),d.jsx("hr",{className:AN.mobileDivider}),d.jsxs("div",{className:AN.mobileProductDetails,children:[d.jsxs("div",{className:AN.mobileSpecRow,children:[d.jsxs("span",{children:["Color:",e.displayColor&&e.displayColor.startsWith("linear-gradient")?d.jsx("span",{style:{display:"inline-block",width:"18px",height:"18px",marginLeft:"5px",borderRadius:"50%",background:e.displayColor,border:"1px solid #ccc",verticalAlign:"middle"},title:e.color}):e.displayColor?d.jsx("span",{style:{display:"inline-block",width:"18px",height:"18px",marginLeft:"5px",borderRadius:"50%",backgroundColor:e.displayColor,border:"1px solid #ccc",verticalAlign:"middle"},title:e.color}):e.color||"Blue"]}),d.jsxs("span",{children:["Size: ",e.size]})]}),d.jsxs("div",{className:AN.mobileQuantityRow,children:[d.jsx("span",{children:"Quantity:"}),d.jsxs("div",{className:AN.quantityAdjuster,children:[d.jsx("button",{className:AN.quantityBtn,onClick:()=>a(e.id,e.size,e.color,e.quantity-1),disabled:e.quantity<=1,"aria-label":"Decrease quantity",children:d.jsx(xw,{size:8})}),d.jsx("span",{className:AN.quantityValue,children:e.quantity}),d.jsx("button",{className:AN.quantityBtn,onClick:()=>a(e.id,e.size,e.color,e.quantity+1),"aria-label":"Increase quantity",children:d.jsx(Cw,{size:8})})]})]}),d.jsx("div",{className:AN.mobilePriceRow,children:d.jsxs("span",{children:["Price: AED ",null==e?void 0:e.price.toLocaleString()]})}),d.jsx("div",{className:AN.mobileTotalRow,children:d.jsxs("span",{children:["Total: AED"," ",(Number(null==e?void 0:e.price.replace(/AED\s?|,/g,""))*Number(null==e?void 0:e.quantity)).toLocaleString()]})})]}),d.jsx("hr",{className:AN.mobileDivider}),d.jsx("div",{className:AN.mobileCartActions,children:d.jsx("button",{className:AN.mobileCheckoutBtn,onClick:()=>l(e),children:"Checkout"})})]},`${e.id}-${e.size}-${e.color}-mobile`))(e))})}):d.jsxs("div",{className:AN.emptyCartContainer,children:[d.jsx(Iw,{className:AN.emptyCartIcon}),d.jsx("h2",{className:AN.emptyCartText,children:"Your Cart is Empty"}),d.jsx("p",{className:AN.emptyCartSubText,children:"Discover our collection of handcrafted products and add your favorites to cart."}),d.jsx("button",{className:AN.shopNowButton,onClick:()=>{e("/shop"),window.scrollTo(0,0)},children:"Browse Collection"})]}),d.jsxs("div",{className:AN.cartFooter,children:[d.jsxs("div",{className:AN.cartTotal,children:[d.jsx("p",{children:"Subtotal"}),n.length>0&&d.jsxs("p",{children:["AED ",o.toLocaleString()]})]}),d.jsxs("div",{className:AN.cartCheckout,children:[d.jsx("button",{className:AN.checkoutBtn,onClick:()=>(t(Dx()),n.forEach(e=>{t(Ax(e))}),e("/buy"),void window.scrollTo(0,0)),children:"Checkout All"}),d.jsx("button",{onClick:()=>{t(Ix())},className:AN.delBtn,children:"Delete All"})]})]}),d.jsx("hr",{className:AN.cartFooterDivider}),d.jsx("div",{className:AN.cartCheckout,children:d.jsx("button",{onClick:()=>{e("/shop"),window.scrollTo(0,0)},className:AN.continueShopping,children:"Continue Shopping"})})]})},ON={cartTitle:"_cartTitle_1xqep_1"},DN=()=>{const{cartItems:e}=Hr(e=>e.cart),t={title:"Shopping Cart | Origin By The Sea",description:"Review your selected sustainable fashion items and complete your purchase.",canonicalUrl:"https://originsbythesea.com/cart",type:"website",pageType:"CheckoutPage",schema:{"@context":"https://schema.org","@type":"CheckoutPage",name:"Shopping Cart",description:"Review and checkout your selected items",url:"https://originsbythesea.com/cart",hasPart:null==e?void 0:e.map(e=>{var t;return{"@type":"Product",name:e.name,image:null==(t=e.images)?void 0:t[0],quantity:e.quantity,offers:{"@type":"Offer",price:e.price,priceCurrency:"AED"}}})}};return d.jsxs(d.Fragment,{children:[d.jsx(Hw,{...t}),d.jsxs("div",{className:ON.cartContainer,children:[d.jsx("h1",{className:ON.cartTitle,children:"Shopping Cart"}),d.jsx(PN,{})]})]})};var LN,RN,MN,zN,FN,UN={exports:{}};function BN(){if(RN)return LN;RN=1;return LN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function $N(){if(zN)return MN;zN=1;var e=BN();function t(){}function n(){}return n.resetWarningCache=t,MN=function(){function r(t,n,r,i,s,a){if(a!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function i(){return r}r.isRequired=r;var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s}}function qN(){return FN||(FN=1,UN.exports=$N()()),UN.exports}const VN=i(qN());function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HN(Object(n),!0).forEach(function(t){KN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GN(e){return(GN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(l){o=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return XN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JN=function(e,t,n){var r=!!n,i=y.useRef(n);y.useEffect(function(){i.current=n},[n]),y.useEffect(function(){if(!r||!e)return function(){};var n=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,n),function(){e.off(t,n)}},[r,t,e,i])},ZN=function(e){var t=y.useRef(e);return y.useEffect(function(){t.current=e},[e]),t.current},eI=function(e){return null!==e&&"object"===GN(e)},tI="[object Object]",nI=function e(t,n){if(!eI(t)||!eI(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===tI;if(i!==(Object.prototype.toString.call(n)===tI))return!1;if(!i&&!r)return t===n;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(var o={},l=0;l<s.length;l+=1)o[s[l]]=!0;for(var c=0;c<a.length;c+=1)o[a[c]]=!0;var u=Object.keys(o);if(u.length!==s.length)return!1;var d=t,h=n;return u.every(function(t){return e(d[t],h[t])})},rI=function(e,t,n){return eI(e)?Object.keys(e).reduce(function(r,i){var s=!eI(t)||!nI(e[i],t[i]);return n.includes(i)?(s&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),r):s?WN(WN({},r||{}),{},KN({},i,e[i])):r},null):null},iI="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",sI=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iI;if(null===e||eI(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(n)},aI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iI;if(function(e){return eI(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return sI(e,t)})};var n=sI(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},oI=y.createContext(null);oI.displayName="ElementsContext";var lI=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},cI=function(e){var t=e.stripe,n=e.options,r=e.children,i=y.useMemo(function(){return aI(t)},[t]),s=YN(y.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(n):null}}),2),a=s[0],o=s[1];y.useEffect(function(){var e=!0,t=function(e){o(function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}})};return"async"!==i.tag||a.stripe?"sync"!==i.tag||a.stripe||t(i.stripe):i.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[i,a,n]);var l=ZN(t);y.useEffect(function(){null!==l&&l!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[l,t]);var c=ZN(n);return y.useEffect(function(){if(a.elements){var e=rI(n,c,["clientSecret","fonts"]);e&&a.elements.update(e)}},[n,c,a.elements]),y.useEffect(function(){var e;(e=a.stripe)&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},[a.stripe]),y.createElement(oI.Provider,{value:a},r)};cI.propTypes={stripe:VN.any,options:VN.object};var uI=function(){var e,t;return(e="calls useElements()",t=y.useContext(oI),lI(t,e)).elements};VN.func.isRequired;var dI=y.createContext(null);dI.displayName="CheckoutSdkContext";y.createContext(null).displayName="CheckoutContext",VN.any,VN.shape({fetchClientSecret:VN.func.isRequired,elementsOptions:VN.object}).isRequired;var hI=function(e){var t=y.useContext(dI),n=y.useContext(oI);if(t&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e}(t,e):lI(n,e)},fI=["mode"],pI=function(e,t){var n,r="".concat((n=e).charAt(0).toUpperCase()+n.slice(1),"Element"),i=t?function(e){hI("mounts <".concat(r,">"));var t=e.id,n=e.className;return y.createElement("div",{id:t,className:n})}:function(t){var n,i=t.id,s=t.className,a=t.options,o=void 0===a?{}:a,l=t.onBlur,c=t.onFocus,u=t.onReady,d=t.onChange,h=t.onEscape,f=t.onClick,p=t.onLoadError,m=t.onLoaderStart,g=t.onNetworksChange,v=t.onConfirm,b=t.onCancel,_=t.onShippingAddressChange,w=t.onShippingRateChange,x=hI("mounts <".concat(r,">")),k="elements"in x?x.elements:null,S="checkoutSdk"in x?x.checkoutSdk:null,C=YN(y.useState(null),2),E=C[0],T=C[1],N=y.useRef(null),I=y.useRef(null);JN(E,"blur",l),JN(E,"focus",c),JN(E,"escape",h),JN(E,"click",f),JN(E,"loaderror",p),JN(E,"loaderstart",m),JN(E,"networkschange",g),JN(E,"confirm",v),JN(E,"cancel",b),JN(E,"shippingaddresschange",_),JN(E,"shippingratechange",w),JN(E,"change",d),u&&(n="expressCheckout"===e?u:function(){u(E)}),JN(E,"ready",n),y.useLayoutEffect(function(){if(null===N.current&&null!==I.current&&(k||S)){var t=null;if(S)switch(e){case"payment":t=S.createPaymentElement(o);break;case"address":if(!("mode"in o))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=o.mode,i=QN(o,fI);if("shipping"===n)t=S.createShippingAddressElement(i);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=S.createBillingAddressElement(i)}break;case"expressCheckout":t=S.createExpressCheckoutElement(o);break;case"currencySelector":t=S.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else k&&(t=k.create(e,o));N.current=t,T(t),t&&t.mount(I.current)}},[k,S,o]);var j=ZN(o);return y.useEffect(function(){if(N.current){var e=rI(o,j,["paymentRequest"]);e&&"update"in N.current&&N.current.update(e)}},[o,j]),y.useLayoutEffect(function(){return function(){if(N.current&&"function"==typeof N.current.destroy)try{N.current.destroy(),N.current=null}catch(e){}}},[]),y.createElement("div",{id:i,className:s,ref:I})};return i.propTypes={id:VN.string,className:VN.string,onChange:VN.func,onBlur:VN.func,onFocus:VN.func,onReady:VN.func,onEscape:VN.func,onClick:VN.func,onLoadError:VN.func,onLoaderStart:VN.func,onNetworksChange:VN.func,onConfirm:VN.func,onCancel:VN.func,onShippingAddressChange:VN.func,onShippingRateChange:VN.func,options:VN.object},i.displayName=r,i.__elementType=e,i},mI="undefined"==typeof window;y.createContext(null).displayName="EmbeddedCheckoutProviderContext";pI("auBankAccount",mI);var gI=pI("card",mI);pI("cardNumber",mI),pI("cardExpiry",mI),pI("cardCvc",mI),pI("fpxBank",mI),pI("iban",mI),pI("idealBank",mI),pI("p24Bank",mI),pI("epsBank",mI),pI("payment",mI),pI("expressCheckout",mI),pI("currencySelector",mI),pI("paymentRequestButton",mI),pI("linkAuthentication",mI),pI("address",mI),pI("shippingAddress",mI),pI("paymentMethodMessaging",mI),pI("affirmMessage",mI),pI("afterpayClearpayMessage",mI);const yI={container:"_container_1kmwp_1",guestBanner:"_guestBanner_1kmwp_12",signInLink:"_signInLink_1kmwp_17",leftColumn:"_leftColumn_1kmwp_32",rightColumn:"_rightColumn_1kmwp_39",payNowButton:"_payNowButton_1kmwp_64",summaryBox:"_summaryBox_1kmwp_161",summaryTitle:"_summaryTitle_1kmwp_169",productsList:"_productsList_1kmwp_176",product:"_product_1kmwp_176",productImage:"_productImage_1kmwp_190",productDetails:"_productDetails_1kmwp_199",productTitle:"_productTitle_1kmwp_203",productVariants:"_productVariants_1kmwp_211",productPrice:"_productPrice_1kmwp_218",pricingDetails:"_pricingDetails_1kmwp_278",row:"_row_1kmwp_285",amount:"_amount_1kmwp_291",divider:"_divider_1kmwp_300",totalRow:"_totalRow_1kmwp_306",totalAmount:"_totalAmount_1kmwp_314",useSavedAddress:"_useSavedAddress_1kmwp_322",savedAddressesSection:"_savedAddressesSection_1kmwp_331",sectionTitle:"_sectionTitle_1kmwp_339",savedAddressSelector:"_savedAddressSelector_1kmwp_346",selectedAddressDisplay:"_selectedAddressDisplay_1kmwp_351",addressPreview:"_addressPreview_1kmwp_367",addressName:"_addressName_1kmwp_372",addressesList:"_addressesList_1kmwp_380",addressOption:"_addressOption_1kmwp_395",selectedOption:"_selectedOption_1kmwp_410",defaultBadge:"_defaultBadge_1kmwp_418",addressDetails:"_addressDetails_1kmwp_429",phoneNumber:"_phoneNumber_1kmwp_435",addressesLoading:"_addressesLoading_1kmwp_445",manageAddressesButton:"_manageAddressesButton_1kmwp_451",dropdownHelper:"_dropdownHelper_1kmwp_467",quantityControl:"_quantityControl_1kmwp_552",quantityBtn:"_quantityBtn_1kmwp_556",quantityValue:"_quantityValue_1kmwp_561",removeBtn:"_removeBtn_1kmwp_566",loadingContainer:"_loadingContainer_1kmwp_606"},vI=()=>{const e=$r(),{selectedCartItems:t}=Hr(e=>e.cart),n=t;console.log("Order items:",n);const r=(t,n,r,i)=>{i>=1&&e(Ox({id:t,size:n,color:r,quantity:i}))},i=n&&n.length>0?n.reduce((e,t)=>{const n=(null==t?void 0:t.price)??"0";return e+(parseFloat(n.replace(/[^0-9.]/g,""))||0)*(Number(null==t?void 0:t.quantity)||1)},0):0,s=i;return d.jsxs("div",{className:yI.summaryBox,children:[d.jsx("h3",{className:yI.summaryTitle,children:"Order Summary"}),d.jsx("div",{className:yI.productsList,children:n&&n.length>0?n.map((t,n)=>d.jsxs("div",{className:yI.product,children:[d.jsx("div",{className:yI.productImage,style:{backgroundImage:`url(${t.image})`}}),d.jsxs("div",{className:yI.productDetails,children:[d.jsx("p",{className:yI.productTitle,children:t.name}),d.jsxs("p",{className:yI.productVariants,children:[t.size&&d.jsxs("span",{children:["Size: ",t.size]}),t.displayColor&&(t.displayColor.startsWith("linear-gradient")?d.jsx("span",{style:{display:"inline-block",width:"16px",height:"16px",background:t.displayColor,marginLeft:"5px",borderRadius:"50%",border:"1px solid #ccc",verticalAlign:"middle"},title:t.color}):d.jsx("span",{style:{display:"inline-block",width:"16px",height:"16px",backgroundColor:t.displayColor,marginLeft:"5px",borderRadius:"50%",border:"1px solid #ccc",verticalAlign:"middle"},title:t.color}))]}),d.jsxs("div",{className:yI.quantityControl,children:[d.jsx("button",{className:yI.quantityBtn,onClick:()=>r(t.id,t.size,t.color,t.quantity-1),disabled:t.quantity<=1,"aria-label":"Decrease quantity",children:d.jsx(xw,{size:12})}),d.jsx("span",{className:yI.quantityValue,children:t.quantity}),d.jsx("button",{className:yI.quantityBtn,onClick:()=>r(t.id,t.size,t.color,t.quantity+1),"aria-label":"Increase quantity",children:d.jsx(Cw,{size:12})}),d.jsx("button",{className:yI.removeBtn,onClick:()=>{return n=t.id,r=t.size,i=t.color,void e(Px({id:n,size:r,color:i}));var n,r,i},"aria-label":"Remove item",children:d.jsx(Aw,{size:14})})]}),d.jsx("p",{className:yI.productPrice,children:t.price})]})]},n)):d.jsx("div",{className:yI.emptyCart,children:"No items in cart"})}),d.jsxs("div",{className:yI.pricingDetails,children:[d.jsxs("div",{className:yI.row,children:[d.jsx("span",{children:"Subtotal"}),d.jsxs("span",{className:yI.amount,children:["AED ",i.toFixed(2)]})]}),d.jsxs("div",{className:yI.row,children:[d.jsx("span",{children:"Shipping"}),d.jsx("span",{className:yI.amount,children:"FREE"})]}),d.jsx("hr",{className:yI.divider}),d.jsxs("div",{className:yI.totalRow,children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{className:yI.totalAmount,children:["AED ",s.toFixed(2)]})]})]})]})},bI="_container_lo0me_1",_I="_title_lo0me_11",wI="_formGroup_lo0me_25",xI="_nameRow_lo0me_37",kI="_locationRow_lo0me_39",SI="_inputGroup_lo0me_49",CI="_input_lo0me_49",EI="_select_lo0me_91",TI="_textarea_lo0me_93",NI="_inputError_lo0me_123",II="_errorText_lo0me_131",jI="_noteGroup_lo0me_143",AI=({formData:e,setFormData:t,errors:n={}})=>{const r=e=>{const{name:n,value:r}=e.target;t(e=>({...e,[n]:r}))};return d.jsxs("div",{className:bI,children:[d.jsx("h3",{className:_I,children:"Shipping Information"}),d.jsxs("div",{className:wI,children:[d.jsxs("div",{className:xI,children:[d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"firstName",children:"First Name*"}),d.jsx("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName||"",onChange:r,className:`${CI} ${n.firstName?NI:""}`}),n.firstName&&d.jsx("span",{className:II,children:n.firstName})]}),d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"lastName",children:"Last Name*"}),d.jsx("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName||"",onChange:r,className:`${CI} ${n.lastName?NI:""}`}),n.lastName&&d.jsx("span",{className:II,children:n.lastName})]})]}),d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"email",children:"Email Address*"}),d.jsx("input",{type:"email",id:"email",name:"email",value:e.email||"",onChange:r,className:`${CI} ${n.email?NI:""}`}),n.email&&d.jsx("span",{className:II,children:n.email})]}),d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"phone",children:"Phone Number*"}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone||"",onChange:r,className:`${CI} ${n.phone?NI:""}`}),n.phone&&d.jsx("span",{className:II,children:n.phone})]}),d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"address",children:"Street Address*"}),d.jsx("input",{type:"text",id:"address",name:"address",value:e.address||"",onChange:r,className:`${CI} ${n.address?NI:""}`}),n.address&&d.jsx("span",{className:II,children:n.address})]}),d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"apartment",children:"Apartment, suite, etc.*"}),d.jsx("input",{type:"text",id:"apartment",name:"apartment",value:e.apartment||"",onChange:r,className:CI})]}),d.jsxs("div",{className:kI,children:[d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"city",children:"City*"}),d.jsx("input",{type:"text",id:"city",name:"city",value:e.city||"",onChange:r,className:`${CI} ${n.city?NI:""}`}),n.city&&d.jsx("span",{className:II,children:n.city})]}),d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"state",children:"State*"}),d.jsx("input",{type:"text",id:"state",name:"state",value:e.state||"",onChange:r,className:`${CI} ${n.state?NI:""}`}),n.state&&d.jsx("span",{className:II,children:n.state})]}),d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"zipCode",children:"ZIP Code*"}),d.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:e.zipCode||"",onChange:r,className:`${CI} ${n.zipCode?NI:""}`}),n.zipCode&&d.jsx("span",{className:II,children:n.zipCode})]})]}),d.jsxs("div",{className:SI,children:[d.jsx("label",{htmlFor:"country",children:"Country*"}),d.jsxs("select",{id:"country",name:"country",value:e.country||"United Arab Emirates",onChange:r,className:`${EI} ${n.country?NI:""}`,children:[d.jsx("option",{value:"United Arab Emirates",children:"United Arab Emirates"}),d.jsx("option",{value:"Saudi Arabia",children:"Saudi Arabia"}),d.jsx("option",{value:"Qatar",children:"Qatar"}),d.jsx("option",{value:"Kuwait",children:"Kuwait"}),d.jsx("option",{value:"Bahrain",children:"Bahrain"}),d.jsx("option",{value:"Oman",children:"Oman"}),d.jsx("option",{value:"India",children:"India"}),d.jsx("option",{value:"United States",children:"United States"}),d.jsx("option",{value:"United Kingdom",children:"United Kingdom"})]}),n.country&&d.jsx("span",{className:II,children:n.country})]})]}),d.jsxs("div",{className:jI,children:[d.jsx("label",{htmlFor:"orderNotes",children:"Order Notes (optional)"}),d.jsx("textarea",{id:"orderNotes",name:"orderNotes",rows:"3",value:e.orderNotes||"",onChange:r,className:TI,placeholder:"Special instructions for delivery"})]})]})},PI="_container_1m1qn_1",OI="_title_1m1qn_11",DI="_methodsContainer_1m1qn_25",LI="_methodCard_1m1qn_37",RI="_selected_1m1qn_69",MI="_methodIcon_1m1qn_79",zI="_methodInfo_1m1qn_89",FI="_methodName_1m1qn_97",UI="_methodDescription_1m1qn_111",BI="_methodRadio_1m1qn_121",$I="_radio_1m1qn_133",qI="_radioSelected_1m1qn_163",VI=[{id:"cod",name:"Cash On Delivery",description:"Pay when you receive your order",icon:""},{id:"card",name:"Credit / Debit Card",description:"Pay securely with your card",icon:""}],HI=({selectedMethod:e,onMethodSelect:t})=>d.jsxs("div",{className:PI,children:[d.jsx("h3",{className:OI,children:"Payment Method"}),d.jsx("div",{className:DI,children:VI.map(n=>d.jsxs("div",{className:`${LI} ${e===n.id?RI:""}`,onClick:()=>{return r=n.id,console.log(" Payment method selected:",r),console.log(" Current selected method:",e),console.log(" Calling onMethodSelect with:",r),void t(r);var r},children:[d.jsx("div",{className:MI,children:n.icon}),d.jsxs("div",{className:zI,children:[d.jsx("div",{className:FI,children:n.name}),d.jsx("div",{className:UI,children:n.description})]}),d.jsx("div",{className:BI,children:d.jsx("div",{className:$I,children:d.jsx("div",{className:e===n.id?qI:""})})})]},n.id))})]}),WI="_formContainer_1mokh_1",GI="_paymentForm_1mokh_11",KI="_formGroup_1mokh_23",QI="_cardElementWrapper_1mokh_47",YI="_payButton_1mokh_73",XI="_errorMessage_1mokh_117",JI="_successMessage_1mokh_133",ZI={style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},ej=({amount:e,clientSecret:t,billingDetails:n,onPaymentSuccess:r,onPaymentError:i})=>{const s=hI("calls useStripe()").stripe,a=uI(),[o,l]=g.useState(!1),[c,u]=g.useState(null),[h,f]=g.useState(!1),[p,m]=g.useState(!1);g.useEffect(()=>{t&&(u(null),f(!1),m(!1))},[t]);return d.jsx("div",{className:WI,children:d.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!s||!a)return;if(!t)return void u("Payment not initialized. Please try again.");m(!0);const o=a.getElement(gI);try{const e=await s.confirmCardPayment(t,{payment_method:{card:o,billing_details:n}});e.error?(u(`Payment failed: ${e.error.message}`),m(!1),i&&i(e.error)):(u(null),f(!0),m(!1),r&&r(e.paymentIntent))}catch(l){console.error("Payment error:",l),u("An unexpected error occurred. Please try again."),m(!1),i&&i(l)}},className:GI,children:[d.jsxs("div",{className:KI,children:[d.jsx("label",{htmlFor:"card-element",children:"Credit or debit card"}),d.jsx("div",{className:QI,children:d.jsx(gI,{id:"card-element",options:ZI,onChange:e=>{u(e.error?e.error.message:"")}})})]}),c&&d.jsx("div",{className:XI,children:c}),d.jsx("button",{disabled:p||!s||h,className:YI,children:p?"Processing...":`Pay ${(e/100).toFixed(2)}`}),h&&d.jsx("div",{className:JI,children:"Payment succeeded! Thank you for your purchase."})]})})},tj="https://t7ck79lu3m.execute-api.eu-north-1.amazonaws.com/prod",nj=async()=>{try{const e=yb.currentUser;return e?await e.getIdToken(!0):(console.warn("No authenticated user found when getting auth token"),null)}catch(e){return console.error("Error getting auth token:",e),null}},rj=async e=>{try{const n=sessionStorage.getItem("pendingOrderId");if("card"===e.paymentMethod&&e.paymentIntentId&&n){sessionStorage.removeItem("pendingOrderId");try{const e=await nj(),t={"Content-Type":"application/json"};e&&(t.Authorization=`Bearer ${e}`),await fetch(`${tj}/api/orders/${n}`,{method:"PATCH",headers:t,body:JSON.stringify({status:"processing",paymentStatus:"paid",updatedAt:new Date}),credentials:"include"})}catch(t){console.error("Error updating order via API:",t)}return{orderId:n}}const r=Object.entries(e).reduce((e,[t,n])=>(e[t]=void 0===n?null:n,e),{}),i={...r,createdAt:new Date,updatedAt:new Date,status:"pending"!==r.status&&r.status?r.status:"processing"},s=await sg(Zp(gb,"orders"),i);if("cod"===e.paymentMethod)try{const e=await nj(),t={"Content-Type":"application/json"};e&&(t.Authorization=`Bearer ${e}`),await fetch(`${tj}/api/orders/cod`,{method:"POST",headers:t,body:JSON.stringify({...i,orderId:s.id}),credentials:"include"})}catch(t){console.error("Error notifying API about COD order:",t)}return{orderId:s.id}}catch(n){return console.error("Error creating order:",n),{error:n.message||"Failed to create order"}}},ij=async e=>{var t;try{if(!e)throw new Error("Order ID is required");const n=em(gb,"orders",e),r=await eg(n);if(!r.exists())return{error:"Order not found"};const i=r.data();return{order:{id:r.id,...i,createdAt:(null==(t=i.createdAt)?void 0:t.toDate)?i.createdAt.toDate():i.createdAt}}}catch(n){return console.error("Error getting order by ID:",n),{error:n.message||"Failed to get order"}}};var sj,aj="basil",oj="https://js.stripe.com",lj="".concat(oj,"/").concat(aj,"/stripe.js"),cj=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,uj=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,dj=function(e){return cj.test(e)||uj.test(e)},hj=function(e){var t=document.createElement("script");t.src="".concat(lj).concat("");var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(t),t},fj=null,pj=null,mj=null,gj=function(e){return null!==fj?fj:(fj=new Promise(function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(oj,'"]')),t=0;t<e.length;t++){var n=e[t];if(dj(n.src))return n}return null}();if(r&&e);else if(r){if(r&&null!==mj&&null!==pj){var i;r.removeEventListener("load",mj),r.removeEventListener("error",pj),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=hj()}}else r=hj();mj=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),pj=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",mj),r.addEventListener("error",pj)}catch(s){return void n(s)}else t(null)})).catch(function(e){return fj=null,Promise.reject(e)})},yj=!1,vj=function(){return sj||(sj=gj(null).catch(function(e){return sj=null,Promise.reject(e)}))};Promise.resolve().then(function(){return vj()}).catch(function(e){yj||console.warn(e)});var bj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];yj=!0;var r=Date.now();return vj().then(function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),i=function(e){return 3===e?"v3":e}(e.version),s=aj;r&&i!==s&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.1.0"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var a=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.1.0",startTime:t})}(a,n),a}(e,t,r)})};let _j=null;const wj=async(e,t="usd",n={},r=null)=>{try{const i="https://t7ck79lu3m.execute-api.eu-north-1.amazonaws.com/prod/api/payment/create-intent",{userId:s,userEmail:a,email:o}=n||{},l=yb.currentUser,c=(null==l?void 0:l.uid)||s||"guest-user",u=(null==l?void 0:l.email)||a||o||"guest@example.com";console.log(" User identification for payment:",{hasFirebaseUser:!!l,firebaseUid:null==l?void 0:l.uid,firebaseEmail:null==l?void 0:l.email,metadataUserId:s,metadataUserEmail:a,metadataEmail:o,finalUserId:c,finalEmail:u});const d=await(async()=>{try{const e=yb.currentUser;return e?await e.getIdToken(!0):(console.warn("No authenticated user found when getting auth token"),null)}catch(e){return console.error("Error getting auth token:",e),null}})(),h={"Content-Type":"application/json"};d&&(h.Authorization=`Bearer ${d}`),console.log("Creating payment intent with:",{amount:e,currency:t,userId:c,email:u?`${u.substring(0,3)}...`:void 0,hasAuthToken:!!d,hasShipping:!!r,shippingCountry:r&&r.address?r.address.country:"Not provided"});const f={amount:e,currency:t||"aed",userId:c,metadata:{customerName:n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:(null==l?void 0:l.displayName)||"Guest User",email:u,phone:n.phone||"",address:n.shippingAddress?`${n.shippingAddress.address}, ${n.shippingAddress.city}, ${n.shippingAddress.country}`:"Address not provided"},cartItems:n.items||[],shipping:r};console.log(" Making payment intent API call to:",i),console.log(" Request headers:",h),console.log(" Request body:",f);const p=await fetch(i,{method:"POST",headers:h,body:JSON.stringify(f),credentials:"include"});console.log(" API response status:",p.status),console.log(" API response ok:",p.ok),console.log("Payment intent response status:",p.status);const m=await p.json();if(console.log(" API response data:",m),!p.ok)throw console.error(" Payment intent error response:",m),new Error(m.error||`Failed to create payment intent. Status code: ${p.status}`);if(console.log(" Payment intent created successfully:",{hasClientSecret:!!m.clientSecret,paymentIntentId:m.paymentIntentId,orderId:m.orderId,clientSecretPreview:m.clientSecret?m.clientSecret.substring(0,20)+"...":"None"}),!m.clientSecret)throw new Error("Server did not return a client secret");if(!m.paymentIntentId)throw new Error("Server did not return a payment intent ID");return console.log(" Payment intent created successfully:",m),{clientSecret:m.clientSecret,paymentIntentId:m.paymentIntentId,orderId:m.orderId}}catch(i){return console.error("Error creating payment intent:",i),{error:i.message}}},xj={modalOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modalContent:{backgroundColor:"#ffffff",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"500px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)",position:"relative",border:"2px solid #4a90e2",background:"linear-gradient(to bottom, #f9f9f9, #ffffff)",zIndex:1001}},kj=()=>{const e=$r(),t=Ee(),n=ke(),{selectedCartItems:r}=Hr(e=>e.cart||[]),i=tk()||{},{currentUser:s,userData:a,isAuthenticated:o=!1,loading:l=!1}=i;console.log("Buy Page - Auth State:....................",{currentUser:s,userData:a,isAuthenticated:o,loading:l});const c="true"===localStorage.getItem("isGuestUser");g.useEffect(()=>{e(Yx(c))},[e,c]);const u="true"===new URLSearchParams(n.search).get("direct"),[h,f]=g.useState(!1),[p,m]=g.useState("cod"),[y,v]=g.useState(null),[b,_]=g.useState(""),[w,x]=g.useState(!1),[k,S]=g.useState({firstName:(null==a?void 0:a.firstName)||"",lastName:(null==a?void 0:a.lastName)||"",email:(null==s?void 0:s.email)||"",phone:(null==a?void 0:a.phoneNumber)||"",country:"United Arab Emirates"}),[C,E]=g.useState({}),[T,N]=g.useState([]),[I,j]=g.useState(null),[A,P]=g.useState(!1),[O,D]=g.useState(!1);g.useEffect(()=>{if("card"===p){(async()=>{try{const e=await(_j||(_j=bj("pk_live_51RmHI9IHBWfT3EaP9yCeGKvp3OuOtKbGR0jx9EXttPgPfxvWDIheoWSIoIUlzLtaIebehDypF1jz4Uqg7XCqv8zI00gvrVODPZ")),_j);v(e)}catch(e){console.error(" Error loading Stripe:",e)}})()}},[p]);const L=g.useCallback(()=>r&&0!==r.length?r.reduce((e,t)=>e+parseFloat(t.price.replace(/AED\s?|Rs.\s?||,/g,""))*t.quantity,0):0,[r]);g.useEffect(()=>{if((null==s?void 0:s.uid)&&o&&!c){(async()=>{try{D(!0);const e=Zp(gb,"users",s.uid,"addresses"),t=(await ng(e)).docs.map(e=>({id:e.id,...e.data()}));N(t);const n=t.find(e=>e.isDefault);n?(j(n),R(n)):t.length>0&&(j(t[0]),R(t[0]))}catch(e){console.error("Error fetching addresses:",e),Kt.error("Failed to load your saved addresses")}finally{D(!1)}})()}},[null==s?void 0:s.uid,o,c]);const R=e=>{e&&S(t=>({...t,firstName:e.firstName||t.firstName,lastName:e.lastName||t.lastName,address:e.address1||"",apartment:e.address2||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",country:e.country||"United Arab Emirates",phone:e.phone||t.phone}))};g.useEffect(()=>{a&&!c&&S(e=>({...e,firstName:a.firstName||e.firstName,lastName:a.lastName||e.lastName,email:(null==s?void 0:s.email)||e.email,phone:a.phoneNumber||e.phone}))},[a,s,c]),g.useEffect(()=>{r&&0!==r.length||(t("/shop"),Kt.info("Your cart is empty. Add items before checkout."))},[r,t]),g.useEffect(()=>{l||o||c||f(!0)},[o,l,c]);const M=g.useCallback(async()=>{if(console.log(" Creating payment intent immediately for card payment"),r&&0!==r.length)try{const e=L();if(e<=0)return console.error(" Invalid order total:",e),void Kt.error("Cannot process a zero or negative amount");const t=Math.round(100*e),n={cartItemCount:r.length,userId:c?"guest-user":(null==s?void 0:s.uid)||"guest-user",userEmail:c?k.email||"":(null==s?void 0:s.email)||k.email||"",total:e,paymentMethod:"card",isGuestCheckout:c,shippingAddress:{firstName:k.firstName,lastName:k.lastName,address:k.address,apartment:k.apartment,city:k.city,state:k.state,zipCode:k.zipCode,country:k.country},items:r},i=k.address?{name:`${k.firstName} ${k.lastName}`,address:{line1:k.address,line2:k.apartment||"",city:k.city||"",state:k.state||"",postal_code:k.zipCode||"",country:CC(k.country)},phone:k.phone||""}:null;console.log(" Creating payment intent with:",{amount:t,currency:"aed",userId:c?"guest-user":null==s?void 0:s.uid,email:c?k.email:(null==s?void 0:s.email)||k.email,cartItemCount:r.length,hasShippingData:!!i,isGuestCheckout:c});const{clientSecret:a,error:o,paymentIntentId:l,orderId:u}=await wj(t,"aed",n,i);console.log(" Payment intent response:",{hasClientSecret:!!a,hasError:!!o,paymentIntentId:l,orderId:u,clientSecretPreview:a?a.substring(0,20)+"...":"None"}),o?(console.error(" Payment intent creation failed:",o),Kt.error("Could not initialize payment. Please try again.")):a?(console.log(" Payment intent created successfully"),console.log(" Payment Intent Details:",{paymentIntentId:l,orderId:u,clientSecretLength:a.length,clientSecretStartsWith:a.startsWith("pi_")?"Yes":"No"}),_(a),sessionStorage.setItem("currentPaymentIntentId",l),u&&sessionStorage.setItem("pendingOrderId",u),console.log(" Payment intent ready for Stripe")):(console.error(" No client secret received from payment intent creation"),Kt.error("Payment initialization failed. Please try again."))}catch(e){console.error(" Error creating payment intent:",e),Kt.error("Payment initialization failed. Please try again.")}else console.log(" No cart items, cannot create payment intent")},[r,L,c,s,k]);g.useEffect(()=>{console.log(" Payment method changed to:",p),"card"===p&&(console.log(" Card payment selected - triggering payment intent creation"),M())},[p,M]),g.useEffect(()=>{if(console.log(" Payment Intent useEffect triggered:",{paymentMethod:p,hasSelectedCartItems:!!r,cartItemsLength:(null==r?void 0:r.length)||0,isAuthenticated:o,isGuestUser:c,shouldCreatePaymentIntent:"card"===p&&r&&r.length>0&&(o||c)}),"card"===p&&r&&r.length>0){if(console.log(" Card payment selected, checking authentication..."),!c&&!(null==s?void 0:s.uid))return console.error(" User ID not available, cannot create payment intent"),Kt.error("User authentication required for payment"),void f(!0);if(!c&&!s)return console.error(" User authentication token expired"),Kt.error("Your session has expired. Please log in again."),void f(!0);console.log(" Authentication check passed, proceeding with payment intent creation");(async()=>{var e,t,n;try{console.log(" Starting payment intent creation...",{paymentMethod:p,cartItemsCount:r.length,isAuthenticated:o,isGuestUser:c,hasCurrentUser:!!(null==s?void 0:s.uid)});const e=L();if(e<=0)return console.error("Invalid order total:",e),void Kt.error("Cannot process a zero or negative amount");const t=Math.round(100*e),n={cartItemCount:r.length,userId:c?"guest-user":s.uid,userEmail:c?k.email||"":s.email||k.email||"",total:e,paymentMethod:p,isGuestCheckout:c,shippingAddress:{firstName:k.firstName,lastName:k.lastName,address:k.address,apartment:k.apartment,city:k.city,state:k.state,zipCode:k.zipCode,country:k.country},items:r},i=k.address?{name:`${k.firstName} ${k.lastName}`,address:{line1:k.address,line2:k.apartment||"",city:k.city||"",state:k.state||"",postal_code:k.zipCode||"",country:CC(k.country)},phone:k.phone||""}:null;console.log("Creating payment intent with:",{amount:t,currency:"aed",userId:c?"guest-user":s.uid,email:c?k.email:s.email||k.email,cartItemCount:r.length,hasShippingData:!!i,isGuestCheckout:c});const{clientSecret:a,error:l,paymentIntentId:u,orderId:d}=await wj(t,"aed",n,i);console.log("Payment intent response:",{hasClientSecret:!!a,hasError:!!l,paymentIntentId:u,orderId:d}),l?(console.error("Payment intent creation failed:",l),l.includes("UNAUTHENTICATED")||l.includes("authentication")?(Kt.error("Authentication failed. Please log in again."),f(!0)):(Kt.error("Could not initialize payment. Please try again."),console.error("Payment intent error:",l))):a?(console.log("Payment intent created successfully"),_(a),sessionStorage.setItem("currentPaymentIntentId",u),d&&sessionStorage.setItem("pendingOrderId",d)):(console.error("No client secret received from payment intent creation"),Kt.error("Payment initialization failed. Please try again."))}catch(i){console.error("Error creating payment intent:",i),!c&&((null==(e=i.message)?void 0:e.includes("User not authenticated"))||(null==(t=i.message)?void 0:t.includes("UNAUTHENTICATED"))||(null==(n=i.message)?void 0:n.includes("auth")))?(Kt.error("Authentication error. Please log in again."),f(!0)):Kt.error("Payment initialization failed. Please try again.")}})()}},[p,r,o,s,k,c,L]);const z=async n=>{try{const i={firstName:k.firstName,lastName:k.lastName,address:k.address,apartment:k.apartment,city:k.city,state:k.state,zipCode:k.zipCode,country:k.country},a={userId:c?"guest-user":(null==s?void 0:s.uid)||"",userEmail:k.email||"",items:r&&r.length>0?r.map(e=>({id:e.id,name:e.name,price:parseFloat(e.price.replace(/[^0-9.]/g,"")),quantity:e.quantity,size:e.size,color:e.color,image:e.image})):[],shippingAddress:i,paymentMethod:"card",paymentStatus:"paid",paymentIntentId:n.id,status:"processing",total:L(),notes:k.orderNotes||"",isGuestOrder:c},{orderId:o,error:l}=await rj(a);if(l)return Kt.error("Your payment was successful, but we could not create your order. Our team will contact you."),void x(!1);e(Ix()),c&&localStorage.removeItem("isGuestUser"),t("/order-success",{state:{orderDetails:{orderId:o,...a,createdAt:new Date}}})}catch(i){console.error("Order error:",i),Kt.error("Your payment was successful, but there was an issue processing your order. Our team will contact you.")}},F=e=>{console.error("Payment error:",e),Kt.error("Payment failed. Please try again or use a different payment method."),x(!1)};return g.useEffect(()=>{u&&(o||c)&&!l&&(m("card"),I&&R(I),setTimeout(()=>{const e=document.getElementById("payment-method-section");e&&e.scrollIntoView({behavior:"smooth"})},500))},[u,o,c,l,I]),l?d.jsx("div",{className:yI.loadingContainer,children:"Loading checkout..."}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:yI.container,children:[d.jsxs("div",{className:yI.leftColumn,children:[c&&d.jsx("div",{className:yI.guestBanner,children:d.jsxs("p",{children:["You are checking out as a guest."," ",d.jsx("button",{onClick:()=>{localStorage.removeItem("isGuestUser"),f(!0)},className:yI.signInLink,children:"Sign in"})," ","to access your account benefits."]})}),!c&&T.length>0&&d.jsxs("div",{className:yI.savedAddressesSection,children:[d.jsx("h3",{className:yI.sectionTitle,children:"Shipping Address"}),d.jsxs("div",{className:yI.savedAddressSelector,children:[d.jsxs("div",{className:yI.selectedAddressDisplay,onClick:()=>P(!A),children:[I?d.jsxs("div",{className:yI.addressPreview,children:[d.jsxs("p",{className:yI.addressName,children:[d.jsxs("strong",{children:[I.firstName," ",I.lastName]}),I.isDefault&&d.jsx("span",{className:yI.defaultBadge,children:"Default"})]}),d.jsxs("p",{className:yI.addressDetails,children:[I.address1,I.address2&&`, ${I.address2}`,",",I.city,", ",I.state," ",I.zipCode]}),d.jsxs("p",{className:yI.phoneNumber,children:[d.jsx("span",{children:"Phone:"})," ",I.phone]})]}):d.jsx("p",{children:"Select a saved address"}),A?d.jsx(gw,{}):d.jsx(mw,{})]}),A&&d.jsxs("div",{className:yI.addressesList,children:[O?d.jsx("p",{className:yI.addressesLoading,children:"Loading addresses..."}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:yI.dropdownHelper,children:"Click on an address to select it"}),T.map(e=>d.jsxs("div",{className:`${yI.addressOption} ${(null==I?void 0:I.id)===e.id?yI.selectedOption:""}`,onClick:()=>(e=>{j(e),R(e),P(!1)})(e),children:[d.jsxs("p",{className:yI.addressName,children:[d.jsxs("strong",{children:[e.firstName," ",e.lastName]}),e.isDefault&&d.jsx("span",{className:yI.defaultBadge,children:"Default"})]}),d.jsxs("p",{className:yI.addressDetails,children:[e.address1,e.address2&&`, ${e.address2}`,",",e.city,", ",e.state," ",e.zipCode]}),d.jsxs("p",{className:yI.phoneNumber,children:[d.jsx("span",{children:"Phone:"})," ",e.phone]})]},e.id))]}),d.jsx("button",{className:yI.manageAddressesButton,onClick:()=>t("/account?tab=addresses"),children:"Manage Addresses"})]})]}),d.jsx("p",{className:yI.useSavedAddress,children:"Using saved address. You can edit details below if needed."})]}),c&&d.jsxs("div",{className:yI.guestFormHeader,children:[d.jsx("h3",{className:yI.sectionTitle,children:"Shipping Information"}),d.jsx("p",{children:"Please enter your shipping details below"})]}),d.jsx(AI,{formData:k,setFormData:S,errors:C}),d.jsx("div",{id:"payment-method-section",children:d.jsx(HI,{selectedMethod:p,onMethodSelect:e=>{console.log(" Payment method selector called with:",e),m(e)}})}),(()=>{const e="card"===p&&y&&b;return console.log(" Stripe form render check:",{paymentMethod:p,hasStripePromise:!!y,hasClientSecret:!!b,shouldShowStripeForm:e}),e?d.jsx(cI,{stripe:y,children:d.jsx(ej,{amount:100*L(),clientSecret:b,billingDetails:{name:`${k.firstName} ${k.lastName}`,email:k.email,phone:k.phone,address:{line1:k.address,line2:k.apartment,city:k.city,state:k.state,postal_code:k.zipCode,country:CC(k.country)}},onPaymentSuccess:z,onPaymentError:F})}):null})(),"cod"===p&&d.jsx("button",{className:yI.payNowButton,onClick:async()=>{if((()=>{const e={};return["firstName","lastName","email","phone","address","city","state","zipCode","country"].forEach(t=>{k[t]&&""!==k[t].trim()||(e[t]=`${t.charAt(0).toUpperCase()+t.slice(1)} is required`)}),k.email&&!/\S+@\S+\.\S+/.test(k.email)&&(e.email="Please enter a valid email address"),k.phone&&k.phone.length<10&&(e.phone="Please enter a valid phone number"),E(e),0===Object.keys(e).length})())try{x(!0);const n={firstName:k.firstName,lastName:k.lastName,address:k.address,apartment:k.apartment,city:k.city,state:k.state,zipCode:k.zipCode,country:k.country},i={userId:c?"guest-user":(null==s?void 0:s.uid)||"",userEmail:k.email||"",items:r&&r.length>0?r.map(e=>({id:e.id,name:e.name,price:parseFloat(e.price.replace(/[^0-9.]/g,"")),quantity:e.quantity,size:e.size,color:e.color,image:e.image})):[],shippingAddress:n,paymentMethod:"cod",paymentStatus:"pending",status:"processing",total:L(),notes:k.orderNotes||"",isGuestOrder:c},{orderId:a,error:o}=await rj(i);if(o)return Kt.error("Failed to create your order. Please try again."),void x(!1);e(Ix()),c&&localStorage.removeItem("isGuestUser"),t("/order-success",{state:{orderDetails:{orderId:a,...i,createdAt:new Date}}})}catch(n){console.error("Order error:",n),Kt.error("Something went wrong. Please try again."),x(!1)}else Kt.error("Please fill in all required fields correctly.")},disabled:w,children:w?"Processing...":"Complete Order"})]}),d.jsx("div",{className:yI.rightColumn,children:d.jsx(vI,{})})]}),h&&d.jsx("div",{style:xj.modalOverlay,children:d.jsx("div",{style:xj.modalContent,children:d.jsx(LT,{isOpen:h,onClose:()=>{f(!1)}})})})]})},Sj={container:"_container_1k43a_1",accountContainer:"_accountContainer_1k43a_16",sidebar:"_sidebar_1k43a_27",welcomeText:"_welcomeText_1k43a_37",menuItems:"_menuItems_1k43a_44",menuItem:"_menuItem_1k43a_44",active:"_active_1k43a_71",logoutButton:"_logoutButton_1k43a_76",content:"_content_1k43a_95",ordersSection:"_ordersSection_1k43a_102",sectionTitle:"_sectionTitle_1k43a_109",orderFilters:"_orderFilters_1k43a_116",filterButton:"_filterButton_1k43a_125",activeFilter:"_activeFilter_1k43a_141",ordersList:"_ordersList_1k43a_147",emptyState:"_emptyState_1k43a_155",emptyStateIcon:"_emptyStateIcon_1k43a_164",emptyStateText:"_emptyStateText_1k43a_170",shopNowButton:"_shopNowButton_1k43a_176",addressesSection:"_addressesSection_1k43a_193",addAddressButton:"_addAddressButton_1k43a_200",addressGrid:"_addressGrid_1k43a_216",addressCard:"_addressCard_1k43a_222",defaultBadge:"_defaultBadge_1k43a_234",addressHeader:"_addressHeader_1k43a_245",addressActions:"_addressActions_1k43a_262",editButton:"_editButton_1k43a_271",deleteButton:"_deleteButton_1k43a_272",defaultButton:"_defaultButton_1k43a_273",loadingSpinner:"_loadingSpinner_1k43a_317",loginPrompt:"_loginPrompt_1k43a_342",loginButton:"_loginButton_1k43a_358",guestTrackOrder:"_guestTrackOrder_1k43a_373",guestHeader:"_guestHeader_1k43a_382",guestSubtitle:"_guestSubtitle_1k43a_394",inlineLink:"_inlineLink_1k43a_402",trackOrderSection:"_trackOrderSection_1k43a_424",trackForm:"_trackForm_1k43a_432",inputGroup:"_inputGroup_1k43a_436",orderInput:"_orderInput_1k43a_443",trackButton:"_trackButton_1k43a_463",guestActions:"_guestActions_1k43a_493",infoCard:"_infoCard_1k43a_499",benefitsList:"_benefitsList_1k43a_515",benefitItem:"_benefitItem_1k43a_522",benefitIcon:"_benefitIcon_1k43a_537",benefitText:"_benefitText_1k43a_549",actionButtons:"_actionButtons_1k43a_563",signupButton:"_signupButton_1k43a_571"},Cj="_modal_g5lkq_29",Ej="_modalTitle_g5lkq_83",Tj="_cancelButton_g5lkq_167",Nj="_modalOverlay_g5lkq_223",Ij="_form_g5lkq_287",jj="_formRow_g5lkq_299",Aj="_formGroup_g5lkq_323",Pj="_checkboxLabel_g5lkq_387",Oj="_buttonGroup_g5lkq_417",Dj="_submitButton_g5lkq_433",Lj=({onClose:e,userId:t,address:n,onAddressAdded:r,onAddressUpdated:i})=>{const[s,a]=g.useState({firstName:"",lastName:"",company:"",address1:"",address2:"",city:"",state:"",zipCode:"",country:"United Arab Emirates",phone:"",isDefault:!1}),[o,l]=g.useState(!1),c=!!n;g.useEffect(()=>{n&&a({firstName:n.firstName||"",lastName:n.lastName||"",company:n.company||"",address1:n.address1||"",address2:n.address2||"",city:n.city||"",state:n.state||"",zipCode:n.zipCode||"",country:n.country||"United Arab Emirates",phone:n.phone||"",isDefault:n.isDefault||!1})},[n]);const u=e=>{const{name:t,value:n,type:r,checked:i}=e.target;a({...s,[t]:"checkbox"===r?i:n})};return d.jsx("div",{className:Nj,children:d.jsxs("div",{className:Cj,children:[d.jsx("h2",{className:Ej,children:c?"Edit Address":"Add New Address"}),d.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),t)if(s.firstName&&s.lastName&&s.address1&&s.city&&s.country&&s.phone){l(!0);try{if(c){const e=em(gb,"users",t,"addresses",n.id);await rg(e,{...s,updatedAt:lg()}),Kt.success("Address updated successfully"),i&&i({id:n.id,...s})}else{const e=Zp(gb,"users",t,"addresses"),n=await sg(e,{...s,createdAt:lg(),updatedAt:lg()});Kt.success("Address added successfully"),r&&r({id:n.id,...s})}e()}catch(o){console.error("Error saving address:",o),Kt.error("Failed to save address")}finally{l(!1)}}else Kt.error("Please fill in all required fields");else Kt.error("You must be logged in to save an address")},className:Ij,children:[d.jsxs("div",{className:jj,children:[d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"firstName",children:"First Name *"}),d.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:u,required:!0,placeholder:"First Name"})]}),d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"lastName",children:"Last Name *"}),d.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:u,required:!0,placeholder:"Last Name"})]})]}),d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"company",children:"Company (Optional)"}),d.jsx("input",{type:"text",id:"company",name:"company",value:s.company,onChange:u,placeholder:"Company Name"})]}),d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"address1",children:"Address Line 1 *"}),d.jsx("input",{type:"text",id:"address1",name:"address1",value:s.address1,onChange:u,required:!0,placeholder:"Street Address, P.O. Box"})]}),d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"address2",children:"Address Line 2 (Optional)"}),d.jsx("input",{type:"text",id:"address2",name:"address2",value:s.address2,onChange:u,placeholder:"Apartment, Suite, Unit, etc."})]}),d.jsxs("div",{className:jj,children:[d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"city",children:"City / Town *"}),d.jsx("input",{type:"text",id:"city",name:"city",value:s.city,onChange:u,required:!0,placeholder:"City"})]}),d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"state",children:"State / Province"}),d.jsx("input",{type:"text",id:"state",name:"state",value:s.state,onChange:u,placeholder:"State/Province/Emirate"})]})]}),d.jsxs("div",{className:jj,children:[d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"zipCode",children:"Postal / Zip Code"}),d.jsx("input",{type:"text",id:"zipCode",name:"zipCode",value:s.zipCode,onChange:u,placeholder:"Postal/Zip Code"})]}),d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"country",children:"Country / Region *"}),d.jsxs("select",{id:"country",name:"country",value:s.country,onChange:u,required:!0,children:[d.jsx("option",{value:"United Arab Emirates",children:"United Arab Emirates"}),d.jsx("option",{value:"Saudi Arabia",children:"Saudi Arabia"}),d.jsx("option",{value:"Qatar",children:"Qatar"}),d.jsx("option",{value:"Bahrain",children:"Bahrain"}),d.jsx("option",{value:"Kuwait",children:"Kuwait"}),d.jsx("option",{value:"Oman",children:"Oman"}),d.jsx("option",{value:"Jordan",children:"Jordan"}),d.jsx("option",{value:"Lebanon",children:"Lebanon"}),d.jsx("option",{value:"Egypt",children:"Egypt"}),d.jsx("option",{value:"India",children:"India"}),d.jsx("option",{value:"Pakistan",children:"Pakistan"}),d.jsx("option",{value:"United States",children:"United States"}),d.jsx("option",{value:"United Kingdom",children:"United Kingdom"})]})]})]}),d.jsxs("div",{className:Aj,children:[d.jsx("label",{htmlFor:"phone",children:"Phone *"}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:u,required:!0,placeholder:"Phone Number"})]}),d.jsx("div",{className:Aj,children:d.jsxs("label",{className:Pj,children:[d.jsx("input",{type:"checkbox",name:"isDefault",checked:s.isDefault,onChange:u}),"Set as default address"]})}),d.jsxs("div",{className:Oj,children:[d.jsx("button",{type:"button",className:Tj,onClick:e,children:"Cancel"}),d.jsx("button",{type:"submit",className:Dj,disabled:o,children:o?"Saving...":c?"Update Address":"Add Address"})]})]})]})})},Rj=6048e5,Mj=Symbol.for("constructDateFrom");function zj(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&Mj in e?e[Mj](t):e instanceof Date?new e.constructor(t):new Date(t)}function Fj(e,t){return zj(t||e,e)}let Uj={};function Bj(){return Uj}function $j(e,t){var n,r,i,s;const a=Bj(),o=(null==t?void 0:t.weekStartsOn)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.weekStartsOn)??a.weekStartsOn??(null==(s=null==(i=a.locale)?void 0:i.options)?void 0:s.weekStartsOn)??0,l=Fj(e,null==t?void 0:t.in),c=l.getDay(),u=(c<o?7:0)+c-o;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function qj(e,t){return $j(e,{...t,weekStartsOn:1})}function Vj(e,t){const n=Fj(e,null==t?void 0:t.in),r=n.getFullYear(),i=zj(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=qj(i),a=zj(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=qj(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Hj(e){const t=Fj(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Wj(e,t){const n=Fj(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function Gj(e,t,n){const[r,i]=function(e,...t){const n=zj.bind(null,t.find(e=>"object"==typeof e));return t.map(n)}(null==n||n.in,e,t),s=Wj(r),a=Wj(i),o=+s-Hj(s),l=+a-Hj(a);return Math.round((o-l)/864e5)}function Kj(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+Fj(e)));var t}const Qj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Yj(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Xj={date:Yj({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Yj({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Yj({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Jj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Zj(e){return(t,n)=>{let r;if("formatting"===((null==n?void 0:n.context)?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=(null==n?void 0:n.width)?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=(null==n?void 0:n.width)?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function eA(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(a)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}var tA;const nA={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=Qj[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Xj,formatRelative:(e,t,n,r)=>Jj[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Zj({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Zj({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zj({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Zj({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Zj({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(tA={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(tA.matchPattern);if(!n)return null;const r=n[0],i=e.match(tA.parsePattern);if(!i)return null;let s=tA.valueCallback?tA.valueCallback(i[0]):i[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:eA({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:eA({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:eA({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:eA({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:eA({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function rA(e,t){const n=Fj(e,null==t?void 0:t.in),r=Gj(n,function(e,t){const n=Fj(e,null==t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n));return r+1}function iA(e,t){const n=Fj(e,null==t?void 0:t.in),r=+qj(n)-+function(e,t){const n=Vj(e,t),r=zj(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),qj(r)}(n);return Math.round(r/Rj)+1}function sA(e,t){var n,r,i,s;const a=Fj(e,null==t?void 0:t.in),o=a.getFullYear(),l=Bj(),c=(null==t?void 0:t.firstWeekContainsDate)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)??l.firstWeekContainsDate??(null==(s=null==(i=l.locale)?void 0:i.options)?void 0:s.firstWeekContainsDate)??1,u=zj((null==t?void 0:t.in)||e,0);u.setFullYear(o+1,0,c),u.setHours(0,0,0,0);const d=$j(u,t),h=zj((null==t?void 0:t.in)||e,0);h.setFullYear(o,0,c),h.setHours(0,0,0,0);const f=$j(h,t);return+a>=+d?o+1:+a>=+f?o:o-1}function aA(e,t){const n=Fj(e,null==t?void 0:t.in),r=+$j(n,t)-+function(e,t){var n,r,i,s;const a=Bj(),o=(null==t?void 0:t.firstWeekContainsDate)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)??a.firstWeekContainsDate??(null==(s=null==(i=a.locale)?void 0:i.options)?void 0:s.firstWeekContainsDate)??1,l=sA(e,t),c=zj((null==t?void 0:t.in)||e,0);return c.setFullYear(l,0,o),c.setHours(0,0,0,0),$j(c,t)}(n,t);return Math.round(r/Rj)+1}function oA(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const lA={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return oA("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):oA(n+1,2)},d:(e,t)=>oA(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>oA(e.getHours()%12||12,t.length),H:(e,t)=>oA(e.getHours(),t.length),m:(e,t)=>oA(e.getMinutes(),t.length),s:(e,t)=>oA(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return oA(Math.trunc(r*Math.pow(10,n-3)),t.length)}},cA="midnight",uA="noon",dA="morning",hA="afternoon",fA="evening",pA="night",mA={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return lA.y(e,t)},Y:function(e,t,n,r){const i=sA(e,r),s=i>0?i:1-i;if("YY"===t){return oA(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):oA(s,t.length)},R:function(e,t){return oA(Vj(e),t.length)},u:function(e,t){return oA(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return oA(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return oA(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return lA.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return oA(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=aA(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):oA(i,t.length)},I:function(e,t,n){const r=iA(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):oA(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):lA.d(e,t)},D:function(e,t,n){const r=rA(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):oA(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return oA(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return oA(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return oA(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?uA:0===r?cA:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?fA:r>=12?hA:r>=4?dA:pA,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return lA.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):lA.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):oA(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):oA(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):lA.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):lA.s(e,t)},S:function(e,t){return lA.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return yA(r);case"XXXX":case"XX":return vA(r);default:return vA(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return yA(r);case"xxxx":case"xx":return vA(r);default:return vA(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gA(r,":");default:return"GMT"+vA(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gA(r,":");default:return"GMT"+vA(r,":")}},t:function(e,t,n){return oA(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return oA(+e,t.length)}};function gA(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+oA(s,2)}function yA(e,t){if(e%60==0){return(e>0?"-":"+")+oA(Math.abs(e)/60,2)}return vA(e,t)}function vA(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+oA(Math.trunc(r/60),2)+t+oA(r%60,2)}const bA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},_A=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},wA={p:_A,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return bA(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",bA(r,t)).replace("{{time}}",_A(i,t))}},xA=/^D+$/,kA=/^Y+$/,SA=["D","DD","YY","YYYY"];const CA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TA=/^'([^]*?)'?$/,NA=/''/g,IA=/[a-zA-Z]/;function jA(e,t,n){var r,i,s,a;const o=Bj(),l=o.locale??nA,c=o.firstWeekContainsDate??(null==(i=null==(r=o.locale)?void 0:r.options)?void 0:i.firstWeekContainsDate)??1,u=o.weekStartsOn??(null==(a=null==(s=o.locale)?void 0:s.options)?void 0:a.weekStartsOn)??0,d=Fj(e,null==n?void 0:n.in);if(!Kj(d))throw new RangeError("Invalid time value");let h=t.match(EA).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,wA[t])(e,l.formatLong)}return e}).join("").match(CA).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:AA(e)};if(mA[t])return{isToken:!0,value:e};if(t.match(IA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});l.localize.preprocessor&&(h=l.localize.preprocessor(d,h));const f={firstWeekContainsDate:c,weekStartsOn:u,locale:l};return h.map(n=>{if(!n.isToken)return n.value;const r=n.value;(function(e){return kA.test(e)}(r)||function(e){return xA.test(e)}(r))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),SA.includes(e))throw new RangeError(r)}(r,t,String(e));return(0,mA[r[0]])(d,r,l.localize,f)}).join("")}function AA(e){const t=e.match(TA);return t?t[1].replace(NA,"'"):e}const PA={orderCard:"_orderCard_1itg5_1",orderHeader:"_orderHeader_1itg5_29",orderBasicInfo:"_orderBasicInfo_1itg5_47",orderNumber:"_orderNumber_1itg5_59",orderLabel:"_orderLabel_1itg5_77",orderId:"_orderId_1itg5_87",copyButton:"_copyButton_1itg5_107",orderDate:"_orderDate_1itg5_153",orderStatusSection:"_orderStatusSection_1itg5_163",statusBadge:"_statusBadge_1itg5_175",statusPending:"_statusPending_1itg5_193",statusProcessing:"_statusProcessing_1itg5_203",statusShipped:"_statusShipped_1itg5_213",statusDelivered:"_statusDelivered_1itg5_223",statusCancelled:"_statusCancelled_1itg5_233",orderTotal:"_orderTotal_1itg5_243",expandButton:"_expandButton_1itg5_255",orderDetails:"_orderDetails_1itg5_287",sectionTitle:"_sectionTitle_1itg5_299",orderItems:"_orderItems_1itg5_313",orderItem:"_orderItem_1itg5_313",itemImageContainer:"_itemImageContainer_1itg5_343",itemImage:"_itemImage_1itg5_343",itemDetails:"_itemDetails_1itg5_373",itemName:"_itemName_1itg5_381",itemVariants:"_itemVariants_1itg5_393",colorDisplay:"_colorDisplay_1itg5_409",colorSwatch:"_colorSwatch_1itg5_421",itemPrice:"_itemPrice_1itg5_437",orderSummary:"_orderSummary_1itg5_451",summaryRow:"_summaryRow_1itg5_473",addressSection:"_addressSection_1itg5_497",addressText:"_addressText_1itg5_511",totalRow:"_totalRow_1itg5_535"},OA=({order:e})=>{var t,n,r;const[i,s]=g.useState(!1),[a,o]=g.useState(!1),l=e=>`AED ${parseFloat(e).toFixed(2)}`;return d.jsxs("div",{className:PA.orderCard,children:[d.jsxs("div",{className:PA.orderHeader,onClick:()=>s(!i),children:[d.jsxs("div",{className:PA.orderBasicInfo,children:[d.jsxs("div",{className:PA.orderNumber,children:[d.jsx("span",{className:PA.orderLabel,children:"Order ID:"}),d.jsx("span",{className:PA.orderId,children:e.id}),d.jsx("button",{className:PA.copyButton,onClick:t=>{t.stopPropagation(),navigator.clipboard.writeText(e.id),o(!0),setTimeout(()=>o(!1),2e3)},title:"Copy Order ID",children:a?d.jsx(pw,{}):d.jsx(yw,{})})]}),d.jsx("div",{className:PA.orderDate,children:(e=>{if(!e)return"N/A";try{return jA(new Date(e),"MMM dd, yyyy")}catch(t){return console.error("Error formatting date:",t),"Invalid date"}})(e.createdAt)})]}),d.jsxs("div",{className:PA.orderStatusSection,children:[d.jsx("div",{className:`${PA.statusBadge} ${(e=>{switch(e){case"pending":return PA.statusPending;case"processing":return PA.statusProcessing;case"shipped":return PA.statusShipped;case"delivered":return PA.statusDelivered;case"cancelled":return PA.statusCancelled;default:return""}})(e.status)}`,children:(null==(t=e.status)?void 0:t.charAt(0).toUpperCase())+(null==(n=e.status)?void 0:n.slice(1))}),d.jsx("div",{className:PA.orderTotal,children:l(e.total)}),d.jsx("button",{className:PA.expandButton,children:i?d.jsx(gw,{}):d.jsx(mw,{})})]})]}),i&&d.jsxs("div",{className:PA.orderDetails,children:[d.jsxs("div",{className:PA.orderItems,children:[d.jsx("h4",{className:PA.sectionTitle,children:"Items"}),null==(r=e.items)?void 0:r.map((e,t)=>d.jsxs("div",{className:PA.orderItem,children:[d.jsx("div",{className:PA.itemImageContainer,children:d.jsx("img",{src:e.image,alt:e.name,className:PA.itemImage,onError:e=>{e.target.src="/images/placeholder.jpg"}})}),d.jsxs("div",{className:PA.itemDetails,children:[d.jsx("div",{className:PA.itemName,children:e.name}),d.jsxs("div",{className:PA.itemVariants,children:[e.size&&d.jsxs("span",{children:["Size: ",e.size]}),e.color&&d.jsxs("span",{className:PA.colorDisplay,children:["Color:",d.jsx("span",{className:PA.colorSwatch,style:{backgroundColor:e.displayColor||e.color}})]}),d.jsxs("span",{children:["Qty: ",e.quantity]})]})]}),d.jsx("div",{className:PA.itemPrice,children:e.price})]},t))]}),d.jsxs("div",{className:PA.orderSummary,children:[d.jsx("h4",{className:PA.sectionTitle,children:"Order Summary"}),d.jsxs("div",{className:PA.summaryRow,children:[d.jsx("span",{children:"Payment Method"}),d.jsx("span",{children:"cod"===e.paymentMethod?"Cash On Delivery":"Card Payment"})]}),d.jsxs("div",{className:PA.summaryRow,children:[d.jsx("span",{children:"Payment Status"}),d.jsx("span",{children:(c=e.paymentStatus,u=e.paymentMethod,"cod"===u?"Cash On Delivery":"paid"===c?"Paid":"Payment Pending")})]}),e.shippingAddress&&d.jsxs("div",{className:PA.addressSection,children:[d.jsx("h4",{className:PA.sectionTitle,children:"Shipping Address"}),d.jsxs("p",{className:PA.addressText,children:[e.shippingAddress.firstName," ",e.shippingAddress.lastName,d.jsx("br",{}),e.shippingAddress.address,e.shippingAddress.apartment&&d.jsxs(d.Fragment,{children:[d.jsx("br",{}),e.shippingAddress.apartment]}),d.jsx("br",{}),e.shippingAddress.city,", ",e.shippingAddress.state," ",e.shippingAddress.zipCode,d.jsx("br",{}),e.shippingAddress.country]})]})]}),d.jsx("div",{className:PA.orderTotal,children:d.jsxs("div",{className:PA.totalRow,children:[d.jsx("span",{className:PA.totalLabel,children:"Total"}),d.jsx("span",{className:PA.totalAmount,children:l(e.total)})]})})]})]});var c,u},DA=()=>{var e,t;const n=Ee(),r=ke(),{currentUser:i,userData:s,logout:a}=tk(),{isGuestCheckout:o}=Hr(e=>e.guest),l=new URLSearchParams(r.search).get("tab"),[c,u]=g.useState("addresses"===l?"addresses":"orders"),[h,f]=g.useState(!1),[p,m]=g.useState(null),[y,v]=g.useState([]),[b,_]=g.useState([]),[w,x]=g.useState("all"),[k,S]=g.useState(!0),[C,E]=g.useState(""),[T,N]=g.useState(null),[I,j]=g.useState(!1),[A,P]=g.useState("");g.useEffect(()=>{if(console.log("AccountPage - Guest Checkout Status:",o),o)try{const e=localStorage.getItem("guestRecentOrders");if(e){const t=JSON.parse(e);t&&t.length>0&&n("/account",{state:{recentOrders:t},replace:!0})}}catch(e){console.error("Error loading guest orders from localStorage:",e)}},[o,n]),g.useEffect(()=>{i||o||n("/login")},[i,o,n,k]),g.useEffect(()=>{i&&n(`/account?tab=${c}`,{replace:!0})},[c,n,i]),g.useEffect(()=>{(async()=>{if(null==i?void 0:i.uid)try{S(!0);const e=Rm(Zp(gb,"orders"),zm("userId","==",i.uid)),t=(await ng(e)).docs.map(e=>{var t,n;return{id:e.id,...e.data(),createdAt:(null==(n=null==(t=e.data().createdAt)?void 0:t.toDate)?void 0:n.call(t))||new Date}});t.sort((e,t)=>t.createdAt-e.createdAt),v(t)}catch(e){console.error("Error fetching orders:",e),Kt.error("Failed to load your orders")}finally{S(!1)}else S(!1)})()},[i]),g.useEffect(()=>{(async()=>{if(null==i?void 0:i.uid)try{const e=Zp(gb,"users",i.uid,"addresses"),t=(await ng(e)).docs.map(e=>({id:e.id,...e.data()}));_(t)}catch(e){console.error("Error fetching addresses:",e),Kt.error("Failed to load your addresses")}})()},[i]);const O=async e=>{if(e.preventDefault(),C.trim()){j(!0),P(""),N(null);try{const{order:e,error:n}=await ij(C);if(n)return void P("Order not found. Please check your order ID and try again.");if(N(e),o)try{const t=localStorage.getItem("guestRecentOrders");let n=t?JSON.parse(t):[];n.some(t=>t.id===e.id)||(n.unshift({id:e.id,createdAt:e.createdAt,total:e.total,status:e.status,paymentMethod:e.paymentMethod,paymentStatus:e.paymentStatus}),n=n.slice(0,5),localStorage.setItem("guestRecentOrders",JSON.stringify(n)))}catch(t){console.error("Error saving recent orders to localStorage:",t)}}catch(n){console.error("Error fetching order:",n),P("Failed to fetch order details. Please try again.")}finally{j(!1)}}else P("Please enter an order ID")},D="all"===w?y:y.filter(e=>e.status===w);return k?d.jsx("div",{className:Sj.container,children:d.jsx("div",{className:Sj.loadingSpinner,children:"Loading..."})}):i||o?o?d.jsx("div",{className:Sj.container,children:d.jsxs("div",{className:Sj.guestTrackOrder,children:[d.jsxs("div",{className:Sj.guestHeader,children:[d.jsx("h2",{children:"Track Your Order"}),d.jsxs("p",{className:Sj.guestSubtitle,children:["Enter your order ID to track your order status. Don't have an account?"," ",d.jsx("button",{className:Sj.inlineLink,onClick:()=>n("/signup"),children:"Create one to access more features!"})]})]}),d.jsx("div",{className:Sj.trackOrderSection,children:d.jsxs("form",{onSubmit:O,className:Sj.trackForm,children:[d.jsxs("div",{className:Sj.inputGroup,children:[d.jsx("input",{type:"text",value:C,onChange:e=>E(e.target.value),placeholder:"Enter your order ID",className:Sj.orderInput}),d.jsxs("button",{type:"submit",className:Sj.trackButton,disabled:I,children:[I?d.jsx(jw,{className:Sj.spinner}):d.jsx(Tw,{}),"Track Order"]})]}),A&&d.jsx("p",{className:Sj.error,children:A})]})}),T&&d.jsxs("div",{className:Sj.orderDetails,children:[d.jsx("h3",{children:"Order Found"}),d.jsx(OA,{order:T})]}),(null==(e=r.state)?void 0:e.recentOrders)&&r.state.recentOrders.length>0&&d.jsxs("div",{className:Sj.recentOrdersSection,children:[d.jsx("h3",{children:"Recent Orders"}),d.jsx("p",{children:"Here are your recently tracked orders:"}),d.jsx("div",{className:Sj.ordersList,children:r.state.recentOrders.map(e=>d.jsx(OA,{order:e},e.id))})]}),d.jsxs("div",{className:Sj.guestActions,children:[d.jsx("div",{className:Sj.guestInfo,children:d.jsxs("div",{className:Sj.infoCard,children:[d.jsx("h3",{children:"Why Create an Account?"}),d.jsxs("div",{className:Sj.benefitsList,children:[d.jsxs("div",{className:Sj.benefitItem,children:[d.jsx("div",{className:Sj.benefitIcon,children:""}),d.jsxs("div",{className:Sj.benefitText,children:[d.jsx("h4",{children:"Complete Order History"}),d.jsx("p",{children:"Access all your past and current orders in one place"})]})]}),d.jsxs("div",{className:Sj.benefitItem,children:[d.jsx("div",{className:Sj.benefitIcon,children:""}),d.jsxs("div",{className:Sj.benefitText,children:[d.jsx("h4",{children:"Saved Addresses"}),d.jsx("p",{children:"Store multiple shipping addresses for faster checkout"})]})]}),d.jsxs("div",{className:Sj.benefitItem,children:[d.jsx("div",{className:Sj.benefitIcon,children:""}),d.jsxs("div",{className:Sj.benefitText,children:[d.jsx("h4",{children:"Faster Checkout"}),d.jsx("p",{children:"Skip the form filling with saved information"})]})]}),d.jsxs("div",{className:Sj.benefitItem,children:[d.jsx("div",{className:Sj.benefitIcon,children:""}),d.jsxs("div",{className:Sj.benefitText,children:[d.jsx("h4",{children:"Order Updates"}),d.jsx("p",{children:"Get real-time notifications about your orders"})]})]})]})]})}),d.jsxs("div",{className:Sj.actionButtons,children:[d.jsx("button",{className:Sj.loginButton,onClick:()=>n("/login"),children:"Log In to Your Account"}),d.jsx("button",{className:Sj.signupButton,onClick:()=>n("/signup"),children:"Create New Account"})]})]})]})}):d.jsxs("div",{className:Sj.accountContainer,children:[d.jsxs("div",{className:Sj.sidebar,children:[d.jsxs("h3",{className:Sj.welcomeText,children:["Welcome,"," ",(null==s?void 0:s.firstName)||(null==(t=null==i?void 0:i.email)?void 0:t.split("@")[0])||"User"]}),d.jsxs("div",{className:Sj.menuItems,children:[d.jsxs("button",{className:`${Sj.menuItem} ${"orders"===c?Sj.active:""}`,onClick:()=>u("orders"),children:[d.jsx(dw,{})," Orders"]}),d.jsxs("button",{className:`${Sj.menuItem} ${"addresses"===c?Sj.active:""}`,onClick:()=>u("addresses"),children:[d.jsx(ww,{})," Addresses"]})]}),d.jsx("button",{className:Sj.logoutButton,onClick:async()=>{try{await a(),n("/"),Kt.success("Successfully logged out")}catch(e){console.error("Error logging out:",e),Kt.error("Failed to log out")}},children:"LOG OUT"})]}),d.jsxs("div",{className:Sj.content,children:["orders"===c&&d.jsxs("div",{className:Sj.ordersSection,children:[d.jsx("h2",{className:Sj.sectionTitle,children:"My Orders"}),d.jsxs("div",{className:Sj.orderFilters,children:[d.jsx("button",{className:`${Sj.filterButton} ${"all"===w?Sj.activeFilter:""}`,onClick:()=>x("all"),children:"All"}),d.jsx("button",{className:`${Sj.filterButton} ${"pending"===w?Sj.activeFilter:""}`,onClick:()=>x("pending"),children:"Pending"}),d.jsx("button",{className:`${Sj.filterButton} ${"processing"===w?Sj.activeFilter:""}`,onClick:()=>x("processing"),children:"Processing"}),d.jsx("button",{className:`${Sj.filterButton} ${"shipped"===w?Sj.activeFilter:""}`,onClick:()=>x("shipped"),children:"Shipped"}),d.jsx("button",{className:`${Sj.filterButton} ${"delivered"===w?Sj.activeFilter:""}`,onClick:()=>x("delivered"),children:"Delivered"})]}),d.jsx("div",{className:Sj.trackOrderSection,children:d.jsxs("form",{onSubmit:O,className:Sj.trackForm,children:[d.jsxs("div",{className:Sj.inputGroup,children:[d.jsx("input",{type:"text",value:C,onChange:e=>E(e.target.value),placeholder:"Enter order ID to track",className:Sj.orderInput}),d.jsxs("button",{type:"submit",className:Sj.trackButton,disabled:I,children:[I?d.jsx(jw,{className:Sj.spinner}):d.jsx(Tw,{}),"Track Order"]})]}),A&&d.jsx("p",{className:Sj.error,children:A})]})}),T&&d.jsx("div",{className:Sj.orderDetails,children:d.jsx(OA,{order:T})}),0===D.length?d.jsxs("div",{className:Sj.emptyState,children:[d.jsx(_w,{className:Sj.emptyStateIcon}),d.jsx("p",{className:Sj.emptyStateText,children:0===y.length?"You haven't placed any orders yet.":`No ${w} orders found.`}),d.jsx("button",{className:Sj.shopNowButton,onClick:()=>n("/shop"),children:"Browse Collection"})]}):d.jsx("div",{className:Sj.ordersList,children:D.map(e=>d.jsx(OA,{order:e},e.id))})]}),"addresses"===c&&d.jsxs("div",{className:Sj.addressesSection,id:"addresses-section",children:[d.jsx("h2",{className:Sj.sectionTitle,children:"My Addresses"}),d.jsx("button",{className:Sj.addAddressButton,onClick:()=>{m(null),f(!0)},children:"+ Add New Address"}),0===b.length?d.jsxs("div",{className:Sj.emptyState,children:[d.jsx(ww,{className:Sj.emptyStateIcon}),d.jsx("p",{className:Sj.emptyStateText,children:"You haven't saved any addresses yet."})]}):d.jsx("div",{className:Sj.addressGrid,children:b.map(e=>d.jsxs("div",{className:Sj.addressCard,children:[e.isDefault&&d.jsx("span",{className:Sj.defaultBadge,children:"Default"}),d.jsx("div",{className:Sj.addressHeader,children:d.jsxs("h3",{children:[e.firstName," ",e.lastName]})}),d.jsx("p",{children:e.address1}),e.address2&&d.jsx("p",{children:e.address2}),d.jsxs("p",{children:[e.city,", ",e.state," ",e.zipCode]}),d.jsx("p",{children:e.country}),d.jsx("p",{children:e.phone}),d.jsxs("div",{className:Sj.addressActions,children:[d.jsxs("button",{className:Sj.editButton,onClick:()=>(e=>{m(e),f(!0)})(e),children:[d.jsx(Yk,{})," Edit"]}),d.jsxs("button",{className:Sj.deleteButton,onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this address?"))try{await ig(em(gb,"users",i.uid,"addresses",e)),_(b.filter(t=>t.id!==e)),Kt.success("Address deleted successfully")}catch(t){console.error("Error deleting address:",t),Kt.error("Failed to delete address")}})(e.id),children:[d.jsx(Qk,{})," Delete"]}),!e.isDefault&&d.jsx("button",{className:Sj.defaultButton,onClick:()=>(async e=>{try{const t=b.filter(e=>e.isDefault);for(const e of t)await rg(em(gb,"users",i.uid,"addresses",e.id),{isDefault:!1});await rg(em(gb,"users",i.uid,"addresses",e),{isDefault:!0}),_(b.map(t=>({...t,isDefault:t.id===e}))),Kt.success("Default address updated")}catch(t){console.error("Error updating default address:",t),Kt.error("Failed to update default address")}})(e.id),children:"Set as Default"})]})]},e.id))})]})]}),h&&d.jsx(Lj,{onClose:()=>{f(!1),m(null)},userId:null==i?void 0:i.uid,address:p,onAddressAdded:e=>{_([...b,e]),f(!1),m(null)},onAddressUpdated:e=>{_(b.map(t=>t.id===e.id?e:t)),f(!1),m(null)}})]}):d.jsx("div",{className:Sj.container,children:d.jsxs("div",{className:Sj.loginPrompt,children:[d.jsx("h2",{children:"Please log in to access your account"}),d.jsx("button",{className:Sj.loginButton,onClick:()=>n("/login"),children:"Log In"})]})})},LA="_container_11029_1",RA="_errorCode_11029_23",MA="_message_11029_35",zA="_description_11029_45",FA="_homeButton_11029_59",UA=()=>{const e=Ee();return d.jsxs("div",{className:LA,children:[d.jsx("h1",{className:RA,children:"404"}),d.jsx("h2",{className:MA,children:"Oops! The page you're looking for doesn't exist."}),d.jsx("p",{className:zA,children:"The page might have been removed, renamed, or is temporarily unavailable."}),d.jsx("button",{className:FA,onClick:()=>{e("/"),window.scrollTo(0,0)},children:"Go to Homepage"})]})},BA="_container_z3f2j_1",$A="_card_z3f2j_17",qA="_description_z3f2j_47",VA="_message_z3f2j_59",HA="_input_z3f2j_71",WA="_submitButton_z3f2j_89",GA="_backButton_z3f2j_121",KA=()=>{const[e,t]=g.useState(""),[n,r]=g.useState(""),i=Ee();return d.jsxs("div",{children:[d.jsx(O_,{}),d.jsx("div",{className:BA,children:d.jsxs("div",{className:$A,children:[d.jsx("h2",{children:"Forgot Password"}),d.jsx("p",{className:qA,children:"Enter your email address below, and well send you a link to reset your password."}),n&&d.jsx("p",{className:VA,children:n}),d.jsxs("form",{onSubmit:t=>{t.preventDefault(),r(e?`A password reset link has been sent to ${e}`:"Please enter your email address.")},children:[d.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value),className:HA,required:!0}),d.jsx("button",{type:"submit",className:WA,children:"Send Reset Link"})]}),d.jsx("button",{className:GA,onClick:()=>i("/login"),children:"Back to Sign In"})]})})]})},QA="_container_9m9th_1",YA="_mainTitle_9m9th_21",XA="_title_9m9th_39",JA="_contentWrapper_9m9th_55",ZA="_date_9m9th_77",eP="_section_9m9th_91",tP="_text_9m9th_99",nP="_bulletList_9m9th_113",rP=()=>d.jsxs("div",{className:QA,children:[d.jsx("div",{className:YA,children:d.jsx(eS,{width:"250px",height:"40px"})}),d.jsxs("div",{className:JA,children:[d.jsx("div",{className:ZA,children:d.jsx(eS,{width:"200px"})}),[...Array(9)].map((e,t)=>d.jsxs("div",{className:eP,children:[d.jsx("div",{className:XA,children:d.jsx(eS,{width:"250px",height:"28px"})}),d.jsxs("div",{className:tP,children:[d.jsx(eS,{lines:3,width:"100%"}),2===t||3===t||5===t?d.jsx("div",{className:nP,children:[...Array(6)].map((e,t)=>d.jsx(eS,{width:"80%"},t))}):null]})]},t))]})]}),iP=()=>{var e;const[t,n]=g.useState(null),[r,i]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const e=await(async()=>{try{const e=em(gb,"PrivacyPolicy","content"),t=await eg(e);return t.exists()?t.data():(console.log("No privacy policy content found"),null)}catch(e){throw console.error("Error fetching privacy policy content:",e),new Error(`Failed to fetch privacy policy content: ${e.message}`)}})();n(e)}catch(e){console.error("Error loading privacy content:",e)}finally{i(!1)}})()},[]),r?d.jsx(rP,{}):d.jsxs("div",{className:QA,children:[d.jsx("h1",{className:YA,children:(null==t?void 0:t.title)||"Privacy Policy"}),d.jsxs("div",{className:JA,children:[d.jsxs("p",{className:ZA,children:["Last Updated: ",(null==t?void 0:t.effectiveDate)?new Date(1e3*t.effectiveDate.seconds).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):(null==t?void 0:t.createdAt)?new Date(1e3*t.createdAt.seconds).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""]}),"        ",null==(e=null==t?void 0:t.sections)?void 0:e.map((e,t)=>d.jsxs("div",{className:eP,children:[d.jsx("h2",{className:XA,children:e.heading}),d.jsxs("div",{className:tP,children:[e.description.split("\\n").map((e,t)=>d.jsx("p",{className:tP,children:e},t)),e.bulletPoints&&e.bulletPoints.length>0&&d.jsx("ul",{className:nP,children:e.bulletPoints.map((e,t)=>d.jsx("li",{dangerouslySetInnerHTML:{__html:e}},t))})]})]},t))]})]})},sP=()=>d.jsxs("div",{className:QA,children:[d.jsx("div",{className:YA,children:d.jsx(eS,{width:"300px",height:"40px"})}),d.jsxs("div",{className:JA,children:[d.jsx("div",{className:ZA,children:d.jsx(eS,{width:"200px"})}),[...Array(11)].map((e,t)=>d.jsxs("div",{className:eP,children:[d.jsx("div",{className:XA,children:d.jsx(eS,{width:"250px",height:"28px"})}),d.jsx("div",{className:tP,children:d.jsx(eS,{lines:3,width:"100%"})})]},t))]})]}),aP=()=>{var e;const[t,n]=g.useState(null),[r,i]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const e=await(async()=>{try{const e=em(gb,"TermsConditions","content"),t=await eg(e);return t.exists()?t.data():(console.log("No terms and conditions content found"),null)}catch(e){throw console.error("Error fetching terms content:",e),new Error(`Failed to fetch terms content: ${e.message}`)}})();n(e),console.log("Fetched terms content:",e)}catch(e){console.error("Error loading terms content:",e)}finally{i(!1)}})()},[]),r?d.jsx(sP,{}):d.jsxs("div",{className:QA,children:[d.jsx("h1",{className:YA,children:(null==t?void 0:t.title)||"Terms and Conditions"}),"      ",d.jsxs("div",{className:JA,children:[d.jsxs("p",{className:ZA,children:["Last Updated: ",(null==t?void 0:t.effectiveDate)?new Date(1e3*t.effectiveDate.seconds).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):(null==t?void 0:t.createdAt)?new Date(1e3*t.createdAt.seconds).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""]}),null==(e=null==t?void 0:t.sections)?void 0:e.map((e,t)=>{var n;return d.jsxs("div",{className:eP,children:[d.jsx("h2",{className:XA,children:e.heading}),d.jsx("div",{className:tP,children:null==(n=e.description)?void 0:n.split("\\n").map((e,t)=>d.jsx("p",{children:e},t))})]},t)})]})]})},oP="_container_4xv4a_1",lP="_header_4xv4a_15",cP="_title_4xv4a_29",uP="_viewToggle_4xv4a_41",dP="_viewButton_4xv4a_51",hP="_active_4xv4a_67",fP="_count_4xv4a_79",pP="_emptyState_4xv4a_95",mP="_browseButton_4xv4a_139",gP="_loading_4xv4a_171",yP="_gridContainer_4xv4a_189",vP="_gridItem_4xv4a_201",bP="_imageContainer_4xv4a_227",_P="_productImage_4xv4a_239",wP="_removeButton_4xv4a_251",xP="_productInfo_4xv4a_293",kP="_productName_4xv4a_309",SP="_productPrice_4xv4a_331",CP="_addToCartButton_4xv4a_345",EP="_listContainer_4xv4a_385",TP="_listItem_4xv4a_397",NP="_listImageContainer_4xv4a_413",IP="_listProductImage_4xv4a_425",jP="_listProductInfo_4xv4a_437",AP="_listProductName_4xv4a_453",PP="_listProductPrice_4xv4a_475",OP="_listActions_4xv4a_489",DP="_listAddToCartButton_4xv4a_507",LP="_listRemoveButton_4xv4a_509",RP=()=>{const e=$r(),t=Ee(),{currentUser:n,isAuthenticated:r}=tk()||{},{favorites:i,loading:s}=Hr(e=>e.favorites),[a,o]=g.useState(!0);g.useEffect(()=>{r&&(null==n?void 0:n.uid)&&e(Fx(n.uid))},[e,r,n]);const l=t=>{const i=t.productId||t.id;e(r&&n?Bx({userId:n.uid,productId:i}):Hx(i)),Kt.success("Removed from favorites")},c=t=>{const n={id:t.productId||t.id,name:t.name,price:t.price,image:t.image,size:t.size||"M",color:t.color||"000000",quantity:1};e(Ex(n)),Kt.success("Added to cart")},u=e=>{t(`/product?id=${e}`)};return d.jsxs("div",{className:oP,children:[d.jsxs("div",{className:lP,children:[d.jsx("h1",{className:cP,children:"My Favorites"}),i.length>0&&d.jsxs("div",{className:uP,children:[d.jsx("button",{className:`${dP} ${a?hP:""}`,onClick:()=>o(!0),children:"Grid"}),d.jsx("button",{className:`${dP} ${a?"":hP}`,onClick:()=>o(!1),children:"List"})]})]}),s?d.jsx("div",{className:gP,children:"Loading favorites..."}):0===i.length?d.jsxs("div",{className:pP,children:[d.jsx(P_,{size:60,color:"#ccc"}),d.jsx("h2",{children:"Your Favorites List is Empty"}),d.jsx("p",{children:"Save items you love to your favorites list and they'll appear here."}),d.jsx("button",{className:mP,onClick:()=>t("/shop"),children:"Browse Collection"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:fP,children:[i.length," item",1!==i.length?"s":""]}),a?d.jsx("div",{className:yP,children:i.map(e=>d.jsxs("div",{className:vP,children:[d.jsxs("div",{className:bP,onClick:()=>u(e.productId||e.id),children:[d.jsx("img",{src:e.image,alt:e.name,className:_P,onError:e=>{e.target.src="/images/placeholder.jpg"}}),d.jsx("button",{className:wP,onClick:t=>{t.stopPropagation(),l(e)},children:d.jsx(P_,{size:18,filled:!0,color:"#e6994b"})})]}),d.jsxs("div",{className:xP,children:[d.jsx("h3",{className:kP,onClick:()=>u(e.productId||e.id),children:e.name}),d.jsx("p",{className:SP,children:e.price}),d.jsx("button",{className:CP,onClick:()=>c(e),children:"Add to Cart"})]})]},e.id||e.productId))}):d.jsx("div",{className:EP,children:i.map(e=>d.jsxs("div",{className:TP,children:[d.jsx("div",{className:NP,onClick:()=>u(e.productId||e.id),children:d.jsx("img",{src:e.image,alt:e.name,className:IP,onError:e=>{e.target.src="/images/placeholder.jpg"}})}),d.jsxs("div",{className:jP,children:[d.jsx("h3",{className:AP,onClick:()=>u(e.productId||e.id),children:e.name}),d.jsx("p",{className:PP,children:e.price})]}),d.jsxs("div",{className:OP,children:[d.jsx("button",{className:DP,onClick:()=>c(e),children:"Add to Cart"}),d.jsx("button",{className:LP,onClick:()=>l(e),children:"Remove"})]})]},e.id||e.productId))})]})]})},MP="_faqContainer_1vm5i_1",zP="_heroSection_1vm5i_13",FP="_heroContent_1vm5i_63",UP="_heroTitle_1vm5i_79",BP="_heroSubtitle_1vm5i_121",$P="_faqSection_1vm5i_137",qP="_faqList_1vm5i_157",VP="_faqItem_1vm5i_169",HP="_faqQuestion_1vm5i_193",WP="_open_1vm5i_235",GP="_questionText_1vm5i_245",KP="_toggleIcon_1vm5i_257",QP="_faqAnswer_1vm5i_283",YP="_answerContent_1vm5i_305",XP=()=>{const[e,t]=g.useState(new Set),n=[{question:"Are your garments really handmade?",answer:"Absolutely. Every piece is 100% handmade by skilled Latin American artisans using traditional techniques such as macram, crochet, and hand-weaving. Each item is truly one of a kind."},{question:"What materials do you use?",answer:"We use premium, breathable cotton blends and natural fibers for comfort, durability, and an eco-conscious footprint. Some pieces also incorporate high-quality swimwear fabric in combination with cotton-blend macram for added function and style."},{question:"How do I know which size to order?",answer:"Each product page includes a detailed size guide. If you're between sizes or unsure, feel free to contact uswe'll gladly assist you and can offer custom sizing for select items."},{question:"Can I request a custom size or design?",answer:"Yes! We offer limited customization on selected garments. You can request adjustments at checkout or by contacting us directly. Please note that custom orders may require additional fees and longer production times."},{question:"How long will my order take to ship?",answer:"As all items are handmade to order, please allow 714 business days for production. Delivery usually takes approximately 20 days total after order confirmation."},{question:"Can I expedite my order?",answer:"If you need your item by a specific date or for an event, contact us before placing your order. Rush requests may be accommodated depending on current production capacity (rush fees may apply)."},{question:"Do you ship internationally?",answer:"Yes, we offer worldwide shipping. Delivery times and shipping fees vary by destination. Please note that customs duties or import taxes may apply based on your country's regulations."},{question:"What is your return and exchange policy?",answer:"We accept returns within 7 days of delivery for unworn, unused items returned in original condition and packaging. Please note:  Custom orders (including sizing, color, or design modifications) are non-returnable and non-refundable.  Final sale items are not eligible for return or exchange.  Refunds on customized pieces are considered only in exceptional cases, at the discretion of ORIGINS management."},{question:"How should I care for my garment?",answer:"Hand wash gently in cold water with mild soap and lay flat to dry. Avoid wringing, bleaching, or machine washing to maintain the integrity of the fabric and hand-knotted details."},{question:"Are your garments lined?",answer:'Many of our swim tops are lined. However, several garments are intentionally unlined to preserve their lightweight and semi-sheer aesthetic. Please refer to the "Description & Features" section on each product page for specific details.'},{question:"Are your products sustainably and ethically made?",answer:"Yes. We follow slow fashion principles and partner only with artisan communities that ensure ethical, fair-trade practices. Your purchase helps support women-led groups and preserve ancestral craftsmanship."},{question:"Do you offer wholesale or collaborations?",answer:"We do! We collaborate with select boutiques, stylists, and editors. For wholesale inquiries or partnership opportunities, please contact us at hello@originsbythesea.com."},{question:"Can I request a different color for a garment?",answer:"In some cases, yes. Contact us before placing your order to discuss alternative color options and fiber availability. Custom colors may extend the lead time."},{question:"Do you offer matching sets or family looks?",answer:"We occasionally create matching looks for bridal parties, mother-daughter sets, and special occasions. For group orders or bespoke designs, reach out to us directly."},{question:"What if my piece has a slight variation or irregularity?",answer:"Slight differences in stitching, pattern, or shade are a natural result of handmade craftsmanship and part of what makes each piece unique. These are not considered defects."},{question:"Can I swim in your garments?",answer:"Our bikinis and swimsuits are suitable for swimming. However, our macram dresses and cover-ups are designed primarily for lounging, festivals, or beachside wearnot prolonged exposure to chlorinated or salt water, which may affect durability over time."},{question:"Where are you based, and where are your products made?",answer:"Our creative studio is based in the United Arab Emirates, while our garments are handcrafted in Colombia and other Latin American countries by our artisan collaborators."},{question:"Do you offer styling support?",answer:"Yes! Whether you're shopping for a beach wedding, tropical trip, or editorial shoot, we're happy to assist with styling advice. Reach us via our contact form or DM us on Instagram @originsbythesea."},{question:"What payment methods do you accept?",answer:"We accept major credit cards, and cash on delivery. Customers in the UAE may request local bank transfercontact us for arrangements"},{question:"How can I stay updated on new drops and collections?",answer:"Subscribe to our newsletter and follow us on Instagram @originsbythesea to be the first to know about new releases, restocks, behind-the-scenes stories, and exclusive offers."}],r={title:"Frequently Asked Questions | Origin By The Sea",description:"Find answers to common questions about our handmade garments, sizing, shipping, returns, and more. Get all the information you need about Origin By The Sea.",canonicalUrl:"https://originsbythesea.com/faq",keywords:"FAQ, frequently asked questions, origin by the sea, handmade garments, sizing guide, shipping, returns, custom orders",type:"website",pageType:"FAQPage",schema:{"@context":"https://schema.org","@type":"FAQPage",name:"Frequently Asked Questions - Origin By The Sea",description:"Common questions and answers about our handmade sustainable fashion",publisher:{"@type":"Organization",name:"Origin By The Sea",logo:{"@type":"ImageObject",url:"https://originsbythesea.com/images/logo.png"}},url:"https://originsbythesea.com/faq",mainEntity:n.map(e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}}))}};return d.jsxs("div",{className:MP,children:[d.jsx(Hw,{...r}),d.jsx("section",{className:zP,children:d.jsxs("div",{className:FP,children:[d.jsx("h1",{className:UP,children:"Frequently Asked Questions"}),d.jsx("p",{className:BP,children:"Find answers to common questions about our handmade garments, sizing, shipping, and more."})]})}),d.jsx("section",{className:$P,children:d.jsx("div",{className:MP,children:d.jsx("div",{className:qP,children:n.map((n,r)=>d.jsxs("div",{className:VP,children:[d.jsxs("button",{className:`${HP} ${e.has(r)?WP:""}`,onClick:()=>(n=>{const r=new Set(e);r.has(n)?r.delete(n):r.add(n),t(r)})(r),children:[d.jsx("span",{className:GP,children:n.question}),d.jsx("span",{className:KP,children:e.has(r)?"":"+"})]}),d.jsx("div",{className:`${QP} ${e.has(r)?WP:""}`,children:d.jsx("div",{className:YP,children:d.jsx("p",{children:n.answer})})})]},r))})})})]})},JP={container:"_container_lec0q_1",trackOrderBox:"_trackOrderBox_lec0q_13",title:"_title_lec0q_27",guestMessage:"_guestMessage_lec0q_43",authenticatedMessage:"_authenticatedMessage_lec0q_45",viewAllOrdersBtn:"_viewAllOrdersBtn_lec0q_77",trackForm:"_trackForm_lec0q_107",inputGroup:"_inputGroup_lec0q_115",orderInput:"_orderInput_lec0q_127",trackButton:"_trackButton_lec0q_155",spinner:"_spinner_lec0q_201",error:"_error_lec0q_227",orderDetails:"_orderDetails_lec0q_239",orderInfo:"_orderInfo_lec0q_267",status:"_status_lec0q_293",productsList:"_productsList_lec0q_313",product:"_product_lec0q_313",productImage:"_productImage_lec0q_345",productDetails:"_productDetails_lec0q_363",productTitle:"_productTitle_lec0q_371",productVariants:"_productVariants_lec0q_385",productPrice:"_productPrice_lec0q_397"},ZP=()=>{const[e,t]=g.useState(""),[n,r]=g.useState(null),[i,s]=g.useState(!1),[a,o]=g.useState(""),[l,c]=g.useState(!1),u=Ee(),h=ke(),{isGuestCheckout:f}=Hr(e=>e.guest||{isGuestCheckout:!1});g.useEffect(()=>{console.log("TrackOrder - Guest Checkout Status:",f)},[f]),g.useEffect(()=>{console.log("TrackOrder - Location State:",h.state),console.log("TrackOrder - Search Params:",h.search)},[h]),g.useEffect(()=>{const e=new URLSearchParams(h.search).get("orderId");e&&(console.log("Found order ID in URL params:",e),t(e),p(e))},[h.search]),g.useEffect(()=>{var e,n;const i=null==(e=h.state)?void 0:e.orderId,s=null==(n=h.state)?void 0:n.orderData;console.log("TrackOrder - Order ID from state:",i),console.log("TrackOrder - Order data from state:",s),i&&(t(i),s?(r({id:i,...s,createdAt:s.createdAt||new Date}),console.log("Using order data from state:",s)):(console.log("Fetching order data from Firestore for ID:",i),p(i)))},[]);const p=async e=>{if(e&&e.trim()){s(!0),o(""),r(null);try{const{order:t,error:n}=await ij(e);if(n)return void o("Order not found. Please check your order ID and try again.");r(t)}catch(t){console.error("Error fetching order:",t),o("Failed to fetch order details. Please try again.")}finally{s(!1)}}};return d.jsx("div",{className:JP.container,children:d.jsxs("div",{className:JP.trackOrderBox,children:[d.jsx("h1",{className:JP.title,children:"Track Your Order"}),f?d.jsxs("div",{className:JP.guestMessage,children:[d.jsx("p",{children:"You're checking out as a guest. Please enter your order ID to track your order status."}),d.jsx("p",{children:"If you don't have your order ID, please check your order confirmation email or the order success page."})]}):d.jsxs("div",{className:JP.authenticatedMessage,children:[d.jsx("p",{children:"You can track your order status here or view all your orders in your account."}),d.jsx("button",{className:JP.viewAllOrdersBtn,onClick:()=>u("/account?tab=orders"),children:"View All Orders"})]}),d.jsxs("form",{onSubmit:async t=>{t.preventDefault(),p(e)},className:JP.trackForm,children:[d.jsxs("div",{className:JP.inputGroup,children:[d.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your order ID",className:JP.orderInput}),d.jsxs("button",{type:"submit",className:JP.trackButton,disabled:i,children:[i?d.jsx(jw,{className:JP.spinner}):d.jsx(Tw,{}),"Track Order"]})]}),a&&d.jsx("p",{className:JP.error,children:a})]}),n&&d.jsxs("div",{className:JP.orderDetails,children:[d.jsx("h2",{children:"Order Details"}),d.jsxs("div",{className:JP.orderIdSection,children:[d.jsx("span",{className:JP.orderIdLabel,children:"Order ID:"}),d.jsx("span",{className:JP.orderId,children:n.id||n.orderId}),d.jsx("button",{className:JP.copyButton,onClick:()=>{if(n){const e=n.id||n.orderId;navigator.clipboard.writeText(e),c(!0),setTimeout(()=>c(!1),2e3)}},title:"Copy Order ID",children:l?"Copied!":d.jsx(yw,{})})]}),d.jsxs("div",{className:JP.orderInfo,children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",(m=n.createdAt,new Date(m).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}))]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Status:"})," ",d.jsx("span",{className:JP.status,style:{color:(e=>{switch(e){case"processing":default:return"#f59e0b";case"shipped":return"#3b82f6";case"delivered":return"#10b981";case"cancelled":return"#ef4444"}})(n.status)},children:(e=>{switch(e){case"processing":default:return"Processing";case"shipped":return"Shipped";case"delivered":return"Delivered";case"cancelled":return"Cancelled"}})(n.status)})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Payment Method:"})," ","cod"===n.paymentMethod?"Cash On Delivery":"Credit/Debit Card"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Payment Status:"})," ","paid"===n.paymentStatus?"Paid":"Pending"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total Amount:"})," AED"," ",n.total.toFixed(2)]})]}),n.shippingAddress&&d.jsxs("div",{className:JP.shippingSection,children:[d.jsx("h3",{children:"Shipping Address"}),d.jsxs("div",{className:JP.addressInfo,children:[d.jsxs("p",{children:[n.shippingAddress.firstName," ",n.shippingAddress.lastName]}),d.jsx("p",{children:n.shippingAddress.address}),n.shippingAddress.apartment&&d.jsx("p",{children:n.shippingAddress.apartment}),d.jsxs("p",{children:[n.shippingAddress.city,","," ",n.shippingAddress.state," ",n.shippingAddress.zipCode]}),d.jsx("p",{children:n.shippingAddress.country})]})]}),d.jsx("h3",{children:"Items"}),d.jsx("div",{className:JP.productsList,children:n.items&&n.items.map((e,t)=>d.jsxs("div",{className:JP.product,children:[d.jsx("div",{className:JP.productImage,style:{backgroundImage:`url(${e.image})`}}),d.jsxs("div",{className:JP.productDetails,children:[d.jsx("p",{className:JP.productTitle,children:e.name}),d.jsxs("p",{className:JP.productVariants,children:[e.size&&d.jsxs("span",{children:["Size: ",e.size]}),e.displayColor&&d.jsx("span",{style:{display:"inline-block",width:"12px",height:"12px",background:e.displayColor,marginLeft:"5px",borderRadius:"50%"}}),e.quantity>1&&d.jsxs("span",{children:["  ",e.quantity]})]}),d.jsx("p",{className:JP.productPrice,children:e.price})]})]},t))}),d.jsxs("div",{className:JP.actionButtons,children:[d.jsx("button",{className:JP.continueShoppingBtn,onClick:()=>u("/shop"),children:"Continue Shopping"}),!f&&d.jsx("button",{className:JP.viewAllOrdersBtn,onClick:()=>u("/account?tab=orders"),children:"View All Orders"})]})]})]})});var m},eO="_successContainer_236we_1",tO="_successHeader_236we_17",nO="_successIcon_236we_27",rO="_successTitle_236we_39",iO="_successMessage_236we_51",sO="_orderIdCard_236we_67",aO="_orderIdContent_236we_85",oO="_orderId_236we_67",lO="_copyButton_236we_129",cO="_copySuccess_236we_173",uO="_orderIdMessage_236we_187",dO="_guestAlert_236we_203",hO="_orderDetailsCard_236we_237",fO="_orderMetaGrid_236we_269",pO="_orderMetaItem_236we_283",mO="_paymentStatus_236we_333",gO="_totalAmount_236we_347",yO="_productsList_236we_373",vO="_product_236we_373",bO="_productImage_236we_409",_O="_productDetails_236we_431",wO="_productTitle_236we_445",xO="_productVariants_236we_457",kO="_variantTag_236we_471",SO="_colorDot_236we_481",CO="_quantityTag_236we_497",EO="_productPrice_236we_513",TO="_trackOrderSection_236we_525",NO="_receiptSection_236we_565",IO="_receiptSectionTitle_236we_583",jO="_successButtons_236we_599",AO="_primaryBtn_236we_611",PO="_secondaryBtn_236we_613",OO="_trackOrderBtn_236we_683",DO=async(e,t,n="image/svg+xml")=>{try{let i=e,s="image/png";"image/svg+xml"===n&&(console.log("Converting SVG to PNG..."),i=await(r=e,new Promise((e,t)=>{try{const n=atob(r),i=new Image,s=document.createElement("canvas"),a=s.getContext("2d");i.onload=()=>{URL.revokeObjectURL(i.src),s.width=2*i.width,s.height=2*i.height,a.fillStyle="#ffffff",a.fillRect(0,0,s.width,s.height),a.scale(2,2),a.drawImage(i,0,0);const t=s.toDataURL("image/png",1).split(",")[1];e(t)},i.onerror=()=>{t(new Error("Failed to load SVG image"))};const o=new Blob([n],{type:"image/svg+xml"}),l=URL.createObjectURL(o);i.src=l}catch(n){t(n)}})));const a=atob(i),o=new Uint8Array(a.length);for(let e=0;e<a.length;e++)o[e]=a.charCodeAt(e);const l=new Blob([o],{type:s}),c=`receipt-${t}-${Date.now()}.png`,u=window.URL.createObjectURL(l),d=document.createElement("a");return d.href=u,d.download=c,d.style.display="none",document.body.appendChild(d),d.click(),setTimeout(()=>{document.body.removeChild(d),window.URL.revokeObjectURL(u)},100),console.log(` Receipt downloaded: ${c}`),!0}catch(i){throw console.error(" Error downloading receipt:",i),i}var r},LO="_receiptContainer_1onm2_1",RO="_receiptHeader_1onm2_13",MO="_successMessage_1onm2_35",zO="_successBadge_1onm2_81",FO="_successIcon_1onm2_99",UO="_actionButtons_1onm2_107",BO="_downloadButton_1onm2_117",$O="_printButton_1onm2_119",qO="_receiptPreview_1onm2_193",VO="_receiptImage_1onm2_219",HO="_receiptFooter_1onm2_247",WO="_footerText_1onm2_263",GO="_loadingState_1onm2_279",KO="_spinner_1onm2_297",QO="_errorState_1onm2_343",YO="_errorMessage_1onm2_367",XO="_retryButton_1onm2_379",JO="_loadButton_1onm2_381",ZO="_emptyState_1onm2_417",eD=({orderId:e,autoFetch:t=!0})=>{var n;const[r,i]=g.useState(!1),[s,a]=g.useState(null),[o,l]=g.useState(null),[c,u]=g.useState(!1),[h,f]=g.useState(!1),p=async()=>{var t;i(!0),l(null),console.log(" Receipt Component - Loading receipt for orderId:",e);try{const n=await(async e=>{var t;try{const n=`https://t7ck79lu3m.execute-api.eu-north-1.amazonaws.com/prod/api/receipt/${e}`;console.log(" Fetching receipt from:",n),console.log(" Order ID:",e);const r=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});console.log(" Receipt API response status:",r.status),console.log(" Receipt API response ok:",r.ok);const i=await r.json();if(console.log(" Receipt API response data:",{success:i.success,hasReceipt:!!i.receipt,mimeType:i.mimeType,format:i.format,receiptLength:null==(t=i.receipt)?void 0:t.length}),!r.ok)throw console.error(" Receipt API error:",i.error),new Error(i.error||"Failed to fetch receipt");return console.log(" Receipt fetched successfully"),{success:!0,receipt:i.receipt,mimeType:i.mimeType,orderDetails:i.orderDetails}}catch(o){return console.error(" Error fetching receipt:",o),{success:!1,error:o.message}}})(e);console.log(" Receipt Component - Fetch result:",n),n.success?(console.log(" Receipt Component - Receipt data received:",{hasReceipt:!!n.receipt,mimeType:n.mimeType,receiptLength:null==(t=n.receipt)?void 0:t.length}),a(n)):(console.error(" Receipt Component - Failed to load:",n.error),l(n.error||"Failed to load receipt"))}catch(n){console.error(" Receipt Component - Error loading receipt:",n),l(n.message||"An error occurred while loading the receipt")}finally{i(!1)}};g.useEffect(()=>{if(console.log(" Receipt Component - Mounted/Updated with:",{orderId:e,autoFetch:t}),t&&e){if("Unknown"===e||!e)return console.warn(" Receipt Component - Invalid orderId:",e),void l("Invalid order ID. Please check your order confirmation.");p()}},[e,t]);if(r)return d.jsx("div",{className:LO,children:d.jsxs("div",{className:GO,children:[d.jsx(jw,{className:KO}),d.jsx("p",{children:"Loading receipt..."})]})});if(o)return d.jsx("div",{className:LO,children:d.jsxs("div",{className:QO,children:[d.jsxs("p",{className:YO,children:[" ",d.jsx("strong",{children:"Error:"})," ",o]}),d.jsxs("div",{style:{marginTop:"10px",fontSize:"13px",color:"#666"},children:[d.jsxs("p",{children:["Order ID: ",e||"Not provided"]}),d.jsxs("p",{children:["API URL: ","https://t7ck79lu3m.execute-api.eu-north-1.amazonaws.com/prod"]})]}),d.jsx("button",{onClick:p,className:XO,children:"Try Again"})]})});if(!s)return d.jsx("div",{className:LO,children:d.jsxs("div",{className:ZO,children:[d.jsx("p",{children:"No receipt available"}),e&&d.jsx("button",{onClick:p,className:JO,children:"Load Receipt"})]})});const m=`data:${s.mimeType};base64,${s.receipt}`;console.log(" Image Data URL created:",{mimeType:s.mimeType,base64Length:null==(n=s.receipt)?void 0:n.length,dataUrlLength:m.length,dataUrlPreview:m.substring(0,100)+"..."});try{const e=atob(s.receipt);console.log(" Decoded SVG (first 500 chars):",e.substring(0,500)),console.log(" Decoded SVG (last 200 chars):",e.substring(e.length-200))}catch(uD){console.error(" Failed to decode base64:",uD)}return d.jsxs("div",{className:LO,children:[d.jsxs("div",{className:RO,children:[d.jsxs("div",{className:zO,children:[d.jsx(fw,{className:FO}),d.jsx("span",{children:"Receipt Generated"})]}),d.jsxs("div",{className:UO,children:[d.jsxs("button",{onClick:async()=>{if(s)try{if(u(!1),console.log(" Starting download..."),"image/svg+xml"===s.mimeType){const t=document.querySelector(`.${VO} svg`);if(!t)throw new Error("SVG element not found");const n=(new XMLSerializer).serializeToString(t),r=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),i=new Image,s=document.createElement("canvas"),a=s.getContext("2d");i.onload=()=>{s.width=2*t.width.baseVal.value,s.height=2*t.height.baseVal.value,a.fillStyle="#ffffff",a.fillRect(0,0,s.width,s.height),a.scale(2,2),a.drawImage(i,0,0),s.toBlob(t=>{const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`receipt-${e}-${Date.now()}.png`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),console.log(" Download complete"),u(!0),setTimeout(()=>u(!1),3e3)},"image/png")},i.onerror=()=>{throw new Error("Failed to load SVG for conversion")};const o=URL.createObjectURL(r);i.src=o}else await DO(s.receipt,e,s.mimeType),u(!0),setTimeout(()=>u(!1),3e3)}catch(t){console.error(" Download failed:",t),alert("Failed to download receipt. Please try again.")}},className:BO,"aria-label":"Download receipt",children:[d.jsx(bw,{}),d.jsx("span",{children:c?"Downloaded!":"Download"})]}),d.jsxs("button",{onClick:()=>{if(s)try{if(console.log(" Starting print..."),"image/svg+xml"===s.mimeType){const t=document.querySelector(`.${VO} svg`);if(!t)throw new Error("SVG element not found");const n=(new XMLSerializer).serializeToString(t),r=window.open("","_blank");if(!r)throw new Error("Could not open print window. Please check your popup blocker.");r.document.write(`\n          <!DOCTYPE html>\n          <html>\n            <head>\n              <title>Receipt - Order ${e}</title>\n              <style>\n                body {\n                  margin: 0;\n                  padding: 20px;\n                  display: flex;\n                  justify-content: center;\n                  align-items: center;\n                  min-height: 100vh;\n                }\n                svg {\n                  max-width: 100%;\n                  height: auto;\n                }\n                @media print {\n                  body {\n                    padding: 0;\n                  }\n                }\n              </style>\n            </head>\n            <body>\n              ${n}\n              <script>\n                window.onload = function() {\n                  window.print();\n                  window.onafterprint = function() {\n                    window.close();\n                  };\n                };\n              <\/script>\n            </body>\n          </html>\n        `),r.document.close(),console.log(" Print dialog opened"),f(!0),setTimeout(()=>f(!1),3e3)}else{const e=((e,t="image/svg+xml")=>{try{const n=`data:${t};base64,${e}`,r=window.open("","_blank");if(!r)throw new Error("Could not open print window. Please check your popup blocker.");return r.document.write(`\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Receipt</title>\n          <style>\n            body {\n              margin: 0;\n              padding: 20px;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              min-height: 100vh;\n            }\n            img {\n              max-width: 100%;\n              height: auto;\n            }\n            @media print {\n              body {\n                padding: 0;\n              }\n            }\n          </style>\n        </head>\n        <body>\n          <img src="${n}" alt="Receipt" onload="window.print(); window.close();" />\n        </body>\n      </html>\n    `),r.document.close(),!0}catch(o){return console.error("Error printing receipt:",o),!1}})(s.receipt,s.mimeType);if(!e)throw new Error("Print failed");f(!0),setTimeout(()=>f(!1),3e3)}}catch(t){console.error(" Print failed:",t),alert("Failed to print receipt. Please try again.")}},className:$O,"aria-label":"Print receipt",children:[d.jsx(Ew,{}),d.jsx("span",{children:h?"Printing...":"Print"})]})]})]}),c&&d.jsx("div",{className:MO,children:" Receipt downloaded successfully!"}),d.jsx("div",{className:qO,children:"image/svg+xml"===s.mimeType?d.jsx("div",{className:VO,dangerouslySetInnerHTML:{__html:atob(s.receipt)}}):d.jsx("img",{src:`data:${s.mimeType};base64,${s.receipt}`,alt:"Receipt",className:VO,onLoad:()=>console.log(" Image loaded successfully"),onError:e=>{var t,n;console.error(" Image failed to load:",e),console.error("Image src length:",null==(t=e.target.src)?void 0:t.length),console.error("First 100 chars:",null==(n=e.target.src)?void 0:n.substring(0,100))}})}),d.jsx("div",{className:HO,children:d.jsx("p",{className:WO,children:"Your receipt has been generated successfully. You can download or print it for your records."})})]})},tD=()=>{var e;const[t,n]=g.useState(""),r=g.useRef(null),i=ke(),s=Ee(),{isGuestCheckout:a}=Hr(e=>e.guest||{isGuestCheckout:!1});g.useEffect(()=>{console.log("OrderSuccess - Guest Checkout Status:",a)},[a]);const o=(null==(e=i.state)?void 0:e.orderDetails)||{orderId:"Unknown",total:0,items:[],paymentMethod:"Unknown",paymentStatus:"pending",status:"processing"};g.useEffect(()=>{console.log("OrderSuccess - Order Details:",o)},[o]);return d.jsxs("div",{className:eO,children:[d.jsxs("div",{className:tO,children:[d.jsx(fw,{className:nO}),d.jsx("h1",{className:rO,children:"Order Confirmed"}),d.jsxs("p",{className:iO,children:["Thank you for your purchase! Your order has been successfully placed and will be processed shortly.","cod"===o.paymentMethod?" You will pay when your order is delivered.":" Your payment was successful."]})]}),d.jsxs("div",{className:sO,children:[d.jsxs("div",{className:aO,children:[d.jsxs("div",{children:[d.jsx("h3",{children:"Order Reference"}),d.jsx("p",{className:oO,ref:r,children:o.orderId})]}),d.jsxs("button",{className:lO,onClick:()=>{r.current&&navigator.clipboard.writeText(o.orderId).then(()=>{n("Order ID copied!"),setTimeout(()=>n(""),3e3)}).catch(e=>{n("Failed to copy"),console.error("Copy failed: ",e)})},"aria-label":"Copy order ID",children:[d.jsx(yw,{})," Copy"]})]}),t&&d.jsx("div",{className:cO,children:t}),d.jsxs("div",{className:uO,children:[d.jsx("strong",{children:"Important:"})," Please save your Order ID to easily track your order status in the future."]})]}),a&&d.jsx("div",{className:dO,children:d.jsxs("p",{children:[d.jsx("strong",{children:"Guest checkout:"})," Since you're checking out as a guest, you'll need your Order ID to track your order status."]})}),d.jsxs("div",{className:hO,children:[d.jsx("h2",{children:"Order Summary"}),d.jsxs("div",{className:fO,children:[d.jsxs("div",{className:pO,children:[d.jsx(hw,{}),d.jsxs("div",{children:[d.jsx("h4",{children:"Date"}),d.jsx("p",{children:(l=o.createdAt||new Date,new Date(l).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}))})]})]}),d.jsxs("div",{className:pO,children:[d.jsx(dw,{}),d.jsxs("div",{children:[d.jsx("h4",{children:"Status"}),d.jsx("p",{style:{color:(e=>{switch(e){case"processing":default:return"#f59e0b";case"shipped":return"#3b82f6";case"delivered":return"#10b981";case"cancelled":return"#ef4444"}})(o.status)},children:(e=>{switch(e){case"processing":default:return"Processing";case"shipped":return"Shipped";case"delivered":return"Delivered";case"cancelled":return"Cancelled"}})(o.status)})]})]}),d.jsxs("div",{className:pO,children:[d.jsx(vw,{}),d.jsxs("div",{children:[d.jsx("h4",{children:"Payment"}),d.jsxs("p",{children:["cod"===o.paymentMethod?"Cash On Delivery":"Credit/Debit Card",d.jsxs("span",{className:mO,children:["(","paid"===o.paymentStatus?"Paid":"Pending",")"]})]})]})]}),d.jsxs("div",{className:pO,children:[d.jsx(Nw,{}),d.jsxs("div",{children:[d.jsx("h4",{children:"Total"}),d.jsxs("p",{className:gO,children:["AED ",o.total.toFixed(2)]})]})]})]}),d.jsx("h3",{children:"Items Purchased"}),d.jsx("div",{className:yO,children:o.items.map((e,t)=>d.jsxs("div",{className:vO,children:[d.jsx("div",{className:bO,style:{backgroundImage:`url(${e.image})`}}),d.jsxs("div",{className:_O,children:[d.jsx("p",{className:wO,children:e.name}),d.jsxs("div",{className:xO,children:[e.size&&d.jsxs("span",{className:kO,children:["Size: ",e.size]}),e.displayColor&&d.jsx("span",{className:SO,style:{background:e.displayColor},title:e.color}),e.quantity>1&&d.jsxs("span",{className:CO,children:["Qty: ",e.quantity]})]}),d.jsxs("p",{className:EO,children:["AED ",e.price]})]})]},t))})]}),d.jsxs("div",{className:TO,children:[d.jsx("h3",{children:"What's Next?"}),a?d.jsx("p",{children:"You can track your order status using your Order ID anytime."}):d.jsx("p",{children:"You can check your order status anytime in your account orders section."})]}),d.jsxs("div",{className:NO,children:[d.jsx("h2",{className:IO,children:"Your Receipt"}),d.jsx(eD,{orderId:o.orderId,autoFetch:!0})]}),d.jsxs("div",{className:jO,children:[d.jsx(ft,{to:"/",className:AO,children:"Continue Shopping"}),d.jsx("button",{onClick:()=>{console.log("Track order button clicked, isGuestCheckout:",a),console.log("Order details being passed:",o),a?s(`/track-order?orderId=${o.orderId}`,{state:{orderId:o.orderId,orderData:{...o,id:o.orderId,items:o.items||[],total:o.total||0,status:o.status||"processing",paymentMethod:o.paymentMethod||"Unknown",paymentStatus:o.paymentStatus||"pending"}}}):s("/account?tab=orders")},className:`${PO} ${OO}`,children:a?"Track Order":"View Orders"})]})]});var l};function nD(){const{pathname:e}=ke();return g.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const rD=()=>{const e=$r(),{currentUser:t,isAuthenticated:n,loading:r}=tk()||{};return g.useEffect(()=>{r||(n&&t?(e(bx(t.uid)),e(Fx(t.uid))):(e(jx(!1)),e(Gx(!1))))},[e,t,n,r]),null},iD="_layoutContainer_8rfuk_1",sD="_mainContent_8rfuk_13",aD=()=>d.jsxs("div",{className:iD,children:[d.jsx(sw,{}),d.jsx("main",{className:sD,children:d.jsx(Fe,{})}),d.jsx(Pw,{})]}),oD=({children:e})=>e,lD=()=>{const e=ke(),t=e.pathname;return d.jsx(gn,{mode:"wait",children:d.jsxs($e,{location:e,children:[d.jsxs(Ue,{element:d.jsx(aD,{}),children:[d.jsx(Ue,{path:"/",element:d.jsx(oD,{children:d.jsx(Ww,{})})}),d.jsx(Ue,{path:"/about",element:d.jsx(oD,{children:d.jsx(iS,{})})}),d.jsx(Ue,{path:"/shop/*",element:d.jsx(oD,{children:d.jsx(AC,{})})}),d.jsx(Ue,{path:"/product/*",element:d.jsx(oD,{children:d.jsx(jN,{})})}),d.jsx(Ue,{path:"/cart",element:d.jsx(oD,{children:d.jsx(DN,{})})}),d.jsx(Ue,{path:"/favorites",element:d.jsx(oD,{children:d.jsx(RP,{})})}),d.jsx(Ue,{path:"/buy",element:d.jsx(oD,{children:d.jsx(kj,{})})}),d.jsx(Ue,{path:"/order-success",element:d.jsx(oD,{children:d.jsx(tD,{})})}),d.jsx(Ue,{path:"/track-order",element:d.jsx(oD,{children:d.jsx(ZP,{})})}),d.jsx(Ue,{path:"/privacy-policy",element:d.jsx(oD,{children:d.jsx(iP,{})})}),d.jsx(Ue,{path:"/terms-and-conditions",element:d.jsx(oD,{children:d.jsx(aP,{})})}),d.jsx(Ue,{path:"/faq",element:d.jsx(oD,{children:d.jsx(XP,{})})}),d.jsx(Ue,{path:"/account",element:d.jsx(oD,{children:d.jsx(DA,{})})}),d.jsx(Ue,{path:"*",element:d.jsx(oD,{children:d.jsx(UA,{})})})]}),d.jsx(Ue,{path:"/signup",element:d.jsx(oD,{children:d.jsx(ik,{})})}),d.jsx(Ue,{path:"/login",element:d.jsx(oD,{children:d.jsx(_k,{})})}),d.jsx(Ue,{path:"/forgot-password",element:d.jsx(oD,{children:d.jsx(KA,{})})})]},t)})},cD=()=>d.jsx(lr,{children:d.jsxs(dt,{children:[d.jsx(nD,{}),d.jsx(rD,{}),d.jsx(rn,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastClassName:"custom-toast",progressClassName:"custom-progress",icon:({type:e})=>"success"===e?"":"error"===e?"!":"i",limit:3}),d.jsx(xr,{children:d.jsx(lD,{})})]})});br(),L.createRoot(document.getElementById("root")).render(d.jsx(Rr,{store:Jx,children:d.jsx(nk,{children:d.jsx(cD,{})})}));
